System.register("chunks:///_virtual/LongCat",["./LongCatView.ts"],(function(){"use strict";return{setters:[null],execute:function(){}}}));

System.register("chunks:///_virtual/LongCatView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUIForm.ts","./UIManager.ts","./GameUIConfig.ts"],(function(t){"use strict";var e,i,o,n,r,s,a,l,h,m,c,u,d,f,p,I;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized,r=t.createForOfIteratorHelperLoose},function(t){s=t.cclegacy,a=t._decorator,l=t.Node,h=t.Color,m=t.v3,c=t.instantiate,u=t.UITransform,d=t.Sprite},function(t){f=t.default},function(t){p=t.default},function(t){I=t.UIID}],execute:function(){var v,S,g,z,C,w,N,y,B,F,P;s._RF.push({},"c0017SB9J1FBpg3PTajk3Fy","LongCatView",void 0);var b=a.ccclass,D=a.property;t("LongCatView",(v=b("LongCatView"),S=D(l),g=D(l),z=D(l),C=D(l),v((y=e((N=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,o(e,"DiNode",y,n(e)),o(e,"itemdiNode",B,n(e)),o(e,"WallParentNode",F,n(e)),o(e,"itemwallNode",P,n(e)),e.mapdata=[[0,0,0,-2],[0,-1,0,0],[-2,0,2,0],[-2,0,0,0]],e.rows=void 0,e.cols=void 0,e.directions=[[0,1],[0,-1],[1,0],[-1,0]],e.ItemdiColor=["AA5C6E","E67B5F","ABB6EE","5E86DA","5AD566"],e.ItemColor=["FD7AB8","FFBA8F","E4C2FF","00CDFF","9FF2A8"],e.ItemSize=1,e}i(e,t);var s=e.prototype;return s.start=function(){},s.update=function(t){},s.init=function(){this.CreateRoad()},s.CreateRoad=function(){var t=new h,e=new h;h.fromHEX(t,this.ItemdiColor[0]),h.fromHEX(e,this.ItemColor[0]),this.rows=this.mapdata.length,this.cols=this.mapdata[0].length,this.rows<=4&&this.cols<=4&&(this.ItemSize=2);for(var i=0;i<this.rows;i++)for(var o=(this.rows-1)*this.ItemSize*80/2-i*this.ItemSize*80,n=0;n<this.cols;n++){var r=n*this.ItemSize*80-(this.cols-1)*this.ItemSize*80/2,s=m(r,o,0);if(this.mapdata[i][n]>=-1){var a=c(this.itemdiNode);a.active=!0,a.parent=this.DiNode,a.getComponent(u).width=80*this.ItemSize,a.getComponent(u).height=80*this.ItemSize,a.setPosition(s),a.getComponent(d).color=t}if(-1==this.mapdata[i][n]){var l=c(this.itemwallNode);l.active=!0,l.parent=this.WallParentNode,l.getComponent(u).width=80*this.ItemSize,l.getComponent(u).height=80*this.ItemSize,l.setPosition(s),l.getComponent(d).color=e;var f=l.getChildByName("1");f.setScale(this.ItemSize,this.ItemSize,1),f.setPosition(-1*this.ItemSize*80/2,f.position.y,0);var p=l.getChildByName("2");p.setScale(this.ItemSize,this.ItemSize,1),p.setPosition(p.position.x,-1*this.ItemSize*80/2,0)}if(2==this.mapdata[i][n]){var I=c(this.itemwallNode);I.active=!0,I.parent=this.WallParentNode,I.getComponent(u).width=80*this.ItemSize,I.getComponent(u).height=80*this.ItemSize,I.setPosition(s),I.getComponent(d).color=h.RED;var v=I.getChildByName("1");v.setScale(this.ItemSize,this.ItemSize,1),v.setPosition(-1*this.ItemSize*80/2,v.position.y,0);var S=I.getChildByName("2");S.setScale(this.ItemSize,this.ItemSize,1),S.setPosition(S.position.x,-1*this.ItemSize*80/2,0)}}},s.walk=function(){var t=this.findStart();if(!t)return console.error("未找到起点"),!1;var e=t[0],i=t[1];return this.dfs(e,i)},s.dfs=function(t,e){if(t<0||e<0||t>=this.rows||e>=this.cols||this.mapdata[t][e]<=0)return!1;if(this.mapdata[t][e]=1,this.isComplete())return!0;for(var i,o=r(this.directions);!(i=o()).done;){var n=i.value,s=n[0],a=n[1],l=this.moveUntilBlocked(t,e,s,a),h=l[0],m=l[1];if(this.dfs(h,m))return!0}return this.mapdata[t][e]=0,!1},s.moveUntilBlocked=function(t,e,i,o){for(;t+i>=0&&t+i<this.rows&&e+o>=0&&e+o<this.cols&&this.mapdata[t+i][e+o]>0;)t+=i,e+=o;return[t,e]},s.findStart=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.cols;e++)if(2===this.mapdata[t][e])return[t,e];return null},s.isComplete=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.cols;e++)if(0===this.mapdata[t][e])return!1;return!0},s.onBtnPause=function(){p.GetInstance().ShowUIForms(I.SettingUI)},s.onBtnRestart=function(){},s.onBtnNextLevel=function(){},e}(f)).prototype,"DiNode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(N.prototype,"itemdiNode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(N.prototype,"WallParentNode",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(N.prototype,"itemwallNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=N))||w));s._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/LongCat', 'chunks:///_virtual/LongCat'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});