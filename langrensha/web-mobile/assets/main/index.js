System.register("chunks:///_virtual/AbstractResourceControl.ts",["cc","./AssetManager.ts"],(function(e){"use strict";var t,s;return{setters:[function(e){t=e.cclegacy},function(e){s=e.AssetManager}],execute:function(){t._RF.push({},"f57bcZs599A445aWIm87UL/","AbstractResourceControl",void 0);e("AbstractResourceControl",function(){function e(){this.resPkg=void 0}var t=e.prototype;return t.PreLoadAssetBundle=function(e,t){s.Instance.PreLoadResPkg(this.resPkg,e,t)},t.ReleaseResources=function(){s.Instance.UnLoadAssetBundleAllAsset(this.resPkg)},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/AdBridge.ts",["cc","./AdManager.ts","./HomeView.ts","./TipManager.ts","./AdsIdConfig.ts"],(function(e){"use strict";var a,n,t,c,s;return{setters:[function(e){a=e.cclegacy},function(e){n=e.default},function(e){t=e.HomeView},function(e){c=e.TipManager},function(e){s=e.AdType}],execute:function(){var i;e("PlatForm",void 0),a._RF.push({},"7af79ahXO1ME6gHVoV4L59h","AdBridge",void 0),function(e){e[e.Android=0]="Android",e[e.TikTok=1]="TikTok",e[e.OPPO=2]="OPPO",e[e.VIVO=3]="VIVO",e[e.HuaWei=4]="HuaWei",e[e.Wechat=5]="Wechat",e[e.QQ=6]="QQ",e[e.KS=7]="KS",e[e.Default=8]="Default"}(i||(i=e("PlatForm",{})));var o=e("AdBridge",function(){function e(){}return e.SetMiniGame=function(a){e.adPlatForm=a},e.ShowRewardVideo=function(a,t){if(e.isDebugMode)a&&a();else switch(e.adPlatForm){case i.TikTok:case i.OPPO:case i.VIVO:case i.Wechat:case i.QQ:case i.HuaWei:case i.KS:n.getInstance().showVideo((function(e){1==e?a():2==e&&(console.log("fail"),c.Instance.ShowTip("播放广告失败,不能获得奖励!"))}));break;case i.Android:break;default:c.Instance.ShowTip("暂无广告!")}},e.OnCloseInterstitialAd=function(){if(e.canShowHomeIconAd)switch(e.adPlatForm){case i.Wechat:t.canCheck||n.getInstance().ShowHomeIconAd()}},e.ShowHomePanel=function(){switch(e.isInGame=!1,e.adPlatForm){case i.QQ:case i.Wechat:e.canShowHomeIconAd=!0,n.getInstance().showGameClubBtn(),e.isFromGame?(n.getInstance().HideBannerNativeAd(),n.getInstance().HideHomeIconAd(),e.isFromGame=!1):t.canCheck||n.getInstance().ShowHomeIconAd();break;case i.TikTok:case i.KS:break;case i.OPPO:n.getInstance().playNewAd(s.Banner);break;case i.VIVO:n.getInstance().playNewAd(s.Banner),n.getInstance().showNavigateBoxPortal();break;case i.HuaWei:case i.Android:}},e.OnClickHomeSetting=function(){switch(e.adPlatForm){case i.Wechat:n.getInstance().hideGameClubBtn(),n.getInstance().hideBanner(),n.getInstance().ShowSideAd(),n.getInstance().HideHomeIconAd();break;case i.TikTok:case i.KS:n.getInstance().showInsertAd();break;case i.OPPO:n.getInstance().showNavigateBoxPortal();break;case i.VIVO:case i.HuaWei:n.getInstance().showInsertAd(),n.getInstance().hideBanner();break;case i.Android:}},e.OnClickSettingCloseBtn=function(){switch(e.adPlatForm){case i.TikTok:case i.KS:break;case i.OPPO:case i.VIVO:case i.Wechat:case i.QQ:case i.HuaWei:e.canShowHomeIconAd=!0,n.getInstance().showInsertAd(),n.getInstance().HideSideAd(),n.getInstance().playNewAd(s.Banner);break;case i.Android:}},e.ShowSkinPanel=function(){switch(e.adPlatForm){case i.Wechat:n.getInstance().ShowSideAd(),n.getInstance().HideHomeIconAd(),n.getInstance().hideBanner();break;case i.QQ:n.getInstance().hideBanner();break;case i.TikTok:n.getInstance().showInsertAd();break;case i.OPPO:case i.VIVO:n.getInstance().showCustomAd(),n.getInstance().hideBanner();break;case i.HuaWei:case i.Android:}},e.OnClickSkinCloseBtn=function(){switch(e.adPlatForm){case i.TikTok:n.getInstance().showInsertAd();break;case i.Wechat:case i.QQ:n.getInstance().HideSideAd(),n.getInstance().showInsertAd(),n.getInstance().playNewAd(s.Banner);break;case i.OPPO:case i.VIVO:case i.HuaWei:n.getInstance().playNewAd(s.Banner),n.getInstance().hideCustomAd();break;case i.Android:}},e.ShowSpinPanel=function(){switch(e.adPlatForm){case i.Wechat:n.getInstance().ShowSideAd(),n.getInstance().HideHomeIconAd(),n.getInstance().hideBanner();break;case i.QQ:n.getInstance().hideBanner();break;case i.TikTok:n.getInstance().showInsertAd();break;case i.OPPO:case i.VIVO:n.getInstance().hideBanner(),n.getInstance().showCustomAd();break;case i.HuaWei:case i.Android:}},e.OnClickSpinCloseBtn=function(){switch(e.adPlatForm){case i.TikTok:n.getInstance().showInsertAd();break;case i.Wechat:case i.QQ:n.getInstance().HideSideAd(),n.getInstance().showInsertAd(),n.getInstance().playNewAd(s.Banner);break;case i.OPPO:case i.VIVO:case i.HuaWei:n.getInstance().playNewAd(s.Banner),n.getInstance().hideCustomAd();break;case i.Android:}},e.OnClickSignInBtn=function(){switch(e.adPlatForm){case i.Wechat:case i.QQ:n.getInstance().hideBanner();break;case i.TikTok:n.getInstance().showInsertAd();break;case i.OPPO:case i.VIVO:n.getInstance().hideBanner(),n.getInstance().showCustomAd();break;case i.HuaWei:case i.Android:}},e.OnShowSignInView=function(){switch(e.adPlatForm){case i.Wechat:case i.QQ:n.getInstance().ShowSideAd(),n.getInstance().HideHomeIconAd(),n.getInstance().hideBanner();break;case i.TikTok:break;case i.OPPO:case i.VIVO:case i.HuaWei:case i.Android:}},e.OnHideSignInView=function(){switch(e.adPlatForm){case i.Wechat:n.getInstance().HideSideAd(),n.getInstance().showInsertAd();break;case i.TikTok:break;case i.OPPO:n.getInstance().hideCustomAd();break;case i.VIVO:case i.HuaWei:case i.Android:}},e.OnClickSignInCloseBtn=function(){switch(e.adPlatForm){case i.TikTok:break;case i.Wechat:n.getInstance().HideSideAd(),n.getInstance().showInsertAd();break;case i.OPPO:case i.VIVO:case i.QQ:case i.HuaWei:n.getInstance().hideCustomAd(),n.getInstance().playNewAd(s.Banner);break;case i.Android:}},e.OnHomePageClickBack=function(){switch(e.adPlatForm){case i.TikTok:break;case i.Wechat:n.getInstance().showGameClubBtn();break;case i.QQ:case i.OPPO:n.getInstance().playNewAd(s.Banner);break;case i.VIVO:case i.HuaWei:n.getInstance().playNewAd(s.Banner),n.getInstance().showNavigateBoxPortal();break;case i.Android:}},e.IntoGame=function(a){switch(e.isInGame=!0,console.log("进入游戏 isInGame"),e.adPlatForm){case i.Wechat:e.canShowHomeIconAd=!1,n.getInstance().hideGameClubBtn(),n.getInstance().ShowBannerNativeAd(),n.getInstance().HideHomeIconAd();break;case i.TikTok:break;case i.OPPO:case i.VIVO:case i.HuaWei:case i.Wechat:case i.QQ:n.getInstance().playNewAd(s.Banner);break;case i.Android:}},e.OnSurviveModeStart=function(){switch(e.adPlatForm){case i.Wechat:}},e.openBannerNative=function(){setTimeout((function(){if(e.isInGame)switch(e.adPlatForm){case i.Wechat:n.getInstance().ShowBannerNativeAd()}}),100)},e.closeBannerNative=function(){switch(e.adPlatForm){case i.Wechat:n.getInstance().HideBannerNativeAd()}},e.OnGameVictory=function(){switch(e.adPlatForm){case i.Wechat:n.getInstance().showInsertAd(),n.getInstance().HideGameIconAd(),n.getInstance().hideBanner(),n.getInstance().HideBannerNativeAd();break;case i.QQ:n.getInstance().playNewAd(s.Banner);break;case i.TikTok:case i.KS:n.getInstance().showInsertAd();break;case i.OPPO:case i.VIVO:n.getInstance().hideBanner(),n.getInstance().showCustomAd();break;case i.HuaWei:case i.Android:}},e.OnGameFail=function(){switch(e.adPlatForm){case i.Wechat:n.getInstance().showInsertAd(),n.getInstance().HideGameIconAd(),n.getInstance().hideBanner(),n.getInstance().HideBannerNativeAd();break;case i.QQ:n.getInstance().playNewAd(s.Banner);break;case i.TikTok:case i.KS:n.getInstance().showInsertAd();break;case i.OPPO:case i.VIVO:n.getInstance().hideBanner(),n.getInstance().showCustomAd();break;case i.HuaWei:case i.Android:}},e.OnGameClickSetting=function(){switch(e.adPlatForm){case i.Wechat:n.getInstance().showInsertAd(),n.getInstance().hideBanner();case i.QQ:break;case i.TikTok:case i.KS:n.getInstance().showInsertAd();break;case i.OPPO:n.getInstance().showNavigateBoxPortal(),n.getInstance().hideBanner();break;case i.VIVO:case i.HuaWei:n.getInstance().showInsertAd(),n.getInstance().hideBanner();break;case i.Android:}},e.OnGameClickHomeBtn=function(){switch(e.adPlatForm){case i.Wechat:case i.QQ:n.getInstance().playNewAd(s.Banner);break;case i.TikTok:break;case i.OPPO:n.getInstance().playNewAd(s.Banner);break;case i.VIVO:n.getInstance().playNewAd(s.Banner),n.getInstance().showNavigateBoxPortal();break;case i.HuaWei:case i.Android:}},e.OnShowRewardView=function(){switch(e.adPlatForm){case i.Wechat:n.getInstance().hideBanner(),n.getInstance().HideHomeIconAd(),n.getInstance().ShowSideAd();break;case i.QQ:n.getInstance().hideBanner();break;case i.TikTok:break;case i.OPPO:case i.VIVO:n.getInstance().hideBanner(),n.getInstance().showCustomAd();break;case i.HuaWei:case i.Android:}},e.OnHideReviveView=function(){switch(e.adPlatForm){case i.Wechat:case i.QQ:n.getInstance().playNewAd(s.Banner),n.getInstance().HideSideAd(),n.getInstance().showInsertAd();break;case i.TikTok:break;case i.OPPO:n.getInstance().hideCustomAd(),n.getInstance().playNewAd(s.Banner);case i.VIVO:case i.HuaWei:case i.Android:}},e.OnHideRewardView=function(){},e.OnGameClickContinueBtn=function(){switch(e.adPlatForm){case i.Wechat:case i.QQ:n.getInstance().ShowGameIconAd(),n.getInstance().playNewAd(s.Banner);break;case i.TikTok:break;case i.OPPO:case i.VIVO:n.getInstance().playNewAd(s.Banner);break;case i.HuaWei:case i.Android:}},e.ExitGame=function(){switch(e.adPlatForm){case i.Wechat:e.isFromGame=!0,n.getInstance().hideCustomAd(),n.getInstance().HideGameIconAd(),n.getInstance().showInsertAd();break;case i.QQ:n.getInstance().playNewAd(s.Banner);break;case i.TikTok:break;case i.OPPO:case i.VIVO:n.getInstance().hideCustomAd();break;case i.HuaWei:case i.Android:}},e.ShowRevivePanel=function(){switch(e.adPlatForm){case i.Wechat:n.getInstance().ShowSideAd(),n.getInstance().hideBanner()}},e.HideRevivePanel=function(){switch(e.adPlatForm){case i.Wechat:n.getInstance().HideSideAd(),n.getInstance().hideBanner()}},e.ShowMoreTimePanel=function(){switch(e.adPlatForm){case i.Wechat:n.getInstance().showInsertAd(),n.getInstance().hideBanner()}},e.ClickMatch=function(){switch(e.adPlatForm){case i.Wechat:e.canShowHomeIconAd=!1,n.getInstance().hideBanner(),n.getInstance().hideGameClubBtn(),n.getInstance().HideHomeIconAd(),n.getInstance().ShowSideAd()}},e.OnHostileModeGameStart=function(){switch(e.adPlatForm){case i.Wechat:n.getInstance().hideGameClubBtn(),n.getInstance().ShowGameIconAd(),n.getInstance().ShowBannerNativeAd(),n.getInstance().HideSideAd()}},e.HostileModeVictory=function(){switch(e.adPlatForm){case i.Wechat:n.getInstance().showInsertAd(),n.getInstance().HideGameIconAd(),n.getInstance().hideBanner()}},e.HostileModeFail=function(){switch(e.adPlatForm){case i.Wechat:n.getInstance().showInsertAd(),n.getInstance().HideGameIconAd(),n.getInstance().hideBanner()}},e.HostileModeExit=function(){switch(e.adPlatForm){case i.Wechat:e.isFromGame=!0,n.getInstance().HideGameIconAd(),n.getInstance().hideCustomAd(),n.getInstance().HideBannerNativeAd(),n.getInstance().showInsertAd()}},e.ShowMoreGamePanel=function(a){switch(e.adPlatForm){case i.Wechat:a?(n.getInstance().reportAnalytics("clickmoregamebtn",{}),n.getInstance().ShowMoreGamesAd(),n.getInstance().ShowSideAd(),n.getInstance().HideHomeIconAd()):(n.getInstance().HideMoreGamesAd(),n.getInstance().HideSideAd(),n.getInstance().ShowHomeIconAd())}},e.OnShowTrySkinPanel=function(){switch(e.adPlatForm){case i.Wechat:n.getInstance().ShowSideAd()}},e.OnHideTrySkinPanel=function(){switch(e.adPlatForm){case i.Wechat:n.getInstance().HideSideAd()}},e.OnSurviveModeHideBoost=function(){switch(e.adPlatForm){case i.Wechat:n.getInstance().HideSideAd(),n.getInstance().ShowGameIconAd(),n.getInstance().hideGameClubBtn()}},e.OnHideNotice=function(){switch(e.adPlatForm){case i.Wechat:n.getInstance().ShowHomeIconAd()}},e.IntoRescueMode=function(){switch(e.adPlatForm){case i.Wechat:n.getInstance().HideHomeIconAd(),n.getInstance().hideBanner()}},e.OnRescueModeShow=function(){switch(e.adPlatForm){case i.Wechat:n.getInstance().HideGameIconAd(),n.getInstance().hideBanner()}},e}());o.isDebugMode=!0,o.adPlatForm=void 0,o.canShowHomeIconAd=!1,o.isFromGame=!1,o.isInGame=!1,a._RF.pop()}}}));

System.register("chunks:///_virtual/AdIconInfo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AdManager.ts"],(function(t){"use strict";var i,e,n,o,c,a,l,s,r,u,h,d,f;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){c=t.cclegacy,a=t._decorator,l=t.Node,s=t.Sprite,r=t.Input,u=t.assetManager,h=t.SpriteFrame,d=t.Component},function(t){f=t.default}],execute:function(){var v,p,I,g,_,b,m,k,y;c._RF.push({},"4150cQ7UVlLpYScKdgPyrLX","AdIconInfo",void 0);var N=a.ccclass,T=a.property;t("AdIconInfo",(v=N("AdIconInfo"),p=T(l),I=T(l),g=T(l),v((m=i((b=function(t){function i(){for(var i,e=arguments.length,c=new Array(e),a=0;a<e;a++)c[a]=arguments[a];return i=t.call.apply(t,[this].concat(c))||this,n(i,"icon",m,o(i)),n(i,"close_btn",k,o(i)),n(i,"click",y,o(i)),i.nativeInfo=null,i}e(i,t);var c=i.prototype;return c.onEnable=function(){this.initView(),this.addEvent()},c.initView=function(){var t=this;if(this.nativeInfo=f.getInstance().showNativeIconAd(),console.log("原生icon=====>"),this.click&&(this.click.active=!1),this.nativeInfo&&this.nativeInfo.adId&&(this.nativeInfo.Native_icon_url||this.nativeInfo.Native_BigImage_url)){f.getInstance().reportNativeIconShow(this.nativeInfo.adId);var i=this.nativeInfo.Native_icon_url;i||(i=this.nativeInfo.Native_BigImage_url),this.loadAdSprite(this.icon.getComponent(s),i),this.click&&(this.click.active=!0)}else this.node.active=!1;setTimeout((function(){t.node&&t.node.active&&(f.getInstance().loadNativeIcon(),t.initView())}),3e4)},c.addEvent=function(){this.node.on(r.EventType.TOUCH_END,this.nativeClick,this),this.click&&this.click.on(r.EventType.TOUCH_END,this.nativeClick,this),this.close_btn.on(r.EventType.TOUCH_END,this.closeThisNode,this)},c.nativeClick=function(){f.getInstance().reportNativeIconClick(this.nativeInfo.adId),this.node.active=!1},c.closeThisNode=function(){this.node.active=!1,this.click&&(this.click.active=!1)},c.onDisable=function(){f.getInstance().loadNativeIcon()},c.loadAdSprite=function(t,i){i.indexOf(".png")>-1||i.indexOf(".jpg")>-1?u.loadRemote(i,function(i,e){null==i&&null!=e&&(console.log("====>",e),t.spriteFrame=h.createWithImage(e))}.bind(this)):u.loadRemote(i,{ext:".png"},function(i,e){null==i&&null!=e&&(console.log("====>",e),t.spriteFrame=h.createWithImage(e))}.bind(this))},i}(d)).prototype,"icon",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=i(b.prototype,"close_btn",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=i(b.prototype,"click",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=b))||_));c._RF.pop()}}}));

System.register("chunks:///_virtual/AdLogUtil.ts",["cc"],(function(n){"use strict";var o;return{setters:[function(n){o=n.cclegacy}],execute:function(){o._RF.push({},"8514cC4Td5DJ6raggn/gbzY","AdLogUtil",void 0);var i=n("AdLogUtil",function(){function n(){}return n.InitLogUtil=function(o){n.isOpenLg=o},n.Log=function(o){if(n.isOpenLg){var i=n.logTag+":"+o;console.log(i)}},n.LogObj=function(){if(n.isOpenLg){for(var o=arguments.length,i=new Array(o),t=0;t<o;t++)i[t]=arguments[t];console.log(i)}},n.Error=function(o){if(n.isOpenLg){var i=n.logTag+":"+o;console.error(i)}},n}());i.isOpenLg=!1,i.logTag="SDKWapper",o._RF.pop()}}}));

System.register("chunks:///_virtual/AdManager.ts",["cc","./OppoADApi.ts","./VivoADApi.ts","./WXADApi.ts","./HuaWeiADApi.ts","./AdsIdConfig.ts","./CloseADApi.ts","./TiktokADApi.ts","./AdLogUtil.ts","./KSADApi.ts"],(function(t){"use strict";var i,o,a,e,n,p,s,A,r,d,l,f,h,m;return{setters:[function(t){i=t.cclegacy,o=t._decorator,a=t.director},function(t){e=t.default},function(t){n=t.default},function(t){p=t.default},function(t){s=t.default},function(t){A=t.EPlatform,r=t.default,d=t.AdType},function(t){l=t.CloseADApi},function(t){f=t.default},function(t){h=t.AdLogUtil},function(t){m=t.default}],execute:function(){var c,u;t("ResultEnum",void 0),i._RF.push({},"02cf7I0SQdGs52lwcyAQpDY","AdManager",void 0);var v,w=o.ccclass;o.property;!function(t){t[t.Success=1]="Success",t[t.Fail=2]="Fail"}(v||(v=t("ResultEnum",{})));t("default",w(((u=function(){function t(){this.platform=A.Close,this.platformAdApi=null,this.transactionId=0x8ac5321e93309000,this.gameClubBtn=null,this.ADNewInterval=[],this.ADNewAdAry=[],this.CustomType12_interval=[],this.ADNewNativeType12_interval=[],this.PassiveVideo_interval=0,this.AdCustomBanner_interval=0}t.getInstance=function(){return null==this._adManager&&(this._adManager=new t),this._adManager};var i=t.prototype;return i.onInit=function(t){var i=this;switch(this.platform){case A.Close:this.platformAdApi=new l;break;case A.OPPO:this.platformAdApi=new e;break;case A.VIVO:this.platformAdApi=new n;break;case A.TikTok:this.platformAdApi=new f;break;case A.KS:this.platformAdApi=new m;break;case A.HUAWEI:this.platformAdApi=new s;break;case A.WX:this.platformAdApi=new p}h.Log("current platform: "+this.platform),r.getAdConfigWeb((function(){i.startLoadAd(t)}))},i.startLoadAd=function(t){var i;null!=r.adConfig&&(this.platformAdApi.ADNewConfig=[],this.setAllAdConfig()),h.Log("获取server配置成功!"),null==(i=this.platformAdApi)||i.onInit(t)},i.setAllAdConfig=function(){h.Log("setAllAdConfig!");for(var t=r.adConfig.data.positions,i=0;i<t.length;i++)t[i].vendor_position&&t[i].enabled&&(t[i].ad_type==d.Banner?this.platformAdApi.SystemBannerData=t[i]:t[i].ad_type==d.插屏?this.platformAdApi.SystemIntersData=t[i]:t[i].ad_type==d.激励视频?this.platformAdApi.VideoData=t[i]:t[i].ad_type==d.原生Banner?this.platformAdApi.NativeBannerData=t[i]:t[i].ad_type==d.原生插屏?this.platformAdApi.NativeIntersData=t[i]:t[i].ad_type==d.原生开屏?this.platformAdApi.JGGBoxData=t[i]:t[i].ad_type==d.浮标?this.platformAdApi.BlockData=t[i]:t[i].ad_type==d.原生模板?this.platformAdApi.AdCustomIntersData=t[i]:t[i].ad_type==d.原生模板渲染?10139085==t[i].position_id&&r.platform==A.VIVO?this.platformAdApi.AdCustomTypeData[1]=t[i]:10139086==t[i].position_id&&r.platform==A.VIVO?this.platformAdApi.AdCustomTypeData[2]=t[i]:10133541==t[i].position_id&&r.platform==A.OPPO?this.platformAdApi.AdCustomTypeData[1]=t[i]:10133542==t[i].position_id&&r.platform==A.OPPO&&(this.platformAdApi.AdCustomTypeData[2]=t[i]):t[i].ad_type==d.全屏视频?r.platform==A.VIVO?this.platformAdApi.AdCustomIntersData=t[i]:this.platformAdApi.NativeIconData=t[i]:t[i].ad_type==d.被动激励?(10139081==t[i].position_id&&r.platform==A.VIVO||10133537==t[i].position_id&&r.platform==A.OPPO)&&(this.platformAdApi.PassiveVideoData=t[i]):t[i].ad_type==d.原生自渲染?10139083==t[i].position_id?(this.platformAdApi.ADNewNativeTypeData[1]=t[i],console.log(this.platformAdApi.ADNewNativeTypeData[1])):10139084==t[i].position_id&&(this.platformAdApi.ADNewNativeTypeData[2]=t[i],console.log(this.platformAdApi.ADNewNativeTypeData[2]),console.log("this.platformAdApi.ADNewNativeTypeData[2]3333333333333333333")):t[i].ad_type==d.策略特异性点击||t[i].ad_type==d.策略其他点击||t[i].ad_type==d.策略过关非屏蔽地区||t[i].ad_type==d.策略过关屏蔽地区||t[i].ad_type==d.策略兜底||t[i].ad_type==d.策略banner||t[i].ad_type==d.标识非屏蔽地区||t[i].ad_type==d.样式原生icon||t[i].ad_type==d.样式信息流banner?(this.platformAdApi.ADNewConfig[t[i].ad_type]=t[i],console.log(this.platformAdApi.ADNewConfig[t[i].ad_type])):t[i].ad_type==d.信息流banner?10139079==t[i].position_id&&r.platform==A.VIVO&&(this.platformAdApi.AdCustomBannerData=t[i]):console.log(t[i].ad_type))},i.setGroup=function(t){this.platformAdApi&&this.platformAdApi.setGroup(t)},i.onLogin=function(t){this.platformAdApi&&this.platformAdApi.onLogin(t)},i.onShare=function(t){this.platformAdApi&&this.platformAdApi.onShare(t)},i.showBanner=function(t){r.platform!=A.Close&&this.platformAdApi&&this.platformAdApi.showBanner(t)},i.hideBanner=function(){this.platformAdApi&&this.platformAdApi.hideBanner()},i.showVideo=function(t,i){if(void 0===i&&(i=!0),a.pause(),r.platform==A.Close||r.platform!==A.WX)return a.resume(),void(this.platformAdApi&&this.platformAdApi.showVideo(t));this.platformAdApi.showVideo((function(o){i&&a.resume(),t(o?1:2)}))},i.showInsertAd=function(t){r.platform!=A.Close&&this.platformAdApi&&this.platformAdApi.showInsertAd(t)},i.showCustomAd=function(){this.platformAdApi&&this.platformAdApi.showCustomAd()},i.hideCustomAd=function(){this.platformAdApi&&this.platformAdApi.hideCustomAd()},i.showCustomIconAd=function(){this.platformAdApi&&this.platformAdApi.showCustomIconAd()},i.hideCustomIconAd=function(){this.platformAdApi&&this.platformAdApi.hideCustomIconAd()},i.showNativeImageAd=function(){return this.platformAdApi.getNativeAdInfo(0)},i.showXMNativeImageAd=function(t){return this.platformAdApi.getNativeAdInfo(t)},i.showHWNativeImageAd=function(t){return this.platformAdApi.getHWNativeAdInfo(t)},i.onNativeAdClick=function(t){this.platformAdApi&&this.platformAdApi.reportNativeImageClick(t)},i.onNativeReportAdShow=function(t){this.platformAdApi&&this.platformAdApi.reportNativeImageShow(t)},i.loadNativeImage=function(){this.platformAdApi&&this.platformAdApi.loadNativeImage()},i.showNativeIconAd=function(){return this.platformAdApi&&this.platformAdApi.getNativeIconAdInfo(0)},i.reportNativeIconClick=function(t){this.platformAdApi&&this.platformAdApi.reportNativeIconClick(t)},i.reportNativeIconShow=function(t){this.platformAdApi&&this.platformAdApi.reportNativeIconShow(t)},i.loadNativeIcon=function(){this.platformAdApi&&this.platformAdApi.loadNativeIcon()},i.showNavigateBoxPortal=function(){this.platformAdApi&&this.platformAdApi.showNavigateBoxPortal()},i.showNavigateBoxBanner=function(){this.platformAdApi&&this.platformAdApi.showNavigateBoxBanner()},i.hideNavigateBoxBanner=function(){this.platformAdApi&&this.platformAdApi.hideNavigateBoxBanner()},i.addDesktop=function(t){console.log("addDesktop"),this.platformAdApi&&this.platformAdApi.addDesktop(t)},i.hasShortcutInstalled=function(t){this.platformAdApi&&this.platformAdApi.hasShortcutInstalled((function(i){t(i?v.Success:v.Fail)}))},i.ShareVideo=function(t,i,o){this.platformAdApi&&this.platformAdApi.ShareVideo(t,i,o)},i.StartRecorder=function(t){void 0===t&&(t=300),this.platformAdApi&&this.platformAdApi.StartRecorder(t)},i.recordClipRecorder=function(t){this.platformAdApi&&this.platformAdApi.recordClipRecorder(t)},i.pauseGameVideo=function(){this.platformAdApi&&this.platformAdApi.pauseGameVideo()},i.resumeGameVideo=function(){this.platformAdApi&&this.platformAdApi.resumeGameVideo()},i.stopRecordScreen=function(){this.platformAdApi&&this.platformAdApi.stopRecordScreen()},i.createMoreGamesBtn=function(){this.platformAdApi&&this.platformAdApi.createMoreGamesBtn()},i.showMoreGamesBtn=function(){this.platformAdApi&&this.platformAdApi.showMoreGamesBtn()},i.jumpToGame=function(t){this.platformAdApi&&this.platformAdApi.jumpToGame(t)},i.addColorBookmark=function(t){this.platformAdApi&&this.platformAdApi.addColorBookmark(t)},i.addSubscribeApp=function(t){this.platformAdApi&&this.platformAdApi.addSubscribeApp(t)},i.phoneVibrate=function(t){this.platformAdApi&&this.platformAdApi.phoneVibrate(t)},i.exitApplication=function(){r.platform==A.VIVO?qg.exitApplication():r.platform==A.OPPO?(console.log("exitApplication"),window.qg.exitApplication({})):r.platform==A.HUAWEI?hbs.exitApplication({}):r.platform==A.TikTok&&tt.exitMiniProgram({success:function(t){console.log("调用成功")},fail:function(t){console.log("调用失败")}})},i.submitPlayerEvent=function(i){if(r.platform==A.HUAWEI){var o=this.transactionId,a="GAMEBEGIN";i||(a="GAMEEND"),qg.submitPlayerEvent({eventId:o,eventType:a,success:function(i){"GAMEBEGIN"==a&&(console.log("提交玩家信息成功,transactionId ===> "),t.getInstance().transactionId=i.transactionId)}.bind(this),fail:function(t,i){console.log("hide float window fail:"+t+", code:"+i)}})}},i.reportAnalytics=function(t,i){null==i&&(i={}),this.platformAdApi&&this.platformAdApi.reportAnalytics(t,i)},i.showGameClubBtn=function(){window.wx&&(this.gameClubBtn=window.wx.createGameClubButton({icon:"light",style:{left:80,top:10,width:40,height:40}}))},i.hideGameClubBtn=function(){this.gameClubBtn&&this.gameClubBtn.hide()},i.navigateToScene=function(t,i){this.platformAdApi&&this.platformAdApi.navigateToScene(t,i)},i.ShowGameIconAd=function(){this.platformAdApi&&this.platformAdApi.ShowGameIconAd()},i.HideGameIconAd=function(){this.platformAdApi&&this.platformAdApi.HideGameIconAd()},i.ShowHomeIconAd=function(){this.platformAdApi&&this.platformAdApi.ShowHomeIconAd()},i.HideHomeIconAd=function(){this.platformAdApi&&this.platformAdApi.HideHomeIconAd()},i.ShowSideAd=function(){this.platformAdApi&&this.platformAdApi.ShowSideAd()},i.HideSideAd=function(){this.platformAdApi&&this.platformAdApi.HideSideAd()},i.ShowMoreGamesAd=function(){this.platformAdApi&&this.platformAdApi.ShowMoreGamesAd()},i.HideMoreGamesAd=function(){this.platformAdApi&&this.platformAdApi.HideMoreGamesAd()},i.ShowBannerNativeAd=function(){this.platformAdApi&&this.platformAdApi.ShowBannerNativeAd()},i.HideBannerNativeAd=function(){this.platformAdApi&&this.platformAdApi.HideBannerNativeAd()},i.playNewAd=function(t){if(r.platform!=A.Close&&this.platformAdApi){if(this.playAbnormalAD());else if(t!=d.策略过关屏蔽地区)return void h.Log(".......................屏蔽地区不能有类型：......................."+t);switch(h.Log(JSON.stringify(this.platformAdApi.ADNewConfig[t])),console.log(JSON.stringify(this.platformAdApi.ADNewConfig[t])),h.Log(" ........................................播放  "+t),console.log(" ........................................播放  "+t),t){case d.策略banner:case d.策略兜底:case d.策略特异性点击:case d.策略其他点击:case d.策略过关非屏蔽地区:case d.策略过关屏蔽地区:var i=this.platformAdApi.ADNewConfig[t],o=t;if(i){var a=i.ad_interval;if(0!=a&&a)if(this.ADNewInterval[o]&&0!=this.ADNewInterval[o]){if(0!=this.ADNewInterval[o]){var e=1e3*a-(Date.now()-this.ADNewInterval[o]);if(e>0)return h.Log(i.ad_type+" 类型  还没达到限制的间隔时间 还剩  "+e),void console.log(i.ad_type+" 类型  还没达到限制的间隔时间 还剩  "+e);if(this.ADNewInterval[o]=Date.now(),""==i.vendor_position)return h.Log("未配置  类型是  "+i.ad_type),void console.log("未配置  类型是  "+i.ad_type)}}else this.ADNewInterval[o]=Date.now();else;this.ADNewAdAry[o]&&0!=this.ADNewAdAry[o].length||(h.Log("data.vendor_position  "+i.vendor_position),console.log("data.vendor_position  "+i.vendor_position),this.ADNewAdAry[o]=r.stringGetAD(i.vendor_position));var n=this.ADNewAdAry[o].shift();console.log("播放  "+n),this.playTypeAd(n,t)}break;case d.样式原生icon:case d.样式信息流banner:break;case d.Banner:this.playTypeAd("b",t);break;default:console.log("没有匹配到当前类型 ： "+t),h.Log("没有匹配到当前类型 ： "+t)}}},i.playAbnormalAD=function(){return this.platformAdApi&&this.platformAdApi.ADNewConfig[d.标识非屏蔽地区]?(h.Log("非屏蔽地区"),console.log("非屏蔽地区"),!0):(h.Log("屏蔽地区"),console.log("屏蔽地区"),!1)},i.playTypeAd=function(t,i){if(t.includes("+")){var o=t.split("+");this.playNumAD(o,i)}else this.playAd(t,i)},i.playNumAD=function(t,i){var o=t.shift();this.playAd(o,i),t.length>0&&this.playNumAD(t,i)},i.playAd=function(t,i){var o=this;h.Log("播放:  XXXXX  "+t),console.log("播放:  XXXXX  "+t);var a=!0;switch(i&&d.策略兜底==i&&(h.Log("播放:  策略兜底  "),a=!1),t){case"n":this.showCustomType12(2,(function(t){t||a&&o.playNewAd(d.策略兜底)}));break;case"m":this.showCustomType12(1,(function(t){t||a&&o.playNewAd(d.策略兜底)}));break;case"t":this.showADNewNativeType12(2,(function(t){t||a&&o.playNewAd(d.策略兜底)}));break;case"s":this.showADNewNativeType12(1,(function(t){t||a&&o.playNewAd(d.策略兜底)}));break;case"c":this.showInsertAd((function(t){t||a&&o.playNewAd(d.策略兜底)}));break;case"j":this.showPassiveVideo((function(t,i){t&&1===t||i&&a&&o.playNewAd(d.策略兜底)}));break;case"h":this.showCustomBanner((function(t){t||a&&o.playNewAd(d.策略兜底)}));break;case"b":this.showBanner((function(t){t||a&&o.playNewAd(d.策略兜底)}));break;default:console.log("没有匹配到任何 case 类型的情况"),h.Log("没有匹配到任何 case 类型的情况")}},i.closeAd=function(t,i){},i.showCustomType12=function(t,i){if(r.platform!=A.Close&&this.platformAdApi){if(this.platformAdApi.AdCustomTypeData&&this.platformAdApi.AdCustomTypeData[t]){var o=this.platformAdApi.AdCustomTypeData[t].ad_interval;if(0!=o&&o){var a=this.getTimeInterval(this.CustomType12_interval[t],o,"原生模板渲染"+t);if(0==a)return;this.CustomType12_interval[t]=a}else;}this.platformAdApi&&this.platformAdApi.showCustomType12(t,i)}},i.showADNewNativeType12=function(t,i){if(r.platform!=A.Close&&this.platformAdApi){if(this.platformAdApi.ADNewNativeTypeData&&this.platformAdApi.ADNewNativeTypeData[t]){this.platformAdApi.ADNewNativeTypeData[t];var o=this.getTimeInterval(this.ADNewNativeType12_interval[t],10,"原生自渲染"+t);if(0==o)return;this.ADNewNativeType12_interval[t]=o}this.platformAdApi&&this.platformAdApi.showADNewNativeType12(t,i)}},i.getTimeInterval=function(t,i,o){var a=Date.now();if(!t||0===t)return a;if(0!==t){var e=1e3*i-(Date.now()-t);return e>0?(console.log(o+"  还没达到限制的间隔时间  "+e/1e3),h.Log(o+"  还没达到限制的间隔时间  "+e/1e3),!1):(t=Date.now(),a)}},i.showPassiveVideo=function(t,i){if(void 0===i&&(i=!0),a.pause(),r.platform==A.Close)return a.resume(),void(this.platformAdApi&&this.platformAdApi.showPassiveVideo(t));if(!this.platformAdApi)return a.resume(),void(t&&t(1));if(this.platformAdApi.PassiveVideoData){var o=this.platformAdApi.PassiveVideoData.ad_interval;if(0!=o&&o){var e=this.getTimeInterval(this.PassiveVideo_interval,o,"被动激励视频");if(0==e)return;this.PassiveVideo_interval=e}else;}this.platformAdApi.showPassiveVideo((function(o,e){i&&a.resume(),o?t&&t(1):t&&t(2,e)}))},i.showCustomBanner=function(t){if(r.platform!=A.Close){if(this.platformAdApi.AdCustomBannerData){var i=this.platformAdApi.AdCustomBannerData.ad_interval;if(0!=i&&i){var o=this.getTimeInterval(this.AdCustomBanner_interval,i,"原生模板banner");if(0==o)return;this.AdCustomBanner_interval=o}else;}this.platformAdApi&&this.platformAdApi.showCustomBanner(t)}},i.hideCustomBanner=function(){this.platformAdApi&&this.platformAdApi.hideCustomBanner()},t}())._adManager=null,c=u))||c);i._RF.pop()}}}));

System.register("chunks:///_virtual/AdNativeInfo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AdManager.ts","./AdsIdConfig.ts"],(function(t){"use strict";var e,i,n,a,o,r,l,s,c,d,f,h,u,v,I,g,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,l=t.Node,s=t.Sprite,c=t.Label,d=t.SpriteFrame,f=t.game,h=t.Game,u=t.assetManager,v=t.Component},function(t){I=t.default},function(t){g=t.default,p=t.EPlatform}],execute:function(){var m,N,b,A,_,y,w,C,B,k,L,T,E,U,M,z,S,W,x,F,H,D;o._RF.push({},"62d45G+JIZJQrtrXFlW6TaY","AdNativeInfo",void 0);var V=r.ccclass,O=r.property;t("AdNativeInfo",(m=V("AdNativeInfo"),N=O(l),b=O(s),A=O(c),_=O(l),y=O(l),w=O(d),C=O(s),B=O(d),k=O(d),m((E=e((T=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,n(e,"close_btn",E,a(e)),n(e,"Native_BigImage",U,a(e)),n(e,"desc",M,a(e)),n(e,"look_ad",z,a(e)),n(e,"LateNode",S,a(e)),n(e,"defaut_BigImage",W,a(e)),n(e,"nativeAdSpTip",x,a(e)),n(e,"normalAdTip",F,a(e)),n(e,"xmAdTip",H,a(e)),n(e,"type",D,a(e)),e.nativeInfo=null,e.nativeUrl=[],e}i(e,t);var o=e.prototype;return o.onEnable=function(){this.nativeUrl=[]},o.onLoad=function(){var t=this;this.addEvent(),g.platform==p.HUAWEI&&(f.on(h.EVENT_HIDE,(function(){t.node.active=!1}),this),f.on(h.EVENT_SHOW,(function(){t.node.active=!1}),this)),g.platform==p.XiaoMi?this.nativeAdSpTip.spriteFrame=this.xmAdTip:this.nativeAdSpTip.spriteFrame=this.normalAdTip},o.bannerOpen=function(){},o.ADInit=function(t){g.platform!=p.HUAWEI?g.platform!=p.XiaoMi?this.initView(t):this.XMInitView(t):this.HWInitView(t)},o.initView=function(t){this.node.active=!0,this.nativeInfo=I.getInstance().showNativeImageAd(),console.log("MINIGAME ===> ===========adNativeInfo==========="),this.LateNode&&(this.LateNode.active=!1),this.nativeInfo&&this.nativeInfo.adId?(this.refreshAdUI(),g.platform==p.OPPO&&this.type,t&&t(1)):(this.node.active=!1,t&&t(0))},o.XMInitView=function(t){var e=this;this.node.active=!0,I.getInstance().showXMNativeImageAd((function(i){e.nativeInfo=i,console.log("小米 ===> ===========adNativeInfo==========="),e.LateNode&&(e.LateNode.active=!1),e.nativeInfo&&e.nativeInfo.adId?(e.refreshAdUI(),t&&t(1)):(e.node.active=!1,t&&t(0))}))},o.HWInitView=function(t){var e=this;this.node.active=!0,I.getInstance().showHWNativeImageAd((function(i){e.nativeInfo=i,console.log("MINIGAME ===> ===========adNativeInfo==========="),e.LateNode&&(e.LateNode.active=!1),e.nativeInfo&&e.nativeInfo.adId?(e.refreshAdUI(),t&&t(1)):(e.node.active=!1,t&&t(0))}))},o.refreshAdUI=function(){I.getInstance().onNativeReportAdShow(this.nativeInfo.adId),this.nativeUrl[0]=this.nativeInfo.NativeClose,console.log("华为ad====>",JSON.stringify(this.nativeInfo)),g.platform==p.HUAWEI?(this.node.getChildByName("adLittle").getComponent(c).string=this.nativeInfo.title,this.node.getChildByName("adDesc").getComponent(c).string=this.nativeInfo.source,this.look_ad.getChildByName("Label").getComponent(c).string=this.nativeInfo.clickBtnTxt):g.platform==p.XiaoMi&&(this.node.getChildByName("adLittle").getComponent(c).string=this.nativeInfo.title,this.node.getChildByName("adDesc").getComponent(c).string=this.nativeInfo.desc,this.look_ad.getChildByName("Label").getComponent(c).string=this.nativeInfo.clickBtnTxt),this.nativeInfo.Native_BigImage_url?this.nativeUrl[1]=this.nativeInfo.Native_BigImage_url:this.nativeInfo.Native_icon_url?this.nativeUrl[1]=this.nativeInfo.Native_icon_url:this.Native_BigImage.spriteFrame=this.defaut_BigImage,this.nativeUrl[2]=this.nativeInfo.Native_icon_url,this.showNativeInfo()},o.addEvent=function(){this.Native_BigImage.node.on("click",this.nativeClick,this),this.close_btn.on("click",this.closeThisNode,this),this.look_ad.on("click",this.nativeClick,this),this.LateNode&&this.LateNode.on("click",this.nativeErrClick,this)},o.showNativeInfo=function(){console.log("========showNativeInfo========",this.nativeUrl),this.loadAdSprite(this.Native_BigImage,this.nativeUrl[1]),I.getInstance().hideBanner()},o.loadAdSprite=function(t,e){e.indexOf(".png")>-1||e.indexOf(".jpg")>-1?u.loadRemote(e,function(e,i){null==e&&null!=i&&(console.log("====>",i),t.spriteFrame=d.createWithImage(i))}.bind(this)):u.loadRemote(e,{ext:".png"},function(e,i){null==e&&null!=i&&(console.log("====>",i),t.spriteFrame=d.createWithImage(i))}.bind(this))},o.nativeErrClick=function(){this.node.active=!1,I.getInstance().onNativeAdClick(this.nativeInfo.adId)},o.nativeClick=function(){this.node.active=!1,I.getInstance().onNativeAdClick(this.nativeInfo.adId)},o.closeThisNode=function(){console.log("关闭信息流节点"),this.node.active=!1},o.onDisable=function(){I.getInstance().loadNativeImage()},e}(v)).prototype,"close_btn",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(T.prototype,"Native_BigImage",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(T.prototype,"desc",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(T.prototype,"look_ad",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(T.prototype,"LateNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=e(T.prototype,"defaut_BigImage",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(T.prototype,"nativeAdSpTip",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(T.prototype,"normalAdTip",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(T.prototype,"xmAdTip",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(T.prototype,"type",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),L=T))||L));o._RF.pop()}}}));

System.register("chunks:///_virtual/AdsIdConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AdManager.ts"],(function(e){"use strict";var t,n,r,a,o;return{setters:[function(e){t=e.createClass,n=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){a=e.cclegacy},function(e){o=e.default}],execute:function(){var s,i;e({AdType:void 0,EPlatform:void 0}),a._RF.push({},"e5ea6hYb/5Ho6Ogq7sI0fcI","AdsIdConfig",void 0),function(e){e[e.test=0]="test",e[e.VIVO=10006984]="VIVO",e[e.OPPO=10006774]="OPPO",e[e.TikTok=10007212]="TikTok",e[e.QQ=10003639]="QQ",e[e.WX=10003655]="WX",e[e.HUAWEI=10003864]="HUAWEI",e[e.XiaoMi=10003494]="XiaoMi",e[e.UC=1]="UC",e[e.Close=2]="Close",e[e.KS=10003693]="KS"}(s||(s=e("EPlatform",{}))),function(e){e[e["开屏"]=1]="开屏",e[e.Banner=2]="Banner",e[e["插屏"]=3]="插屏",e[e["激励视频"]=4]="激励视频",e[e["全屏视频"]=5]="全屏视频",e[e["原生插屏"]=12]="原生插屏",e[e["浮标"]=13]="浮标",e[e["原生Banner"]=14]="原生Banner",e[e["原生开屏"]=24]="原生开屏",e[e["原生模板"]=25]="原生模板",e[e["被动激励"]=44]="被动激励",e[e["样式原生icon"]=79]="样式原生icon",e[e["样式信息流banner"]=77]="样式信息流banner",e[e["策略banner"]=78]="策略banner",e[e["策略兜底"]=75]="策略兜底",e[e["策略特异性点击"]=68]="策略特异性点击",e[e["策略其他点击"]=67]="策略其他点击",e[e["策略定时"]=74]="策略定时",e[e["策略过关非屏蔽地区"]=66]="策略过关非屏蔽地区",e[e["策略过关屏蔽地区"]=73]="策略过关屏蔽地区",e[e["标识非屏蔽地区"]=72]="标识非屏蔽地区",e[e["互推盒子"]=60]="互推盒子",e[e["原生icon"]=76]="原生icon",e[e["原生模板渲染"]=62]="原生模板渲染",e[e["原生自渲染"]=59]="原生自渲染",e[e["信息流banner"]=49]="信息流banner"}(i||(i=e("AdType",{})));var c=e("default",function(){function e(){}return e.getAdConfigWeb=function(t){e.platform==s.test||e.platform==s.Close?e.serverRootUrl+="10002483":e.serverRootUrl+=e.platform,this.httpCall({url:e.serverRootUrl,callback:t})},e.httpCall=function(){var t=n(r().mark((function t(n){var a;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.httpSend({url:n.url});case 2:a=t.sent,e.adConfig=a,n.callback&&n.callback();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.httpSend=function(e){return new Promise((function(t,n){var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4===r.readyState&&r.status>=200&&r.status<300){var e=JSON.parse(r.responseText);t(e)}},r.timeout=e.timeout||5e4;var a=e.method||"GET",o=e.url;e.data=e.data||{},"get"==a||"GET"==a?(r.open(a,o,!0),r.send()):(r.open(a,e.url,!0),r.setRequestHeader("Content-type","application/json;charset=utf-8"),r.send(JSON.stringify(e.data)))}))},e.stringHasSpace=function(e){return null==e||-1!=e.indexOf(" ")},e.getVendor_posAry=function(e){var t=e,n=[];if(e.includes(" ")&&(t=e.replace(/\s/g,"")),t.includes(",")){for(var r=t.split(","),a=r.length-1;a>0;a--){var o=Math.floor(Math.random()*(a+1)),s=[r[o],r[a]];r[a]=s[0],r[o]=s[1]}n=r}else n=[t];return n},e.gePosAndWidthCfg=function(e,t,n,r){var a=e;if(o.getInstance().platformAdApi){var s=[];if(a.includes("|")&&(s=a.split("|")),5==s.length){var i=0,c=0;s&&s[3]&&(i=Number(s[3])),s&&s[4]&&(c=Number(s[4]));var l=0,u=0;if(s&&s[1]&&(l=Number(s[1])/100*t,l-=i),r[0]&&r[1]&&r[2]&&r[3]){l<r[0]||l>r[1]?(console.error("配置 不在范围内   按默认显示了 widthNum:"+l),console.error(r[0]+"  配置:  "+r[1]),l=r[2],u=r[3]):u=l/(r[2]/r[3]),console.log(t),console.log("widthNum==================================================height："+n),console.log(l),console.log(u);var f={};if(s&&s[0])switch(s[0]){case"A":case"a":f={left:i,top:c,width:l};break;case"B":case"b":f={top:c,width:l,gravity:"center"};break;case"C":case"c":f={left:t-i-l,top:c,width:l};break;case"D":case"d":f={left:i,top:n-c-u,width:l};break;case"E":case"e":f={top:n-c-u,width:l,gravity:"center"};break;case"F":case"f":f={left:t-i-l,top:n-c-u,width:l}}return f}console.log("配置 不存在")}else console.log("配置 不正确")}else console.log("pt平台不存在")},e.stringGetAD=function(e){var t=e,n=[];if(e.includes(" ")&&(t=e.replace(/\s/g,"")),t.includes("|")){var r=t.split("|");n=this.expandArray(r)}else n=this.expandArray([t]);return n},e.expandArray=function(e){var t=[];return e.forEach((function(e){var n=e.split(/(?=\d)/),r=n[0],a=n[1];a&&null!=a||(a="1");for(var o=parseInt(a,10),s=0;s<o;s++)t.push(r)})),t},t(e,null,[{key:"platform",get:function(){return this._platform},set:function(e){this._platform=e}}]),e}());c.serverRootUrl="https://api.iweisesz.com/api/client/mini?pid=",c.adConfig=null,c._platform=void 0,a._RF.pop()}}}));

System.register("chunks:///_virtual/AIBlue.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundManager.ts","./EventCenter.ts","./LogUtil.ts","./RandomTools.ts","./BlueAni.ts","./Constants.ts","./PlayerController.ts","./AIFriend.ts","./AIGeneratePath.ts","./AIPathManager.ts"],(function(t){"use strict";var e,i,n,o,s,a,r,h,l,c,d,u,P,m,g,v,C,p,S,f,A,T,_;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator,o=t.RigidBody2D,s=t.CircleCollider2D,a=t.Contact2DType,r=t.Vec2,h=t.Vec3,l=t.sp,c=t.tween,d=t.Tween,u=t.Component},function(t){P=t.SoundManager},function(t){m=t.EventCenter},function(t){g=t.LogUtil},function(t){v=t.RandomTools},function(t){C=t.BlueStatus,p=t.BlueAni},function(t){S=t.Constants},function(t){f=t.PlayerController},function(t){A=t.AIFriend},function(t){T=t.AIGeneratePath},function(t){_=t.AIPathManager}],execute:function(){var G;i._RF.push({},"b57eaY67V1LyrxglG9b6Hks","AIBlue",void 0);var I=n.ccclass;n.property,t("AIBlue",I("AIBlue")(G=function(t){function i(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).skeletonNode=void 0,e.blueAni=void 0,e.aiGeneratePath=void 0,e.isStartPatrol=!1,e.isMoveStatus=!1,e.isLockTarget=!1,e.isHitFriendStatus=!1,e.lockNode=null,e.tempFrame=1,e.detectPathFrame=5,e.allPathPoints=void 0,e.detectPathPoints=void 0,e.moveTargetPos=void 0,e.tempGetRandomPoint=void 0,e.triggerCollider=void 0,e.catchCollider=void 0,e.rig=void 0,e.tempLinearNormalize=void 0,e.tempLinearSpeed=void 0,e.chaseSpeed=8,e.patrolSpeed=300,e.hitPosNode=void 0,e}e(i,t);var n=i.prototype;return n.onLoad=function(){this.rig=this.node.getComponent(o);var t=this.node.getComponents(s);if(t)for(var e=0;e<t.length;e++)t[e].tag==S.Collicer_Tag_Blue?(this.triggerCollider=t[e],this.triggerCollider.on(a.BEGIN_CONTACT,this.OnDetectBeginContact,this),this.triggerCollider.on(a.END_CONTACT,this.OnDetectEndContact,this)):t[e].tag==S.Collicer_Tag_Blue_Catch&&(this.catchCollider=t[e],this.catchCollider.on(a.BEGIN_CONTACT,this.OnCatchBeginContact,this))},n.onEnable=function(){m.Instance.AddEventListener(S.Event_Game_Start,this.OnGameStart,this),m.Instance.AddEventListener(S.Event_Game_Victory,this.OnGameVictory,this),m.Instance.AddEventListener(S.Event_Game_Fail,this.OnGameFail,this),m.Instance.AddEventListener(S.Event_Game_TimeUp,this.OnGameTimeUp,this),m.Instance.AddEventListener(S.Event_Player_GetMoreTime,this.OnGetMoreTime,this)},n.onDisable=function(){m.Instance.RemoveEventListener(S.Event_Game_Start,this.OnGameStart,this),m.Instance.RemoveEventListener(S.Event_Game_Victory,this.OnGameVictory,this),m.Instance.RemoveEventListener(S.Event_Game_Fail,this.OnGameFail,this),m.Instance.RemoveEventListener(S.Event_Game_TimeUp,this.OnGameTimeUp,this),m.Instance.RemoveEventListener(S.Event_Player_GetMoreTime,this.OnGetMoreTime,this)},n.OnGameTimeUp=function(){this.isStartPatrol=!1},n.OnGetMoreTime=function(){this.isStartPatrol=!0},n.OnCatchBeginContact=function(t,e,i){var n=this;if(!this.isHitFriendStatus&&this.isLockTarget&&e&&(e.tag==S.Collicer_Tag_Friend||e.tag==S.Collicer_Tag_Player)&&this.lockNode==e.node){this.StopAIEPatrol(),this.rig.linearVelocity=r.ZERO;var o=!1,s=e.node.getComponent(A);if(s&&s.CanCatch()){o=!0,this.isHitFriendStatus=!0;var a=s.node.worldPosition;s.BeCatch(this.hitPosNode.worldPosition,a),this.blueAni.SetHitCallBack((function(){var t=v.RandomIntRegion(1,4);P.Instance.PlaySounds(S.soundPunch+t),s.PlayHitAni()})),this.blueAni.SetHitCompeteCallBack((function(){m.Instance.TriggerEvent(S.Event_Game_FirendFail,s.GetFriendInfo()),n.HitFriendCompelete(),n.scheduleOnce((function(){s.node.active=!1}),S.failDisappearTime)}))}var h=e.node.getComponent(f);if(h&&h.CanCatch()){o=!0,this.isHitFriendStatus=!0;var l=h.node.worldPosition;h.BeCatch(this.hitPosNode.worldPosition,l),this.blueAni.SetHitCallBack((function(){h.PlayHitAni()})),this.blueAni.SetHitCompeteCallBack((function(){n.HitFriendCompelete(),n.scheduleOnce((function(){h.node.active=!1,m.Instance.TriggerEvent(S.Event_Player_BeCatch)}),S.failDisappearTime)}))}o?this.blueAni.ChangeBlueAniStatus(C.Catched):this.HitFriendCompelete()}},n.HitFriendCompelete=function(){this.isHitFriendStatus=!1,this.isLockTarget=!1,this.isMoveStatus=!1,this.lockNode=null,this.isStartPatrol=!0,this.blueAni.ChangeBlueAniStatus(C.Idle)},n.OnDetectBeginContact=function(t,e,i){if(e&&(e.tag==S.Collicer_Tag_Friend||e.tag==S.Collicer_Tag_Player)){if(this.lockNode&&e.node!=this.lockNode){var n=h.distance(this.lockNode.worldPosition,this.node.worldPosition);if(h.distance(this.node.worldPosition,e.node.worldPosition)>n)return}var o=e.node.getComponent(A);o&&o.CanCatch()&&(this.isLockTarget=!0,this.lockNode=o.node);var s=e.node.getComponent(f);s&&s.CanCatch()&&(this.isLockTarget=!0,this.lockNode=s.node)}},n.OnDetectEndContact=function(t,e,i){e&&this.isLockTarget&&(e.tag==S.Collicer_Tag_Friend||e.tag==S.Collicer_Tag_Player)&&this.lockNode==e.node&&(this.isLockTarget=!1,this.lockNode=null,this.isStartPatrol=!0)},n.InitBlue=function(t,e,i,n,o){this.moveTargetPos=new h,this.tempLinearNormalize=new r,this.tempLinearSpeed=new r,this.tempGetRandomPoint=new r,this.detectPathFrame=o,this.chaseSpeed=i,this.patrolSpeed=n,this.triggerCollider.radius=e,this.skeletonNode=this.node.getChildByPath("BlueSkeleton");var s=this.skeletonNode.getComponent(l.Skeleton);this.blueAni=this.node.addComponent(p),this.blueAni.InitSkeleton(s),this.blueAni.ChangeBlueAniStatus(C.Idle),this.hitPosNode=this.skeletonNode.getChildByPath("HitPos"),this.allPathPoints=t,this.aiGeneratePath=new T,this.aiGeneratePath.InitAIMove(t,this.node),_.Instance.AddTask(this.FrameUpdate.bind(this))},n.FrameUpdate=function(){if(!this.isHitFriendStatus&&(this.isLockTarget&&this.StartCatchFriend(),this.isStartPatrol&&!this.isMoveStatus))return null==this.detectPathPoints||null==this.detectPathPoints||0==this.detectPathPoints.length?(this.tempFrame++,this.isMoveStatus=!1,void(this.tempFrame%this.detectPathFrame==0&&(this.isLockTarget||this.StartAIPatrol(),this.tempFrame=1))):void this.MoveToPoint()},n.StartCatchFriend=function(){if(this.StopAIEPatrol(),this.blueAni.ChangeBlueAniStatus(C.Run),this.lockNode){var t=this.lockNode.worldPosition.x-this.node.worldPosition.x,e=this.lockNode.worldPosition.y-this.node.worldPosition.y,i=this.tempLinearNormalize.set(t,e).normalize().multiplyScalar(this.chaseSpeed);this.ChangeSkeletonDir(t),this.rig.linearVelocity=this.tempLinearSpeed.set(i)}},n.StartAIPatrol=function(){var t=v.RandomInt(this.allPathPoints.length),e=this.allPathPoints[t];this.tempGetRandomPoint.set(e.x,e.y),this.tempGetRandomPoint&&(this.detectPathPoints=this.aiGeneratePath.AddTargetPointGeneratePath(this.tempGetRandomPoint))},n.StopAIEPatrol=function(){this.isStartPatrol&&(this.isStartPatrol=!1,this.isMoveStatus=!1,this.detectPathPoints=[],this.StopTween())},n.MoveToPoint=function(){var t=this;if(g.Log("准备移动.."),this.detectPathPoints&&this.detectPathPoints.length>0){var e=this.detectPathPoints.shift();this.moveTargetPos.set(e.x,e.y,0),this.isMoveStatus=!0,this.ChangeSkeletonDir(this.moveTargetPos.x-this.node.worldPosition.x),this.blueAni.ChangeBlueAniStatus(C.Walk);var i=r.distance(this.node.worldPosition,this.moveTargetPos)/this.patrolSpeed;c(this.node).to(i,{worldPosition:this.moveTargetPos}).call((function(){t.isMoveStatus=!1})).start()}else g.Log("MoveToPint not detect path points")},n.StopTween=function(){d.stopAllByTarget(this.node)},n.ChangeSkeletonDir=function(t){this.skeletonNode.scale=t>0?S.blueRightScale:S.blueLeftScale},n.OnGameStart=function(){this.isStartPatrol=!0},n.OnGameVictory=function(){this.isStartPatrol=!1,this.StopAIEPatrol(),this.rig.linearVelocity=r.ZERO,this.blueAni.ChangeBlueAniStatus(C.Fail)},n.OnGameFail=function(){this.isStartPatrol=!1,this.StopAIEPatrol(),this.rig.linearVelocity=r.ZERO,this.blueAni.ChangeBlueAniStatus(C.Victory)},i}(u))||G);i._RF.pop()}}}));

System.register("chunks:///_virtual/AIDreamFace.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventCenter.ts","./LogUtil.ts","./RandomTools.ts","./GreenAni.ts","./Constants.ts","./PlayerController.ts","./AIFriend.ts","./AIGeneratePath.ts","./AIPathManager.ts"],(function(t){"use strict";var e,n,i,a,o,s,r,h,l,c,d,P,m,v,u,S,g,p,f,A,G;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator,a=t.BoxCollider2D,o=t.Contact2DType,s=t.Vec3,r=t.Vec2,h=t.sp,l=t.tween,c=t.Tween,d=t.Component},function(t){P=t.EventCenter},function(t){m=t.LogUtil},function(t){v=t.RandomTools},function(t){u=t.GreenStatus,S=t.GreenAni},function(t){g=t.Constants},function(t){p=t.PlayerController},function(t){f=t.AIFriend},function(t){A=t.AIGeneratePath},function(t){G=t.AIPathManager}],execute:function(){var C;n._RF.push({},"39378STL35I3YWsvBScc35x","AIDreamFace",void 0);var I=i.ccclass;i.property,t("AIDreamFace",I("AIDreamFace")(C=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))||this).skeletonNode=void 0,e.greenAni=void 0,e.aiGeneratePath=void 0,e.triggerCollider=void 0,e.hitPosNode=void 0,e.isHitFriendStatus=!1,e.isStartPatrol=!1,e.isMoveStatus=!1,e.tempFrame=1,e.detectPathFrame=5,e.allPathPoints=void 0,e.detectPathPoints=void 0,e.moveTargetPos=void 0,e.tempGetRandomPoint=void 0,e.patrolSpeed=300,e}e(n,t);var i=n.prototype;return i.onLoad=function(){this.triggerCollider=this.node.getComponent(a),this.triggerCollider.on(o.BEGIN_CONTACT,this.OnBeginContact,this)},i.onEnable=function(){P.Instance.AddEventListener(g.Event_Game_Start,this.OnGameStart,this),P.Instance.AddEventListener(g.Event_Game_Victory,this.OnGameVictory,this),P.Instance.AddEventListener(g.Event_Game_Fail,this.OnGameFail,this),P.Instance.AddEventListener(g.Event_Game_TimeUp,this.OnGameTimeUp,this),P.Instance.AddEventListener(g.Event_Player_GetMoreTime,this.OnGetMoreTime,this)},i.onDisable=function(){P.Instance.RemoveEventListener(g.Event_Game_Start,this.OnGameStart,this),P.Instance.RemoveEventListener(g.Event_Game_Victory,this.OnGameVictory,this),P.Instance.RemoveEventListener(g.Event_Game_Fail,this.OnGameFail,this),P.Instance.RemoveEventListener(g.Event_Game_TimeUp,this.OnGameTimeUp,this),P.Instance.RemoveEventListener(g.Event_Player_GetMoreTime,this.OnGetMoreTime,this)},i.OnGameTimeUp=function(){this.isStartPatrol=!1},i.OnGetMoreTime=function(){this.isStartPatrol=!0},i.OnGameStart=function(){this.isStartPatrol=!0},i.OnGameVictory=function(){this.isStartPatrol=!1},i.OnGameFail=function(){this.isStartPatrol=!1},i.OnBeginContact=function(t,e,n){var i=this;if(!this.isHitFriendStatus&&e&&(e.tag==g.Collicer_Tag_Friend||e.tag==g.Collicer_Tag_Player)){this.StopAIEPatrol();var a=e.node.worldPosition.x-this.node.worldPosition.x;this.ChangeSkeletonDir(a);var o=e.node.getComponent(f);if(o&&o.CanCatch()){this.isHitFriendStatus=!0;var s=o.node.worldPosition;o.BeCatch(s,s),this.greenAni.SetHitCallBack((function(){o.PlayHitAni(),P.Instance.TriggerEvent(g.Event_Game_FirendFail,o.GetFriendInfo()),i.SetAttackFinishStatus(),i.scheduleOnce((function(){o.node.active=!1}),g.failDisappearTime)}))}var r=e.node.getComponent(p);if(r&&r.CanCatch()){this.isHitFriendStatus=!0;var h=r.node.worldPosition;r.BeCatch(h,h),this.greenAni.SetHitCallBack((function(){r.PlayHitAni(),i.scheduleOnce((function(){i.SetAttackFinishStatus(),r.node.active=!1,P.Instance.TriggerEvent(g.Event_Player_BeCatch)}),g.failDisappearTime)}))}this.greenAni.ChangeAniStatus(u.Attack)}},i.SetAttackFinishStatus=function(){this.isHitFriendStatus=!1,this.isStartPatrol=!0,this.isMoveStatus=!1,this.greenAni.ChangeAniStatus(u.Idle)},i.InitGreen=function(t,e){this.moveTargetPos=new s,this.tempGetRandomPoint=new r,this.patrolSpeed=e,this.skeletonNode=this.node.getChildByPath("DreamFaceSkeleton");var n=this.skeletonNode.getComponent(h.Skeleton);this.greenAni=this.node.addComponent(S),this.greenAni.InitSkeleton(n),this.greenAni.ChangeAniStatus(u.Idle),this.hitPosNode=this.skeletonNode.getChildByPath("HitPos"),this.allPathPoints=t,this.aiGeneratePath=new A,this.aiGeneratePath.InitAIMove(t,this.node);var i=t[v.RandomInt(t.length)],a=new s(i.x,i.y,0);this.node.worldPosition=a,G.Instance.AddTask(this.FrameUpdate.bind(this))},i.FrameUpdate=function(){if(!this.isHitFriendStatus&&this.isStartPatrol&&!this.isMoveStatus)return null==this.detectPathPoints||null==this.detectPathPoints||0==this.detectPathPoints.length?(this.tempFrame++,this.isMoveStatus=!1,void(this.tempFrame%this.detectPathFrame==0&&(this.StartAIPatrol(),this.tempFrame=1))):void this.MoveToPoint()},i.MoveToPoint=function(){var t=this;if(this.detectPathPoints&&this.detectPathPoints.length>0){var e=this.detectPathPoints.shift();this.moveTargetPos.set(e.x,e.y,0),this.isMoveStatus=!0,this.ChangeSkeletonDir(this.moveTargetPos.x-this.node.worldPosition.x),this.greenAni.ChangeAniStatus(u.Walk);var n=r.distance(this.node.worldPosition,this.moveTargetPos)/this.patrolSpeed;l(this.node).to(n,{worldPosition:this.moveTargetPos}).call((function(){t.isMoveStatus=!1})).start()}else m.Log("MoveToPint not detect path points")},i.ChangeSkeletonDir=function(t){this.skeletonNode.scale=t>0?g.rightScale:g.leftScale},i.StartAIPatrol=function(){var t=v.RandomInt(this.allPathPoints.length),e=this.allPathPoints[t];this.tempGetRandomPoint.set(e.x,e.y),this.tempGetRandomPoint&&(this.detectPathPoints=this.aiGeneratePath.AddTargetPointGeneratePath(this.tempGetRandomPoint))},i.StopAIEPatrol=function(){this.isStartPatrol&&(this.isStartPatrol=!1,this.isMoveStatus=!1,this.detectPathPoints=[],this.StopTween())},i.StopTween=function(){c.stopAllByTarget(this.node)},n}(d))||C);n._RF.pop()}}}));

System.register("chunks:///_virtual/AIFriend.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundManager.ts","./EventCenter.ts","./LogUtil.ts","./RandomTools.ts","./FriendAni.ts","./Constants.ts","./CharacterBaseInfo.ts","./FollowItem.ts","./CollectTargetItem.ts","./AIGeneratePath.ts","./AIPathManager.ts"],(function(t){"use strict";var e,i,n,o,s,a,r,h,l,c,d,m,u,f,v,g,S,p,I,P,T,C,A,F,G,E,_;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator,o=t.RigidBody2D,s=t.CircleCollider2D,a=t.Contact2DType,r=t.Sprite,h=t.v2,l=t.v3,c=t.Vec3,d=t.Vec2,m=t.sp,u=t.tween,f=t.Tween,v=t.Component},function(t){g=t.SoundManager},function(t){S=t.EventCenter},function(t){p=t.LogUtil},function(t){I=t.RandomTools},function(t){P=t.FriendStatus,T=t.FriendAni},function(t){C=t.Constants},function(t){A=t.CharacterInfoHelper},function(t){F=t.FollowItem},function(t){G=t.CollectTargetItem},function(t){E=t.AIGeneratePath},function(t){_=t.AIPathManager}],execute:function(){var N;i._RF.push({},"932eb593WZCq4zuIc0KP885","AIFriend",void 0);var y=n.ccclass;n.property,t("AIFriend",y("AIFriend")(N=function(t){function i(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).skeletonNode=void 0,e.aiGeneratePath=void 0,e.friendAni=void 0,e.detectPathPoints=void 0,e.moveTargetPos=void 0,e.tempNoiseVelocity=void 0,e.collectTargetControl=void 0,e.circleCollider2D=void 0,e.rig=void 0,e.tempFrame=1,e.isStartExplore=!1,e.isMoveStatus=!1,e.platCenterPos=void 0,e.moveSpeed=300,e.moveLinearSpeed=50,e.isReturn=!1,e.collectTargetItem=void 0,e.collectTargetPicNode=void 0,e.collectTargetPicSprite=void 0,e.isNoiseStatus=!1,e.noiseFrame=50,e.tempNoiseFrame=0,e.friendInfo=void 0,e.isGameOver=!1,e.isOutGame=!1,e.isHide=!1,e.followItem=void 0,e}e(i,t);var n=i.prototype;return n.GetFriendInfo=function(){return this.friendInfo},n.ShowCollectTarget=function(t){this.collectTargetPicNode.active=t},n.CanCatch=function(){return!(this.isHide&&!this.isMoveStatus)},n.BeCatch=function(t,e){var i=this;if(!this.isOutGame){_.Instance.RemoveTask(this.FrameUpdate);var n=I.RandomIntRegion(1,4);g.Instance.PlaySounds(C.soundBehit+n),this.followItem.HideShadow(),this.isOutGame=!0,this.isNoiseStatus=!1,this.isMoveStatus=!1,this.friendAni.ChangeFriendAniStatus(P.Behit),this.StopAIExplorePath(),this.scheduleOnce((function(){i.rig.enabled=!1,i.node.worldPosition=t,i.collectTargetItem&&(i.collectTargetItem.UnCollectingItem(e),i.collectTargetPicNode.active=!1),i.collectTargetItem=null,S.Instance.TriggerEvent(C.Event_Game_HandTargetOut,i.friendInfo.friendId)}))}},n.PlayHitAni=function(){var t=I.RandomIntRegion(1,4);g.Instance.PlaySounds(C.soundPunch+t),this.friendAni.ChangeFriendAniStatus(P.Behit)},n.onLoad=function(){this.rig=this.node.getComponent(o),this.circleCollider2D=this.node.getComponent(s),this.circleCollider2D.on(a.BEGIN_CONTACT,this.onBeginContact,this),this.circleCollider2D.on(a.END_CONTACT,this.onEndContact,this),this.collectTargetPicNode=this.node.getChildByPath("FriendSkeleton/TargetNode/Pic"),this.collectTargetPicSprite=this.collectTargetPicNode.getComponent(r)},n.onEnable=function(){S.Instance.AddEventListener(C.Event_Game_Start,this.OnGameStart,this),S.Instance.AddEventListener(C.Event_Game_Victory,this.OnGameVictory,this),S.Instance.AddEventListener(C.Event_Game_Fail,this.OnGameFail,this),S.Instance.AddEventListener(C.Event_Game_FirendFail,this.OnGameFirendFail,this),S.Instance.AddEventListener(C.Event_Game_TimeUp,this.OnGameTimeUp,this),S.Instance.AddEventListener(C.Event_Player_GetMoreTime,this.OnGetMoreTime,this)},n.onDisable=function(){S.Instance.RemoveEventListener(C.Event_Game_Start,this.OnGameStart,this),S.Instance.RemoveEventListener(C.Event_Game_Victory,this.OnGameVictory,this),S.Instance.RemoveEventListener(C.Event_Game_Fail,this.OnGameFail,this),S.Instance.RemoveEventListener(C.Event_Game_FirendFail,this.OnGameFirendFail,this),S.Instance.RemoveEventListener(C.Event_Game_TimeUp,this.OnGameTimeUp,this),S.Instance.RemoveEventListener(C.Event_Player_GetMoreTime,this.OnGetMoreTime,this)},n.FrameUpdate=function(){if(!this.isGameOver&&!this.isOutGame){if(this.isNoiseStatus&&!this.isMoveStatus&&(this.tempNoiseFrame++,this.tempNoiseFrame%I.RandomInt(Math.floor(50*Math.random())+this.noiseFrame)==0))return this.MoveNoise(),void(this.tempNoiseFrame=0);if(this.isStartExplore&&!this.isMoveStatus)return null==this.detectPathPoints||null==this.detectPathPoints||0==this.detectPathPoints.length?(this.tempFrame++,this.isMoveStatus=!1,void(this.tempFrame%this.friendInfo.aiCalcInterval==0&&(this.isReturn?this.StartSearchReturn():this.StartSearchTarget(),this.tempFrame=1))):void this.MoveToPoint()}},n.onBeginContact=function(t,e,i){if(!this.isOutGame&&e)switch(e.tag){case C.Collicer_Tag_TargetItem:this.DetectTargetItem(e);break;case C.Collicer_Tag_Platform:this.DetectPlatCenter(e);break;case C.Collicer_Tag_Blue:this.DetectMonster(e)}},n.onEndContact=function(t,e,i){if(!this.isOutGame&&e)switch(e.tag){case C.Collicer_Tag_Blue:this.EscapedFromMonster()}},n.EscapedFromMonster=function(){this.isHide&&(this.isHide=!1,this.isReturn&&this.ShowCollectTarget(!0),this.isReturn?this.friendAni.ChangeFriendAniStatus(P.Idle_Hold):this.friendAni.ChangeFriendAniStatus(P.Idle)),this.StopNoise(),this.StartAIExplorePath()},n.DetectMonster=function(t){if(t)switch(I.RandomInt(4)){case 0:this.StopAIExplorePath(),this.isNoiseStatus=!0;break;case 1:var e=I.RandomIntRegion(1,2);g.Instance.PlaySounds(C.soundHelp+e);var i=this.node.worldPosition.x-t.node.worldPosition.x,n=this.node.worldPosition.y-t.node.worldPosition.y,o=h(i,n).normalize(),s=h(o.x*this.moveLinearSpeed,o.y*this.moveLinearSpeed);this.rig.linearVelocity=s;break;case 2:this.HideSelf()}},n.DetectPlatCenter=function(t){if(!this.isGameOver&&this.isReturn){S.Instance.TriggerEvent(C.Event_Game_FinishTarget,this.friendInfo.userName,1);var e=l(t.node.worldPosition.x+I.RandomFloat(-100,100),t.node.worldPosition.y+I.RandomFloat(-80,80),0);this.collectTargetItem.FinishCollect(e),this.collectTargetItem=null,this.collectTargetPicNode.active=!1,this.isReturn=!1}},n.DetectTargetItem=function(t){if(!this.isReturn){var e=t.node.getComponent(G);e&&e.CanCollect()&&(this.collectTargetItem=e,this.isReturn=!0,this.collectTargetItem.CollectingItem(this.collectTargetPicNode),this.collectTargetPicNode.active=!0,this.StopAIExplorePath(),this.StartAIExplorePath(),S.Instance.TriggerEvent(C.Event_Game_HandTarget,this.friendInfo.friendId,1))}},n.InitAIFriend=function(t,e,i,n,o,s,a,r){this.moveTargetPos=new c,this.tempNoiseVelocity=new d,this.isOutGame=!1,this.friendInfo=t,this.collectTargetPicSprite.spriteFrame=s,this.moveSpeed=t.moveSpeed,this.moveLinearSpeed=t.escapeSpeed,this.followItem=this.node.addComponent(F),this.followItem.SetNeedFollowNode(a,r,this.friendInfo.userName),this.platCenterPos=e,this.friendAni=this.node.addComponent(T);var h=this.node.getChildByPath("FriendSkeleton").getComponent(m.Skeleton);this.skeletonNode=h.node,this.friendAni.InitSkeleton(h),this.friendAni.ChangeFriendAniStatus(P.Idle),this.friendAni.ChangeSkin(A.skinType[this.friendInfo.skin]),this.friendAni.SetHideAni(this.friendInfo.hideAniType),this.aiGeneratePath=new E,this.aiGeneratePath.InitAIMove(n,this.node),this.collectTargetControl=o,this.isNoiseStatus=!0;var l=I.RandomIntRegion(1,3);this.scheduleOnce((function(){g.Instance.PlaySounds(C.soundSpeak+l)}),2*l),_.Instance.AddTask(this.FrameUpdate.bind(this))},n.StartSearchTarget=function(){if(null!=this.collectTargetControl&&null!=this.collectTargetControl){var t=this.collectTargetControl.GetUnCollectItemPos();t?this.detectPathPoints=this.aiGeneratePath.AddTargetPointGeneratePath(t):this.friendAni.ChangeFriendAniStatus(P.Idle)}else p.Log("StartSearchTarget")},n.StartSearchReturn=function(){this.platCenterPos&&(this.detectPathPoints=this.aiGeneratePath.AddTargetPointGeneratePath(this.platCenterPos))},n.StartAIExplorePath=function(){this.isStartExplore=!0},n.StopAIExplorePath=function(){this.isStartExplore=!1,this.isMoveStatus=!1,this.detectPathPoints=[],this.StopTween()},n.MoveToPoint=function(){var t=this;if(this.detectPathPoints&&this.detectPathPoints.length>0){var e=this.detectPathPoints.shift();this.moveTargetPos.set(e.x,e.y,0),this.isMoveStatus=!0;var i=this.moveTargetPos.x-this.node.worldPosition.x;this.ChangeSkeletonDir(i),this.isReturn?this.friendAni.ChangeFriendAniStatus(P.Return_Walk):this.friendAni.ChangeFriendAniStatus(P.Walk);var n=d.distance(this.node.worldPosition,this.moveTargetPos)/this.moveSpeed;u(this.node).to(n,{worldPosition:this.moveTargetPos}).call((function(){t.isMoveStatus=!1})).start()}},n.StopTween=function(){f.stopAllByTarget(this.node)},n.ChangeSkeletonDir=function(t){this.skeletonNode.scale=t>0?C.rightScale:C.leftScale},n.MoveNoise=function(){if(this.rig){var t=Math.floor((Math.random()-.5)*this.moveLinearSpeed),e=Math.floor((Math.random()-.5)*this.moveLinearSpeed),i=h(t,e).normalize();this.friendAni.ChangeFriendAniStatus(P.Walk),this.ChangeSkeletonDir(t),this.tempNoiseVelocity.set(16*i.x,16*i.y),this.rig.linearVelocity=this.tempNoiseVelocity}},n.HideSelf=function(){this.StopNoise(),this.StopAIExplorePath(),this.friendAni.ChangeFriendAniStatus(P.Idle_Hide),this.isHide=!0,this.isReturn&&this.ShowCollectTarget(!1)},n.StopNoise=function(){this.isNoiseStatus=!1,this.rig.linearVelocity=d.ZERO},n.OnGameStart=function(){this.isGameOver=!1,this.StartAIExplorePath()},n.OnGameVictory=function(){this.isGameOver=!0,this.StopNoise(),this.StopAIExplorePath(),this.friendAni&&this.friendAni.ChangeFriendAniStatus(P.Victory)},n.OnGameFail=function(){this.isGameOver=!0,this.StopNoise(),this.StopAIExplorePath(),this.friendAni&&this.friendAni.ChangeFriendAniStatus(P.Fail)},n.OnGameTimeUp=function(){this.isGameOver=!0,this.StopNoise(),this.StopAIExplorePath()},n.OnGetMoreTime=function(){this.isGameOver=!1,this.StartAIExplorePath()},n.OnGameFirendFail=function(t){t.friendId==this.friendInfo.friendId&&(this.node.active=!1)},i}(v))||N);i._RF.pop()}}}));

System.register("chunks:///_virtual/AIFriendInput.ts",["cc"],(function(t){"use strict";var e,n;return{setters:[function(t){e=t.cclegacy,n=t.Vec2}],execute:function(){e._RF.push({},"9a9cbpFZuhOd6MSOQx+FoW3","AIFriendInput",void 0);t("AIFriendInput",function(){function t(){this.targetX=0,this.targetY=0,this.tempVec2=new n}var e=t.prototype;return e.CalcNormalizeDir=function(t,e){this.tempVec2.set(t,e),this.tempVec2.normalize(),this.targetX=this.tempVec2.x,this.targetY=this.tempVec2.y},e.StopInput=function(){this.targetX=0,this.targetY=0},e.GetInputX=function(){return this.targetX},e.GetInputY=function(){return this.targetY},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/AIGeneratePath.ts",["cc","./Dijktra.ts","./LogUtil.ts","./Constants.ts"],(function(t){"use strict";var i,n,a,e,s,h,o,r,l;return{setters:[function(t){i=t.cclegacy,n=t._decorator,a=t.Vec2,e=t.PhysicsSystem2D,s=t.ERaycast2DType},function(t){h=t.Dijktra,o=t.FieldMini},function(t){r=t.LogUtil},function(t){l=t.Constants}],execute:function(){var P;i._RF.push({},"fe26bacOM1EHalLYDSi6apa","AIGeneratePath",void 0);var c=n.ccclass;n.property,t("AIGeneratePath",c("AIGeneratePath")(P=function(){function t(){this.allPathPoints=void 0,this.allPathPointsLen=void 0,this.currentIndex=-1,this.aiNode=void 0,this.tempAIPos=void 0,this.isInitAI=!1}var i=t.prototype;return i.InitAIMove=function(t,i){this.isInitAI||(this.isInitAI=!0,this.allPathPoints=[].concat(t),this.allPathPointsLen=this.allPathPoints.length,this.aiNode=i,this.tempAIPos=new a)},i.RefreshTargetPoint=function(t){this.isInitAI?(this.allPathPoints.length>this.allPathPointsLen&&this.allPathPoints.pop(),this.allPathPoints.length==this.allPathPointsLen?this.allPathPoints.push(t):r.Log("add point illegal!")):r.Error("Please init AI Move first!")},i.AddTargetPointGeneratePath=function(t){return this.RefreshTargetPoint(t),this.GeneratePath()},i.GeneratePath=function(){if(this.isInitAI)return this.DetectEnablePointIndex(),this.StartGeneratePath();r.Log("AI Generate path not init!")},i.DetectEnablePointIndex=function(){var t=h.MAXC;this.currentIndex=-1;for(var i=this.tempAIPos.set(this.aiNode.worldPosition.x,this.aiNode.worldPosition.y),n=0;n<this.allPathPoints.length;n++){var o=a.distance(i,this.allPathPoints[n]),r=e.instance.raycast(i,this.allPathPoints[n],s.All),P=!1;if(r&&r.length>0)for(var c=0;c<r.length;c++)if(r[c].collider.tag==l.Collicer_Tag_Obstacle){P=!0;break}P||o<t&&(t=o,this.currentIndex=n)}},i.StartGeneratePath=function(){if(!(this.currentIndex<0)){var t=new o;t.width=this.allPathPoints.length,t.joints=Array.from(Array(t.width),(function(){return new Array(t.width)}));for(var i=0;i<this.allPathPoints.length;i++)for(var n=i+1;n<this.allPathPoints.length;n++){var r=e.instance.raycast(this.allPathPoints[i],this.allPathPoints[n],s.All),P=!1;if(r&&r.length>0)for(var c=0;c<r.length;c++)if(r[c].collider.tag==l.Collicer_Tag_Obstacle){P=!0;break}t.joints[i][n]=P?h.MAXC:a.distance(this.allPathPoints[i],this.allPathPoints[n])}h.Init(t),h.InputSecond(this.currentIndex,this.allPathPoints.length-1);var u=h.Output(),f=[];if(null!=u&&null!=u)for(var d=0;d<u.length;d++){var I=this.allPathPoints[u[d]];f.push(new a(I.x,I.y))}return f}},t}())||P);i._RF.pop()}}}));

System.register("chunks:///_virtual/AIGreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundManager.ts","./EventCenter.ts","./LogUtil.ts","./RandomTools.ts","./GreenAni.ts","./Constants.ts","./PlayerController.ts","./AIFriend.ts","./AIGeneratePath.ts","./AIPathManager.ts"],(function(t){"use strict";var e,n,i,o,a,s,r,h,d,l,c,P,u,v,m,g,S,p,f,G,A,C;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator,o=t.BoxCollider2D,a=t.Contact2DType,s=t.Vec3,r=t.Vec2,h=t.sp,d=t.tween,l=t.Tween,c=t.Component},function(t){P=t.SoundManager},function(t){u=t.EventCenter},function(t){v=t.LogUtil},function(t){m=t.RandomTools},function(t){g=t.GreenStatus,S=t.GreenAni},function(t){p=t.Constants},function(t){f=t.PlayerController},function(t){G=t.AIFriend},function(t){A=t.AIGeneratePath},function(t){C=t.AIPathManager}],execute:function(){var I;n._RF.push({},"f3681yoou1JYIHtM6IiYyRf","AIGreen",void 0);var F=i.ccclass;i.property,t("AIGreen",F("AIGreen")(I=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).skeletonNode=void 0,e.greenAni=void 0,e.aiGeneratePath=void 0,e.triggerCollider=void 0,e.hitPosNode=void 0,e.attachHandNode=void 0,e.isHitFriendStatus=!1,e.isStartPatrol=!1,e.isMoveStatus=!1,e.tempFrame=1,e.detectPathFrame=5,e.allPathPoints=void 0,e.detectPathPoints=void 0,e.moveTargetPos=void 0,e.tempGetRandomPoint=void 0,e.patrolSpeed=300,e.attachFriend=void 0,e}e(n,t);var i=n.prototype;return i.onLoad=function(){this.triggerCollider=this.node.getComponent(o),this.triggerCollider.on(a.BEGIN_CONTACT,this.OnBeginContact,this)},i.onEnable=function(){u.Instance.AddEventListener(p.Event_Game_Start,this.OnGameStart,this),u.Instance.AddEventListener(p.Event_Game_Victory,this.OnGameVictory,this),u.Instance.AddEventListener(p.Event_Game_Fail,this.OnGameFail,this),u.Instance.AddEventListener(p.Event_Game_TimeUp,this.OnGameTimeUp,this),u.Instance.AddEventListener(p.Event_Player_GetMoreTime,this.OnGetMoreTime,this)},i.onDisable=function(){u.Instance.RemoveEventListener(p.Event_Game_Start,this.OnGameStart,this),u.Instance.RemoveEventListener(p.Event_Game_Victory,this.OnGameVictory,this),u.Instance.RemoveEventListener(p.Event_Game_Fail,this.OnGameFail,this),u.Instance.RemoveEventListener(p.Event_Game_TimeUp,this.OnGameTimeUp,this),u.Instance.RemoveEventListener(p.Event_Player_GetMoreTime,this.OnGetMoreTime,this)},i.OnGameTimeUp=function(){this.isStartPatrol=!1},i.OnGetMoreTime=function(){this.isStartPatrol=!0},i.OnGameStart=function(){this.isStartPatrol=!0},i.OnGameVictory=function(){this.isStartPatrol=!1},i.OnGameFail=function(){this.isStartPatrol=!1},i.OnBeginContact=function(t,e,n){var i=this;if(!this.isHitFriendStatus&&e&&(e.tag==p.Collicer_Tag_Friend||e.tag==p.Collicer_Tag_Player)){this.StopAIEPatrol();var o=e.node.worldPosition.x-this.node.worldPosition.x;this.ChangeSkeletonDir(o);var a=e.node.getComponent(G);if(a&&a.CanCatch()){this.isHitFriendStatus=!0;var s=a.node.worldPosition;this.attachFriend=a.node,a.BeCatch(this.hitPosNode.worldPosition,s),this.greenAni.SetHitCallBack((function(){var t=m.RandomIntRegion(1,4);P.Instance.PlaySounds(p.soundPunch+t),i.attachFriend=null,a.PlayHitAni()})),this.greenAni.SetHitCompeteCallBack((function(){u.Instance.TriggerEvent(p.Event_Game_FirendFail,a.GetFriendInfo()),i.HitFriendSuccess(),i.scheduleOnce((function(){a.node.active=!1}),p.failDisappearTime)}))}var r=e.node.getComponent(f);if(r&&r.CanCatch()){this.isHitFriendStatus=!0;var h=r.node.worldPosition;r.BeCatch(this.hitPosNode.worldPosition,h),this.attachFriend=r.node,this.greenAni.SetHitCallBack((function(){var t=m.RandomIntRegion(1,4);P.Instance.PlaySounds(p.soundPunch+t),i.attachFriend=null,r.PlayHitAni()})),this.greenAni.SetHitCompeteCallBack((function(){i.HitFriendSuccess(),i.scheduleOnce((function(){r.node.active=!1,u.Instance.TriggerEvent(p.Event_Player_BeCatch)}),p.failDisappearTime)}))}this.greenAni.ChangeAniStatus(g.Attack)}},i.HitFriendSuccess=function(){this.isHitFriendStatus=!1,this.isStartPatrol=!0,this.isMoveStatus=!1,this.greenAni.ChangeAniStatus(g.Idle)},i.InitGreen=function(t,e){this.moveTargetPos=new s,this.tempGetRandomPoint=new r,this.patrolSpeed=e,this.skeletonNode=this.node.getChildByPath("GreenSkeleton");var n=this.skeletonNode.getComponent(h.Skeleton);this.greenAni=this.node.addComponent(S),this.greenAni.InitSkeleton(n),this.greenAni.ChangeAniStatus(g.Idle),this.hitPosNode=this.skeletonNode.getChildByPath("HitPos"),this.attachHandNode=this.skeletonNode.getChildByPath("Attach/SpriteSplash"),this.allPathPoints=t,this.aiGeneratePath=new A,this.aiGeneratePath.InitAIMove(t,this.node);var i=t[m.RandomInt(t.length)],o=new s(i.x,i.y,0);this.node.worldPosition=o,C.Instance.AddTask(this.FrameUpdate.bind(this))},i.update=function(t){null!=this.attachFriend&&null!=this.attachFriend&&(this.attachFriend.worldPosition=this.attachHandNode.worldPosition)},i.FrameUpdate=function(){if(!this.isHitFriendStatus&&this.isStartPatrol&&!this.isMoveStatus)return null==this.detectPathPoints||null==this.detectPathPoints||0==this.detectPathPoints.length?(this.tempFrame++,this.isMoveStatus=!1,void(this.tempFrame%this.detectPathFrame==0&&(this.StartAIPatrol(),this.tempFrame=1))):void this.MoveToPoint()},i.MoveToPoint=function(){var t=this;if(this.detectPathPoints&&this.detectPathPoints.length>0){var e=this.detectPathPoints.shift();this.moveTargetPos.set(e.x,e.y,0),this.isMoveStatus=!0,this.ChangeSkeletonDir(this.moveTargetPos.x-this.node.worldPosition.x),this.greenAni.ChangeAniStatus(g.Walk);var n=r.distance(this.node.worldPosition,this.moveTargetPos)/this.patrolSpeed;d(this.node).to(n,{worldPosition:this.moveTargetPos}).call((function(){t.isMoveStatus=!1})).start()}else v.Log("MoveToPint not detect path points")},i.ChangeSkeletonDir=function(t){this.skeletonNode.scale=t>0?p.rightScale:p.leftScale},i.StartAIPatrol=function(){var t=m.RandomInt(this.allPathPoints.length),e=this.allPathPoints[t];this.tempGetRandomPoint.set(e.x,e.y),this.tempGetRandomPoint&&(this.detectPathPoints=this.aiGeneratePath.AddTargetPointGeneratePath(this.tempGetRandomPoint))},i.StopAIEPatrol=function(){this.isStartPatrol&&(this.isStartPatrol=!1,this.isMoveStatus=!1,this.detectPathPoints=[],this.StopTween())},i.StopTween=function(){l.stopAllByTarget(this.node)},n}(c))||I);n._RF.pop()}}}));

System.register("chunks:///_virtual/AIHostileFriend.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CharacterBase.ts","./CharacterStateControl.ts","./RandomTools.ts","./SoundManager.ts","./Constants.ts","./EventCenter.ts"],(function(t){"use strict";var e,i,n,a,s,o,r,c,h;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator},function(t){a=t.CharacterBase},function(t){s=t.CharacterState},function(t){o=t.RandomTools},function(t){r=t.SoundManager},function(t){c=t.Constants},function(t){h=t.EventCenter}],execute:function(){var l;i._RF.push({},"aceb1bfv+dM64q5s4lCcnfq","AIHostileFriend",void 0);var d=n.ccclass;n.property,t("AIHostileFriend",d("AIHostileFriend")(l=function(t){function i(){for(var e,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))||this).aiFriendInput=void 0,e.previousState=s.Default,e.isExcuteDecision=!1,e.isLockTarget=!1,e.moveOffsetX=50,e}e(i,t);var n=i.prototype;return n.onEnable=function(){h.Instance.AddEventListener(c.Event_Game_TimeUp,this.OnGameTimeUp,this)},n.onDisable=function(){h.Instance.RemoveEventListener(c.Event_Game_TimeUp,this.OnGameTimeUp,this)},n.OnGameTimeUp=function(){this.characterAniControl&&this.characterAniControl.PlayDance()},n.InitAIHostileFriend=function(t,e,i){this.friendDataItem=e,this.aiFriendInput=t,this.InitCharacterBase(t,!0,this.friendDataItem.skinType),this.SetFollowItem(i.GetShadowUnuseNode(),i.GetUnuseUserNameLabel(),this.friendDataItem.friendName)},n.MakeState=function(){this.characterStateRespose.MakeState()},n.ResposeState=function(){this.characterStateRespose.ResposeState()},n.ThinkNextState=function(t,e){var i=!1,n=!1;if(this.previousState==s.Idle||this.previousState==s.Walk||this.previousState==s.Escape)if(t<this.friendDataItem.detectArea&&(i=!0,t<this.friendDataItem.attackArea&&(n=!0)),i&&(n?this.OnEnterAttackArea(e):this.OnEnemyEnter(e)),this.isLockTarget)this.PlayLockTarget(e);else if(!this.isExcuteDecision){var a=o.RandomIntRegion(0,100);a<65?this.isLockTarget=!0:a<85?this.PlayRandomWalk():this.PlayIdle()}this.MakeState(),this.ResposeState();var r=this.characterStateControl.GetCurrentState();this.previousState=r},n.OnEnemyEnter=function(t){if(!this.isLockTarget&&!this.isExcuteDecision){var e=o.RandomIntRegion(0,100);e<40?this.PlayLockTarget(t):e<65?this.PlayRandomWalk():e<90?this.PlayEscape(t):e<95?this.PlayRoll():e<98&&this.PlayIdle()}},n.OnEnterAttackArea=function(t){this.isLockTarget=!1,this.isExcuteDecision=!1;var e=o.RandomIntRegion(0,100);e<65?this.PlayAttackStab():e<80?this.PlayRoll():e<85?this.PlayIdle():this.PlayRandomWalk()},n.PlayIdle=function(){var t=this;this.StopInput();var e=o.RandomIntRegion(this.friendDataItem.minIdleTime,this.friendDataItem.maxIdleTime);this.isExcuteDecision=!0,this.scheduleOnce((function(){t.isExcuteDecision=!1}),e)},n.PlayLockTarget=function(t){var e=this,i=t.node.worldPosition.x-this.node.worldPosition.x,n=t.node.worldPosition.y-this.node.worldPosition.y;i>0?i-=this.moveOffsetX:i+=this.moveOffsetX,this.aiFriendInput.CalcNormalizeDir(i,n);var a=o.RandomIntRegion(this.friendDataItem.minChaseTime,this.friendDataItem.maxChaseTime);this.scheduleOnce((function(){e.isLockTarget=!1}),a)},n.PlayEscape=function(t){var e=this,i=o.RandomIntRegion(1,3);r.Instance.PlaySounds(c.soundHelp+i);var n=t.node.worldPosition.x-this.node.worldPosition.x,a=t.node.worldPosition.y-this.node.worldPosition.y;this.aiFriendInput.CalcNormalizeDir(n,a),this.characterStateControl.PlayEscapeState(),this.isExcuteDecision=!0;var s=o.RandomIntRegion(this.friendDataItem.minEscapeTime,this.friendDataItem.maxEscapeTime);this.scheduleOnce((function(){e.characterStateControl.StopEscapeState(),e.isExcuteDecision=!1;var t=o.RandomIntRegion(1,3);r.Instance.PlaySounds(c.soundSpeak+t)}),s)},n.PlayRandomWalk=function(){var t=this,e=o.RandomIntRegion(-1e3,1e3),i=o.RandomIntRegion(-1e3,1e3);this.aiFriendInput.CalcNormalizeDir(e,i);var n=o.RandomIntRegion(this.friendDataItem.minPatrolTime,this.friendDataItem.maxPatrolTime);this.isExcuteDecision=!0,this.scheduleOnce((function(){t.isExcuteDecision=!1}),n)},n.PlayRoll=function(){this.StopInput(),this.characterStateControl.PlayRollState()},n.PlayAttackStab=function(){this.StopInput(),this.characterStateControl.PlayAttackState()},n.StopInput=function(){this.aiFriendInput.StopInput()},i}(a))||l);i._RF.pop()}}}));

System.register("chunks:///_virtual/AIObuga.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundManager.ts","./EventCenter.ts","./RandomTools.ts","./ObugaAni.ts","./Constants.ts","./PlayerController.ts","./AIFriend.ts"],(function(t){"use strict";var n,i,o,e,a,s,c,u,l,r,d,h,g,C,A;return{setters:[function(t){n=t.inheritsLoose},function(t){i=t.cclegacy,o=t._decorator,e=t.CircleCollider2D,a=t.Contact2DType,s=t.sp,c=t.Component},function(t){u=t.SoundManager},function(t){l=t.EventCenter},function(t){r=t.RandomTools},function(t){d=t.ObugaStatus,h=t.ObugaAni},function(t){g=t.Constants},function(t){C=t.PlayerController},function(t){A=t.AIFriend}],execute:function(){var f;i._RF.push({},"72cafRbpVNCIofIKawb8Oyj","AIObuga",void 0);var b=o.ccclass;o.property,t("AIObuga",b("AIObuga")(f=function(t){function i(){for(var n,i=arguments.length,o=new Array(i),e=0;e<i;e++)o[e]=arguments[e];return(n=t.call.apply(t,[this].concat(o))||this).circleCollider=void 0,n.skeletonNode=void 0,n.obugaAni=void 0,n.isAttackStatus=!1,n.hitNode=void 0,n}n(i,t);var o=i.prototype;return o.onLoad=function(){this.circleCollider=this.getComponent(e),this.circleCollider.on(a.BEGIN_CONTACT,this.onBeginContact,this),this.circleCollider.on(a.END_CONTACT,this.onEndContact,this)},o.onBeginContact=function(t,n,i){this.isAttackStatus||!n||n.tag!=g.Collicer_Tag_Friend&&n.tag!=g.Collicer_Tag_Player||this.Attack(n)},o.onEndContact=function(t,n,i){this.isAttackStatus||this.obugaAni.ChangeObugaAniStatus(d.Seek)},o.InitObuga=function(t,n){this.node.worldPosition=n,this.isAttackStatus=!1,this.circleCollider.radius=t,this.obugaAni=this.node.addComponent(h),this.skeletonNode=this.node.getChildByPath("ObugaSkeleton");var i=this.skeletonNode.getComponent(s.Skeleton);this.obugaAni.InitSkeleton(i),this.obugaAni.ChangeObugaAniStatus(d.Idle),this.hitNode=this.skeletonNode.getChildByPath("HitPos")},o.Attack=function(t){var n=this,i=t.node.worldPosition.x-this.node.worldPosition.x;this.skeletonNode.scale=i>0?g.obugaRightScale:g.obugaLeftScale,this.obugaAni.ChangeObugaAniStatus(d.Attack),this.isAttackStatus=!0;var o=t.node.getComponent(A);if(o&&o.CanCatch()&&o){this.isAttackStatus=!0;var e=o.node.worldPosition;this.obugaAni.SetHitCallBack((function(){o.BeCatch(n.hitNode.worldPosition,e);var t=r.RandomIntRegion(1,4);u.Instance.PlaySounds(g.soundPunch+t),o.PlayHitAni()})),this.obugaAni.SetHitCompeteCallBack((function(){l.Instance.TriggerEvent(g.Event_Game_FirendFail,o.GetFriendInfo()),n.isAttackStatus=!1,n.obugaAni.ChangeObugaAniStatus(d.Idle),n.scheduleOnce((function(){o.node.active=!1}),g.failDisappearTime)}))}var a=t.node.getComponent(C);if(a&&a.CanCatch()){this.isAttackStatus=!0;var s=a.node.worldPosition;this.obugaAni.SetHitCallBack((function(){a.BeCatch(n.hitNode.worldPosition,s);var t=r.RandomIntRegion(1,4);u.Instance.PlaySounds(g.soundPunch+t),a.PlayHitAni()})),this.obugaAni.SetHitCompeteCallBack((function(){n.isAttackStatus=!1,n.obugaAni.ChangeObugaAniStatus(d.Idle),n.scheduleOnce((function(){a.node.active=!1,l.Instance.TriggerEvent(g.Event_Player_BeCatch)}),g.failDisappearTime)}))}},i}(c))||f);i._RF.pop()}}}));

System.register("chunks:///_virtual/AIOrange.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundManager.ts","./EventCenter.ts","./LogUtil.ts","./RandomTools.ts","./OrangeAni.ts","./Constants.ts","./PlayerController.ts","./AIFriend.ts","./AIGeneratePath.ts","./AIPathManager.ts"],(function(t){"use strict";var e,i,n,o,a,s,r,h,l,d,c,g,P,m,u,v,C,S,p,f,T,A,_;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator,o=t.RigidBody2D,a=t.CircleCollider2D,s=t.Contact2DType,r=t.Vec2,h=t.Vec3,l=t.sp,d=t.tween,c=t.Tween,g=t.Component},function(t){P=t.SoundManager},function(t){m=t.EventCenter},function(t){u=t.LogUtil},function(t){v=t.RandomTools},function(t){C=t.OrangeStatus,S=t.OrangeAni},function(t){p=t.Constants},function(t){f=t.PlayerController},function(t){T=t.AIFriend},function(t){A=t.AIGeneratePath},function(t){_=t.AIPathManager}],execute:function(){var k;i._RF.push({},"2e7e0XLtXJJpr9Nds2eCsVl","AIOrange",void 0);var G=n.ccclass;n.property,t("AIOrange",G("AIOrange")(k=function(t){function i(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).skeletonNode=void 0,e.orangeAni=void 0,e.aiGeneratePath=void 0,e.isStartPatrol=!1,e.isMoveStatus=!1,e.isLockTarget=!1,e.isHitFriendStatus=!1,e.lockNode=null,e.tempFrame=1,e.detectPathFrame=5,e.allPathPoints=void 0,e.detectPathPoints=void 0,e.moveTargetPos=void 0,e.tempGetRandomPoint=void 0,e.triggerCollider=void 0,e.catchCollider=void 0,e.rig=void 0,e.tempLinearNormalize=void 0,e.tempLinearSpeed=void 0,e.chaseSpeed=8,e.patrolSpeed=300,e.hitPosNode=void 0,e}e(i,t);var n=i.prototype;return n.onLoad=function(){this.rig=this.node.getComponent(o);var t=this.node.getComponents(a);if(t)for(var e=0;e<t.length;e++)t[e].tag==p.Collicer_Tag_Orange?(this.triggerCollider=t[e],this.triggerCollider.on(s.BEGIN_CONTACT,this.OnDetectBeginContact,this),this.triggerCollider.on(s.END_CONTACT,this.OnDetectEndContact,this)):t[e].tag==p.Collicer_Tag_Orange_Catch&&(this.catchCollider=t[e],this.catchCollider.on(s.BEGIN_CONTACT,this.OnCatchBeginContact,this))},n.onEnable=function(){m.Instance.AddEventListener(p.Event_Game_Start,this.OnGameStart,this),m.Instance.AddEventListener(p.Event_Game_Victory,this.OnGameVictory,this),m.Instance.AddEventListener(p.Event_Game_Fail,this.OnGameFail,this),m.Instance.AddEventListener(p.Event_Game_TimeUp,this.OnGameTimeUp,this),m.Instance.AddEventListener(p.Event_Player_GetMoreTime,this.OnGetMoreTime,this)},n.onDisable=function(){m.Instance.RemoveEventListener(p.Event_Game_Start,this.OnGameStart,this),m.Instance.RemoveEventListener(p.Event_Game_Victory,this.OnGameVictory,this),m.Instance.RemoveEventListener(p.Event_Game_Fail,this.OnGameFail,this),m.Instance.RemoveEventListener(p.Event_Game_TimeUp,this.OnGameTimeUp,this),m.Instance.RemoveEventListener(p.Event_Player_GetMoreTime,this.OnGetMoreTime,this)},n.OnGameTimeUp=function(){this.isStartPatrol=!1},n.OnGetMoreTime=function(){this.isStartPatrol=!0},n.OnCatchBeginContact=function(t,e,i){var n=this;if(!this.isHitFriendStatus&&this.isLockTarget&&e&&(e.tag==p.Collicer_Tag_Friend||e.tag==p.Collicer_Tag_Player)&&this.lockNode==e.node){this.StopAIEPatrol(),this.rig.linearVelocity=r.ZERO,this.ChangeSkeletonDir(e.node.worldPosition.x-this.node.worldPosition.x);var o=e.node.getComponent(T);if(o&&o.CanCatch()){this.isHitFriendStatus=!0;var a=o.node.worldPosition;o.BeCatch(this.hitPosNode.worldPosition,a),this.orangeAni.SetHitCallBack((function(){var t=v.RandomIntRegion(1,4);P.Instance.PlaySounds(p.soundPunch+t),o.PlayHitAni()})),this.orangeAni.SetHitCompeteCallBack((function(){m.Instance.TriggerEvent(p.Event_Game_FirendFail,o.GetFriendInfo()),n.isHitFriendStatus=!1,n.isLockTarget=!1,n.isMoveStatus=!1,n.lockNode=null,n.isStartPatrol=!0,n.scheduleOnce((function(){o.node.active=!1}),p.failDisappearTime)}))}var s=e.node.getComponent(f);if(s&&s.CanCatch()){this.isHitFriendStatus=!0;var h=s.node.worldPosition;s.BeCatch(this.hitPosNode.worldPosition,h),this.orangeAni.SetHitCallBack((function(){s.PlayHitAni()})),this.orangeAni.SetHitCompeteCallBack((function(){n.isHitFriendStatus=!1,n.isLockTarget=!1,n.lockNode=null,n.isStartPatrol=!0,n.isMoveStatus=!1,n.scheduleOnce((function(){s.node.active=!1,m.Instance.TriggerEvent(p.Event_Player_BeCatch)}),p.failDisappearTime)}))}this.orangeAni.ChangeAniStatus(C.Attack)}},n.OnDetectBeginContact=function(t,e,i){if(e&&(e.tag==p.Collicer_Tag_Friend||e.tag==p.Collicer_Tag_Player)){if(this.lockNode&&e.node!=this.lockNode){var n=h.distance(this.lockNode.worldPosition,this.node.worldPosition);if(h.distance(this.node.worldPosition,e.node.worldPosition)>n)return}var o=e.node.getComponent(T);o&&o.CanCatch()&&(this.isLockTarget=!0,this.lockNode=o.node);var a=e.node.getComponent(f);a&&a.CanCatch()&&(this.isLockTarget=!0,this.lockNode=a.node)}},n.OnDetectEndContact=function(t,e,i){e&&this.isLockTarget&&(e.tag==p.Collicer_Tag_Friend||e.tag==p.Collicer_Tag_Player)&&this.lockNode==e.node&&(this.isLockTarget=!1,this.lockNode=null,this.isStartPatrol=!0)},n.InitOrange=function(t,e,i,n,o){this.moveTargetPos=new h,this.tempLinearNormalize=new r,this.tempLinearSpeed=new r,this.tempGetRandomPoint=new r,this.detectPathFrame=o,this.chaseSpeed=i,this.patrolSpeed=n,this.triggerCollider.radius=e,this.skeletonNode=this.node.getChildByPath("OrangeSkeleton");var a=this.skeletonNode.getComponent(l.Skeleton);this.orangeAni=this.node.addComponent(S),this.orangeAni.InitSkeleton(a),this.orangeAni.ChangeAniStatus(C.Idle),this.hitPosNode=this.skeletonNode.getChildByPath("HitPos"),this.allPathPoints=t,this.aiGeneratePath=new A,this.aiGeneratePath.InitAIMove(t,this.node),_.Instance.AddTask(this.FrameUpdate.bind(this))},n.FrameUpdate=function(){if(!this.isHitFriendStatus&&(this.isLockTarget&&this.StartCatchFriend(),this.isStartPatrol&&!this.isMoveStatus))return null==this.detectPathPoints||null==this.detectPathPoints||0==this.detectPathPoints.length?(this.tempFrame++,this.isMoveStatus=!1,void(this.tempFrame%this.detectPathFrame==0&&(this.isLockTarget||this.StartAIPatrol(),this.tempFrame=1))):void this.MoveToPoint()},n.StartCatchFriend=function(){if(this.StopAIEPatrol(),this.orangeAni.ChangeAniStatus(C.Run),this.lockNode){var t=this.lockNode.worldPosition.x-this.node.worldPosition.x,e=this.lockNode.worldPosition.y-this.node.worldPosition.y,i=this.tempLinearNormalize.set(t,e).normalize().multiplyScalar(this.chaseSpeed);this.ChangeSkeletonDir(t),this.rig.linearVelocity=this.tempLinearSpeed.set(i)}},n.StartAIPatrol=function(){var t=v.RandomInt(this.allPathPoints.length),e=this.allPathPoints[t];this.tempGetRandomPoint.set(e.x,e.y),this.tempGetRandomPoint&&(this.detectPathPoints=this.aiGeneratePath.AddTargetPointGeneratePath(this.tempGetRandomPoint))},n.StopAIEPatrol=function(){this.isStartPatrol&&(this.isStartPatrol=!1,this.isMoveStatus=!1,this.detectPathPoints=[],this.StopTween())},n.MoveToPoint=function(){var t=this;if(this.detectPathPoints&&this.detectPathPoints.length>0){var e=this.detectPathPoints.shift();this.moveTargetPos.set(e.x,e.y,0),this.isMoveStatus=!0,this.ChangeSkeletonDir(this.moveTargetPos.x-this.node.worldPosition.x),this.orangeAni.ChangeAniStatus(C.Run);var i=r.distance(this.node.worldPosition,this.moveTargetPos)/this.patrolSpeed;d(this.node).to(i,{worldPosition:this.moveTargetPos}).call((function(){t.isMoveStatus=!1})).start()}else u.Log("MoveToPint not detect path points")},n.StopTween=function(){c.stopAllByTarget(this.node)},n.ChangeSkeletonDir=function(t){this.skeletonNode.scale=t>0?p.rightScale:p.leftScale},n.OnGameStart=function(){this.isStartPatrol=!0},n.OnGameVictory=function(){this.isStartPatrol=!1},n.OnGameFail=function(){this.isStartPatrol=!1},i}(g))||k);i._RF.pop()}}}));

System.register("chunks:///_virtual/AIPathManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){"use strict";var t,e,n,a;return{setters:[function(r){t=r.inheritsLoose},function(r){e=r.cclegacy,n=r._decorator,a=r.Component}],execute:function(){var s,i;e._RF.push({},"125b6Q1rQFBEq0DzkajrhsI","AIPathManager",void 0);var u=n.ccclass;n.property,r("AIPathManager",u("AIPathManager")(((i=function(r){function e(){for(var t,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return(t=r.call.apply(r,[this].concat(n))||this).frameUpdateArr=void 0,t.countNum=0,t.currentFrameIndex=0,t}t(e,r);var n=e.prototype;return n.onLoad=function(){null==e.Instance?(e.Instance=this,this.frameUpdateArr=[]):this.destroy()},n.update=function(r){this.countNum>0&&(this.currentFrameIndex>=this.countNum&&(this.currentFrameIndex=0),this.frameUpdateArr[this.currentFrameIndex++]())},n.AddTask=function(r){this.frameUpdateArr.push(r),this.countNum=this.frameUpdateArr.length},n.RemoveTask=function(r){for(var t=0;t<this.frameUpdateArr.length;t++)if(this.frameUpdateArr[t]==r){var e=this.frameUpdateArr.indexOf(r);return e==this.currentFrameIndex&&this.currentFrameIndex--,this.frameUpdateArr.splice(e,1),void(this.countNum=this.frameUpdateArr.length)}},n.ClearTask=function(){this.countNum=0,this.currentFrameIndex=0,this.frameUpdateArr=[]},e}(a)).Instance=null,s=i))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/AssetManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LogUtil.ts"],(function(e){"use strict";var s,t,o,n,r,a;return{setters:[function(e){s=e.inheritsLoose},function(e){t=e.cclegacy,o=e._decorator,n=e.assetManager,r=e.Component},function(e){a=e.LogUtil}],execute:function(){var l,u;t._RF.push({},"43bf48xIypBkoprCxfcSDWu","AssetManager",void 0);var d=o.ccclass;o.property,e("AssetManager",d("SoundManager")(((u=function(e){function t(){for(var s,t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return(s=e.call.apply(e,[this].concat(o))||this).currentLoadedABNum=0,s.totalABNum=0,s.currentLoadedAssetNum=0,s.totalAssetNum=0,s.abBoundles={},s.loadProgressFunc=null,s.loadCompleteFunc=null,s}s(t,e);var o=t.prototype;return o.onLoad=function(){null==t.Instance?t.Instance=this:this.destroy()},o.PreLoadResPkg=function(e,s,t){var o=this;for(var n in this.currentLoadedABNum=0,this.totalABNum=0,this.currentLoadedAssetNum=0,this.totalAssetNum=0,this.loadProgressFunc=s,this.loadCompleteFunc=t,e){this.totalABNum++;for(var r=e[n],a=0;a<r.length;a++)this.totalAssetNum+=r[a].urls.length}for(var n in e)this.LoadAssetBundle(n,(function(){o.currentLoadedABNum++,o.currentLoadedABNum==o.totalABNum&&o.LoadAssetFromAssetBundle(e)}))},o.LoadAssetBundle=function(e,s){var t=this;a.Log("加载AB资源:"+e),n.loadBundle(e,(function(o,n){null==o?(t.abBoundles[e]=n,a.Log("AssetManager Load AssetBundle: "+e+" Success!"),null!=s&&s()):a.Error("AssetManager Load AssetBundle: "+e+" Error:"+o)}))},o.LoadAssetFromAssetBundle=function(e){for(var s in e)for(var t=e[s],o=0;o<t.length;o++)for(var n=t[o].urls,r=t[o].assetType,a=0;a<n.length;a++)this.LoadAsset(this.abBoundles[s],n[a],r)},o.LoadAsset=function(e,s,t){var o=this;null!=e?(a.Log("加载资源:"+s),e.load(s,t,(function(e,t){o.currentLoadedAssetNum++,e?a.Error("load asset: "+s+" fail,error: "+e):(a.Log("load asset: "+s+" success!"),o.loadProgressFunc&&o.loadProgressFunc(o.currentLoadedAssetNum,o.totalAssetNum),a.Log("loaded asset:"+o.currentLoadedAssetNum+" total asset:"+o.totalAssetNum),o.currentLoadedAssetNum>=o.totalAssetNum&&o.loadCompleteFunc&&o.loadCompleteFunc())}))):a.Error("current abBundle is null! load asset url:"+s)},o.LoadDirAsset=function(e,s,t){var o=this.abBoundles[e];null!=o?o.loadDir(s,(function(e,o){e?a.Error("load dir: "+s+" fail,error: "+e):(a.Log("load dir: "+s+" success!"),t())})):a.Log("LoadDirAsset: "+e+" is null, please load assetbundle first!")},o.GetAssets=function(e,s){var t=n.getBundle(e);if(null!=t){var o=t.get(s);return null==o&&a.Error("No asset find: "+s+" in assetbundle: "+e),o}a.Error(e+" is null,please load assetbundle first!")},o.UnLoadAssetBundle=function(e){var s=n.getBundle(e);n.removeBundle(s)},o.UnLoadAssetBundleAllAsset=function(e){for(var s in e){n.getBundle(s).releaseAll()}},o.UnLoadAsset=function(e){for(var s in e)for(var t=e[s].urls,o=0;o<t.length;o++)n.releaseAsset[t[o]]},t}(r)).Instance=null,l=u))||l);t._RF.pop()}}}));

System.register("chunks:///_virtual/BaiDuADApi.ts",["cc","./AdsIdConfig.ts"],(function(n){"use strict";var t,e,i;return{setters:[function(n){t=n.cclegacy,e=n._decorator},function(n){i=n.default}],execute:function(){var o;t._RF.push({},"e5403TQwI1GM6nYAsmhEhcw","BaiDuADApi",void 0);var a=e.ccclass;e.property,n("default",a(o=function(){function n(){this.clipIndexList=void 0,this.videoPath=void 0,this.arg=void 0,this.SystemBannerData=null,this.SystemIntersData=null,this.VideoData=null,this.NativeBannerData=null,this.NativeIntersData=null,this.NativeIconData=null,this.JGGBoxData=null,this.BlockData=null,this.AdCustomIntersData=null,this.swan=window.swan,this.systemBannerAd=null,this.loadSucc_SystemBanner=!1,this.isShow_SystemBanner=!1,this.NUM_BannerUpdateTime=30,this.interval_updateBanner=null,this.interstitialAd=null,this.rewardedVideoAd=null,this.loadSucc_Video=!1,this.callback_Video=null,this.nativeAd=null,this.resTemp=null,this.title="超上瘾的解密游戏，挑战你的智商！",this.shareUrl="https://res.efunent.com/dev2/web2/LceFirePeople/qq/data/share.jpg",this.content="分享内容",this.systemInfo=null}var t=n.prototype;return t.setGroup=function(n){},t.onInit=function(n){null!==this.swan&&void 0!==this.swan?(this.systemInfo=this.swan.getSystemInfoSync(),this.createAd()):this.swan=null,n&&n(),console.log("百度 ===================> onInit ok")},t.createAd=function(){this.SystemBannerData.enabled&&""!=this.SystemBannerData.vendor_position&&this.createSystemBanner(),this.VideoData.enabled&&""!=this.VideoData.vendor_position&&this.createVideo()},t.onLogin=function(){},t.onShare=function(n){null!=this.swan&&null!=this.swan&&(console.log("百度平台 分享"),this.swan.shareAppMessage({title:this.title,imageUrl:this.shareUrl,content:this.content,success:function(){n&&n(1)},fail:function(){n&&n(0)}}))},t.ShareVideo=function(n,t,e){},t.createSystemBanner=function(){var n=this;console.log("ChaoQiGameSDK","--createSystemBanner--"),i.stringHasSpace(this.SystemBannerData.vendor_position)?console.log("ChaoQiGameSDK","channelId:","当前渠道系统banner广告ID中含有空字符串,请检查后台系统banner广告ID*********************"):(this.systemBannerAd=this.swan.createBannerAd({adUnitId:this.SystemBannerData.vendor_position,appSid:this.SystemBannerData.vendor_position,style:{}}),this.loadSucc_SystemBanner=!0,this.systemBannerAd.onError((function(n){console.log("ChaoQiGameSDK","OPPO 系统banner加载/展示失败：",JSON.stringify(n))})),this.systemBannerAd.onHide((function(){console.log("ChaoQiGameSDK","OPPO 系统banner关闭",n.NUM_BannerUpdateTime+"S之后再次刷新"),n.updateBanner()})))},t.showBanner=function(){null!==this.swan&&void 0!==this.swan&&this.loadSucc_SystemBanner&&this.showSystemBanner()},t.hideBanner=function(){this.hideSystemBanner(),this.interval_updateBanner&&clearInterval(this.interval_updateBanner)},t.showSystemBanner=function(){this.isShow_SystemBanner=!0,this.systemBannerAd.show()},t.hideSystemBanner=function(){this.isShow_SystemBanner&&this.systemBannerAd&&(this.isShow_SystemBanner=!1,this.systemBannerAd.offHide(),this.systemBannerAd.hide())},t.updateBanner=function(){var n=this;this.interval_updateBanner&&clearInterval(this.interval_updateBanner),this.interval_updateBanner=setInterval((function(){n.updateSystemBanner()}),1e3*this.NUM_BannerUpdateTime)},t.updateSystemBanner=function(){this.hideSystemBanner(),this.showSystemBanner()},t.createVideo=function(){var n=this;if(null!==this.swan&&void 0!==this.swan){if(i.stringHasSpace(this.VideoData.vendor_position))return void console.log("ChaoQiGameSDK","vendor_position:","当前渠道视频广告ID中含有空字符串,请检查后台视频广告ID*********************");console.log("百度平台 创建激励视频广告"),this.rewardedVideoAd=this.swan.createRewardedVideoAd({adUnitId:this.VideoData.vendor_position,appSid:this.VideoData.vendor_position}),this.rewardedVideoAd.onLoad((function(){console.log("激励视频广告 加载成功"),n.loadSucc_Video=!0})),this.rewardedVideoAd.onError((function(t){console.log("百度H5GameAPI 激励视频 加载失败:code =====>:"+t.code+"message ======>:"+JSON.stringify(t)),n.loadSucc_Video=!1,n.rewardedVideoAd&&setTimeout((function(){n.rewardedVideoAd&&n.rewardedVideoAd.load()}),3e4)})),this.rewardedVideoAd.onClose((function(t){t.isEnded?(console.log("ChaoQiGameSDK","OPPO 激励视频广告完成，发放奖励"),n.callback_Video&&(n.callback_Video(!0),n.rewardedVideoAd.load())):(console.log("ChaoQiGameSDK","OPPO 激励视频广告关闭，不发放奖励"),n.callback_Video&&(n.callback_Video(!1),n.rewardedVideoAd.load()))})),this.rewardedVideoAd.load()}},t.showVideo=function(n){this.rewardedVideoAd&&this.loadSucc_Video&&(this.callback_Video=n,this.rewardedVideoAd.show(),this.loadSucc_Video=!1)},t.showVideoAward=function(){},t.showVideoFail=function(){},t.createInsertAd=function(){},t.showInsertAd=function(){},t.createNativeAd=function(){},t.showNativeAd=function(n,t,e){},t.onNativeAdClick=function(n){},t.onNativeReportAdShow=function(n){},t.createNativeIconAd=function(){},t.showNativeIconAd=function(){},t.onNativeIconAdClick=function(n){},t.createGridAd=function(n,t){},t.saveDataToCache=function(n,t){},t.readDataFromCache=function(n){},t.addDesktop=function(n){},t.hasShortcutInstalled=function(n){},t.StartRecorder=function(n){},t.stopRecordScreen=function(){},t.createMoreGamesBtn=function(){},t.showMoreGamesBtn=function(){},t.jumpToGame=function(n){},t.addColorBookmark=function(){},t.addSubscribeApp=function(){},t.vibrateShort=function(){null!==this.swan&&void 0!==this.swan&&this.swan.vibrateShort&&this.swan.vibrateShort()},t.vibrateLong=function(){null!==this.swan&&void 0!==this.swan&&this.swan.vibrateLong&&this.swan.vibrateLong()},t.reportAnalytics=function(n,t){},t.recordClipRecorder=function(n){},t.pauseGameVideo=function(){},t.resumeGameVideo=function(){},t.getNativeAdInfo=function(n){},t.getHWNativeAdInfo=function(n){},t.reportNativeImageClick=function(n){},t.reportNativeImageShow=function(n){},t.loadNativeImage=function(){},t.getNativeIconAdInfo=function(n){},t.reportNativeIconClick=function(n){},t.reportNativeIconShow=function(n){},t.loadNativeIcon=function(){},t.showNavigateBoxPortal=function(){},t.showNavigateBoxBanner=function(){},t.hideNavigateBoxBanner=function(){},t.phoneVibrate=function(n){},t.showCustomAd=function(){},t.hideCustomAd=function(){},t.showGridAd=function(){},t.hideGridAd=function(){},n}())||o);t._RF.pop()}}}));

System.register("chunks:///_virtual/BlueAni.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SkeletonItem.ts"],(function(t){"use strict";var e,n,i,a;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator},function(t){a=t.SkeletonItem}],execute:function(){var c;t("BlueStatus",void 0),n._RF.push({},"55dbavPh+JJOJDNculgZFlr","BlueAni",void 0);var l,s,o=i.ccclass;i.property;!function(t){t.Catch="catch",t.Home="home",t.Idle="idle",t.Lose="lose",t.Punch_Start="Powepunch",t.Punch_Loop="Punch_loop",t.Run="Run",t.Victory="victory",t.Walk="walk"}(l||(l={})),function(t){t[t.Idle=0]="Idle",t[t.Walk=1]="Walk",t[t.Run=2]="Run",t[t.Catched=3]="Catched",t[t.Victory=4]="Victory",t[t.Fail=5]="Fail",t[t.Default=6]="Default"}(s||(s=t("BlueStatus",{})));t("BlueAni",o("BlueAni")(c=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))||this).previousAniStatus=s.Default,e}e(n,t);var i=n.prototype;return i.SetHitCallBack=function(t){this.GetSkeleton().setEventListener((function(e,n){6==e.trackIndex&&t()}))},i.SetHitCompeteCallBack=function(t){this.GetSkeleton().setCompleteListener((function(e){6==e.trackIndex&&t()}))},i.ChangeBlueAniStatus=function(t){if(this.previousAniStatus!=t)switch(this.previousAniStatus=t,t){case s.Idle:this.ClearTracks(),this.PlayAni(l.Idle,!0,1);break;case s.Walk:this.PlayAni(l.Walk,!0,1);break;case s.Run:this.PlayAni(l.Run,!0,1);break;case s.Catched:this.ClearTracks(),this.AddAni(l.Catch,!1,0),this.AddAni(l.Punch_Start,!1,0),this.AddAni(l.Punch_Loop,!1,0);break;case s.Victory:this.PlayAni(l.Victory,!0,1);break;case s.Fail:this.PlayAni(l.Lose,!0,1)}},n}(a))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/BoostView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AdManager.ts","./AdBridge.ts","./SoundManager.ts","./EventCenter.ts","./TipManager.ts","./UIBase.ts","./UIManager.ts","./StringHelper.ts","./Constants.ts"],(function(e){"use strict";var t,i,n,s,o,a,r,d,l,c,u,h;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy,n=e._decorator},function(e){s=e.default},function(e){o=e.AdBridge},function(e){a=e.SoundManager},function(e){r=e.EventCenter},function(e){d=e.TipManager},function(e){l=e.UIBase},function(e){c=e.UIManager},function(e){u=e.StringHelper},function(e){h=e.Constants}],execute:function(){var S;i._RF.push({},"53f38FW9RlLq7fU5FGbMY4u","BoostView",void 0);var w=n.ccclass;n.property,e("BoostView",w("BoostView")(S=function(e){function i(){for(var t,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(t=e.call.apply(e,[this].concat(n))||this).isFirstTimeGetReward=!1,t.firstTimeKey="FirstTimeGetGameReward",t.isFirstTimeHostileGetReward=!1,t.firstTimeHostileKey="FirstTimeHostileKey",t.isHostile=!1,t}t(i,e);var n=i.prototype;return n.onLoad=function(){e.prototype.onLoad.call(this),this.BindBtnListener()},n.BindBtnListener=function(){this.AddBtnListener("CloseBtn",this,this.OnClickCloseBtn),this.AddBtnListener("AbandonBtn",this,this.OnClickCloseBtn),this.AddBtnListener("AbandonBtn1",this,this.OnClickCloseBtn),this.AddBtnListener("SignLayout/SignInItem/RewardAddSpeedBtn",this,this.OnClickRewardAddSpeedBtn),this.AddBtnListener("SignLayout/SignInItem2/RewardMoreTimeBtn",this,this.OnClickRewardMoreTimeBtn)},n.OnClickCloseBtn=function(){c.Instance.HideUI(h.boostViewAssetPath,!0,!0)},n.OnClickRewardRollItemBtn=function(){var e=this;this.isFirstTimeHostileGetReward?this.RewardRollItemCallBack():o.ShowRewardVideo((function(){e.RewardRollItemCallBack()}))},n.OnClickRewardAddSpeedBtn=function(){var e=this;this.isFirstTimeGetReward?this.RewardAddSpeedCallBack():(s.getInstance().reportAnalytics("reward_start_addspeed",{}),o.ShowRewardVideo((function(){e.RewardAddSpeedCallBack()})))},n.OnClickRewardMoreTimeBtn=function(){var e=this;this.isFirstTimeGetReward?this.RewardMoreTimeCallBack():(s.getInstance().reportAnalytics("reward_start_getmoretime",{}),o.ShowRewardVideo((function(){e.RewardMoreTimeCallBack()})))},n.RewardRollItemCallBack=function(){d.Instance.ShowTip("恭喜您本局获得翻滚技能!"),a.Instance.PlaySounds(h.soundUnlockSuccess),r.Instance.TriggerEvent(h.Event_HostilePlayer_GetRollSkill),c.Instance.HideUI(h.boostViewAssetPath,!0,!0),localStorage.setItem(this.firstTimeHostileKey,"true"),s.getInstance().reportAnalytics("hotilemodegetrollskill",null)},n.RewardMoreTimeCallBack=function(){d.Instance.ShowTip("恭喜您获得更多时间!"),a.Instance.PlaySounds(h.soundUnlockSuccess),r.Instance.TriggerEvent(h.Event_Player_GetMoreTime),c.Instance.HideUI(h.boostViewAssetPath,!0,!0),localStorage.setItem(this.firstTimeKey,"true")},n.RewardAddSpeedCallBack=function(){a.Instance.PlaySounds(h.soundUnlockSuccess),d.Instance.ShowTip("恭喜您获得加速!"),r.Instance.TriggerEvent(h.Event_Player_GetMoreSpeed),c.Instance.HideUI(h.boostViewAssetPath,!0,!0),localStorage.setItem(this.firstTimeKey,"true")},n.OnShow=function(){this.isHostile=arguments.length<=0?void 0:arguments[0],this.isHostile||this.OnSurviveMode()},n.OnSurviveMode=function(){var e=localStorage.getItem(this.firstTimeKey);if(this.ShowHostileBoostUI(!1),u.isEmptyStr(e)){this.isFirstTimeGetReward=!0;var t=this.node.getChildByPath("SignLayout/SignInItem/RewardAddSpeedBtn/RewardIcon"),i=this.node.getChildByPath("SignLayout/SignInItem2/RewardMoreTimeBtn/RewardIcon");t&&(t.active=!1),i&&(i.active=!1)}else this.isFirstTimeGetReward=!1},n.ShowHostileBoostUI=function(e){this.allNodes["SignLayout/RollItem"].active=e},n.ShowSurviveModeUI=function(e){this.allNodes["SignLayout/SignInItem"].active=e,this.allNodes["SignLayout/SignInItem2"].active=e},n.OnHide=function(e){this.isHostile?r.Instance.TriggerEvent(h.Event_Game_Start):o.OnSurviveModeHideBoost()},i}(l))||S);i._RF.pop()}}}));

System.register("chunks:///_virtual/BridgeManager.ts",["cc"],(function(e){"use strict";var i;return{setters:[function(e){i=e.cclegacy}],execute:function(){i._RF.push({},"adcfcc36NVESZd2Ex5GYZpg","BridgeManager",void 0);var a=e("BridgeManager",function(){function e(){this.isDebugMode=!1,this.rewardSuccessFunc=void 0,this.rewardFailFunc=void 0,this.androidJavaClass="com/google/android/gms/Docking"}e.Instance=function(){return this._instance||(this._instance=new this),this._instance};var i=e.prototype;return i.SetDebugMode=function(e){this.isDebugMode=e},i.CallJavaFunc=function(e,i){void 0===i&&(i=!0),this.isDebugMode||(i?native.reflection.callStaticMethod(this.androidJavaClass,e,"()V"):jsb.reflection.callStaticMethod(this.androidJavaClass,e,"()V"))},i.ShowRewardVideo=function(e,i){this.rewardSuccessFunc=e,this.rewardFailFunc=i,this.CallJavaFunc("ShowRewardVideo"),this.isDebugMode&&this.rewardSuccessFunc()},i.JavaCallBackFunc=function(e){"RewardSuccess"==e?this.rewardSuccessFunc&&this.rewardSuccessFunc():"RewardFail"==e&&this.rewardFailFunc&&this.rewardFailFunc()},e}());a._instance=void 0,window.BridgeManager=a.Instance(),i._RF.pop()}}}));

System.register("chunks:///_virtual/CageControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CageItem.ts"],(function(e){"use strict";var o,t,i,a,d,g;return{setters:[function(e){o=e.inheritsLoose},function(e){t=e.cclegacy,i=e._decorator,a=e.instantiate,d=e.Component},function(e){g=e.CageItem}],execute:function(){var s;t._RF.push({},"965de0JIDJGv7Bm7etrMWiG","CageControl",void 0);var h=i.ccclass;i.property,e("CageControl",h("CageControl")(s=function(e){function t(){for(var o,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return(o=e.call.apply(e,[this].concat(i))||this).cageNum=9,o.CageBottomRootNode=void 0,o.CageTopRootNode=void 0,o.cageSliderRootNode=void 0,o.cageHelpMeRootNode=void 0,o.CageBottomNode=void 0,o.CageTopNode=void 0,o.unlockProgressBg=void 0,o.helpPicNode=void 0,o.allCageItems=void 0,o.currentCageIndex=0,o}o(t,e);var i=t.prototype;return i.FindCageTempNode=function(){this.CageBottomRootNode=this.node.getChildByPath("CageBottomNode"),this.CageTopRootNode=this.node.getChildByPath("CageTopNode"),this.cageSliderRootNode=this.node.getChildByPath("CageSliderNode"),this.cageHelpMeRootNode=this.node.getChildByPath("CageHelpMeNode"),this.CageBottomNode=this.CageBottomRootNode.getChildByPath("CageBottom"),this.CageTopNode=this.CageTopRootNode.getChildByPath("CageTop"),this.unlockProgressBg=this.cageSliderRootNode.getChildByPath("UnlockProgressBg"),this.helpPicNode=this.cageHelpMeRootNode.getChildByPath("Pic")},i.HideCageTempNode=function(){this.CageBottomNode.active=!1,this.CageTopNode.active=!1,this.unlockProgressBg.active=!1,this.helpPicNode.active=!1},i.InitCage=function(){this.allCageItems=[],this.currentCageIndex=0,this.FindCageTempNode();for(var e=0;e<this.cageNum;e++){var o=a(this.CageBottomNode),t=a(this.CageTopNode),i=a(this.unlockProgressBg),d=a(this.helpPicNode),s=o.addComponent(g);this.CageBottomRootNode.addChild(o),this.cageSliderRootNode.addChild(i),this.CageTopRootNode.addChild(t),this.cageHelpMeRootNode.addChild(d),s.InitCageItem(t,o,i,d),this.allCageItems.push(s)}this.HideCageTempNode()},i.SetOneCageItemPos=function(e,o,t){this.currentCageIndex<this.allCageItems.length&&this.allCageItems[this.currentCageIndex++].SetCageItem(e,o,t)},t}(d))||s);t._RF.pop()}}}));

System.register("chunks:///_virtual/CageItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundManager.ts","./EventCenter.ts","./RandomTools.ts","./Constants.ts"],(function(t){"use strict";var e,o,n,i,s,r,c,a,l,g,h,d,u;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,n=t._decorator,i=t.RigidBody2D,s=t.CircleCollider2D,r=t.Contact2DType,c=t.Sprite,a=t.Vec3,l=t.Component},function(t){g=t.SoundManager},function(t){h=t.EventCenter},function(t){d=t.RandomTools},function(t){u=t.Constants}],execute:function(){var C;o._RF.push({},"0509b9TxLtEwpYRs82K61Uq","CageItem",void 0);var p=n.ccclass;n.property,t("CageItem",p("CageItem")(C=function(t){function o(){for(var e,o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))||this).cageTop=void 0,e.cageBottom=void 0,e.cageTopSprite=void 0,e.circleCollider2D=void 0,e.rig=void 0,e.unlockProgressBg=void 0,e.helpMeNode=void 0,e.canCalc=!1,e.intoCage=!1,e.isUnLocked=!1,e.currentProgress=0,e.unlockSpeed=2,e.lockFriend=null,e}e(o,t);var n=o.prototype;return n.start=function(){this.rig=this.node.getComponent(i),this.circleCollider2D=this.node.getComponent(s),this.circleCollider2D.on(r.BEGIN_CONTACT,this.onBeginContact,this),this.circleCollider2D.on(r.END_CONTACT,this.onEndContact,this)},n.onBeginContact=function(t,e,o){if(e&&e.tag==u.Collicer_Tag_Player){var n=u.soundHelp+d.RandomIntRegion(1,2);g.Instance.PlaySounds(n),this.unlockProgressBg.active=!0,this.currentProgress=0,this.intoCage=!0,this.canCalc=!0}},n.onEndContact=function(t,e,o){e&&e.tag==u.Collicer_Tag_Player&&(this.intoCage=!1)},n.update=function(t){!this.isUnLocked&&this.canCalc&&(this.intoCage?(this.currentProgress+=t,this.currentProgress>1&&(this.isUnLocked=!0,this.UnLockFriend(),this.cageTop.active=!1,this.cageBottom.active=!1,this.unlockProgressBg.active=!1,this.helpMeNode.active=!1)):this.currentProgress>0?this.currentProgress-=t:(this.canCalc=!1,this.unlockProgressBg.active=!1),this.cageTopSprite.fillStart=this.currentProgress)},n.UnLockFriend=function(){this.lockFriend&&(this.lockFriend.OnBeRescue(),g.Instance.PlaySounds(u.soundUnLockFriendEffect),h.Instance.TriggerEvent(u.Event_Game_RescueFriend,this.lockFriend.GetFriendInfo()))},n.InitCageItem=function(t,e,o,n){this.cageTop=t,this.cageBottom=e,this.unlockProgressBg=o,this.helpMeNode=n,this.cageTopSprite=this.unlockProgressBg.getChildByPath("Progress").getComponent(c)},n.SetCageItem=function(t,e,o){this.lockFriend=o,this.cageTop.worldPosition=new a(t,e+38,0),this.cageBottom.worldPosition=new a(t,e-60,0),this.unlockProgressBg.worldPosition=new a(t,e+170,0),this.unlockProgressBg.active=!1,this.helpMeNode.worldPosition=new a(t+70,e+90,0)},o}(l))||C);o._RF.pop()}}}));

System.register("chunks:///_virtual/CharacterAniControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundManager.ts","./RandomTools.ts","./FriendAni.ts","./Constants.ts","./CharacterStateControl.ts"],(function(t){"use strict";var a,n,i,e,c,r,l,o,s,k;return{setters:[function(t){a=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator,e=t.Component},function(t){c=t.SoundManager},function(t){r=t.RandomTools},function(t){l=t.FriendAni,o=t.AllFrienAni},function(t){s=t.Constants},function(t){k=t.CharacterState}],execute:function(){var h;n._RF.push({},"04fcc2a3tVHMLztJynQFKKY","CharacterAniControl",void 0);var A=i.ccclass;i.property,t("CharacterAniControl",A("PlayerAniControl")(h=function(t){function n(){for(var a,n=arguments.length,i=new Array(n),e=0;e<n;e++)i[e]=arguments[e];return(a=t.call.apply(t,[this].concat(i))||this).characterAni=void 0,a.currentState=k.Default,a.isInit=!1,a.aniAtkCutTrackIndex=1,a.aniAtkStabTrackIndex=2,a.anirollTrackIndex=3,a.rollStartCallBack=void 0,a.rollStopCallBack=void 0,a.atkStabHitCallBack=void 0,a.atkStabCallBack=void 0,a.isAI=!0,a}a(n,t);var i=n.prototype;return i.InitCharacterAniControl=function(t,a){t&&(this.isAI=a,this.characterAni=this.node.addComponent(l),this.characterAni.InitSkeleton(t),this.AddEventListener(),this.isInit=!0)},i.ChangeSkin=function(t){this.characterAni.ChangeSkin(t)},i.SetRollListener=function(t,a){this.rollStartCallBack=t,this.rollStopCallBack=a},i.SetAtkStabListener=function(t){this.atkStabCallBack=t},i.SetAtkStabHitCallBack=function(t){this.atkStabHitCallBack=t},i.AddEventListener=function(){var t=this;this.characterAni.GetSkeleton().setEventListener((function(a,n){a.trackIndex==t.anirollTrackIndex&&("start"==n.data.name?t.rollStartCallBack&&(c.Instance.PlaySounds(s.soundDash),t.rollStartCallBack()):"stop"==n.data.name&&t.rollStopCallBack&&t.rollStopCallBack()),a.trackIndex!=t.aniAtkCutTrackIndex&&a.trackIndex!=t.aniAtkStabTrackIndex||("hit"==n.data.name&&t.atkStabHitCallBack&&t.atkStabHitCallBack(),"finish"==n.data.name&&t.atkStabCallBack&&t.atkStabCallBack())}))},i.AddAtkStabCompleteListener=function(){var t=this;this.characterAni.GetSkeleton().setCompleteListener((function(a){switch(a.trackIndex){case t.aniAtkCutTrackIndex:case t.aniAtkStabTrackIndex:t.atkStabCallBack&&t.atkStabCallBack()}}))},i.ChangeState=function(t,a){if(this.isInit){if(this.currentState==t)return;switch(t){case k.Idle:this.characterAni.PlayAnimation(o.Hostile_Idle,!0);break;case k.Walk:this.characterAni.PlayAnimation(o.Hostile_Hold,!0,1.2);break;case k.Escape:this.characterAni.PlayAnimation(o.Hostile_Escape,!0,1.2);break;case k.Atack:r.RandomIntRegion(0,100)<30?(this.isAI||(console.log("播放音效!"),c.Instance.PlaySounds(s.soundAttackStab)),this.characterAni.PlayAnimation(o.Hostile_AtkStab,!1,1.5)):(this.isAI||(console.log("播放音效!"),c.Instance.PlaySounds(s.soundAttackCut)),this.characterAni.PlayAnimation(o.Hostile_AtkCut,!1,1.5));break;case k.Roll:this.characterAni.PlayAnimation(o.Hostile_Roll,!1)}this.currentState=t}},i.PlayDance=function(){this.characterAni.PlayDanceAni()},n}(e))||h);n._RF.pop()}}}));

System.register("chunks:///_virtual/CharacterBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventCenter.ts","./Constants.ts","./FollowItem.ts","./CharacterBaseInfo.ts","./PlayerResposeState.ts","./CharacterAniControl.ts","./CharacterStateControl.ts","./CharacterStateRespose.ts"],(function(t){"use strict";var e,i,n,o,a,r,s,c,h,d,l,u,f,C,m,S,I,p;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator,o=t.RigidBody2D,a=t.UIOpacity,r=t.sp,s=t.Vec3,c=t.Component},function(t){h=t.EventCenter},function(t){d=t.Constants},function(t){l=t.FollowItem},function(t){u=t.SkinType,f=t.CharacterInfoHelper},function(t){C=t.PlayerResposeState},function(t){m=t.CharacterAniControl},function(t){S=t.CharacterState,I=t.CharacterStateControl},function(t){p=t.CharacterStateRespose}],execute:function(){var y;i._RF.push({},"600e5mjegdBupAZl1oCD5zi","CharacterBase",void 0);var v=n.ccclass;n.property,t("CharacterBase",v("CharacterBase")(y=function(t){function i(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).isAI=!1,e.isOutGame=!1,e.friendManager=void 0,e.friendDataItem=void 0,e.playerRig=void 0,e.characterStateRespose=void 0,e.characterStateControl=void 0,e.characterAniControl=void 0,e.followItem=void 0,e.isFindChild=!1,e.uiPacity=void 0,e.detectNode=void 0,e.isInPortal=!1,e}e(i,t);var n=i.prototype;return n.FindChild=function(){this.isFindChild||(this.playerRig=this.node.getComponent(o),this.detectNode=this.node.getChildByPath("FriendSkeleton/DetectNode"),this.uiPacity=this.node.getComponent(a),this.isFindChild=!0)},n.SetFollowItem=function(t,e,i){null==this.followItem&&(this.followItem=this.node.addComponent(l)),this.followItem.SetNeedFollowNode(t,e,i,!0)},n.AddManager=function(t){this.friendManager=t},n.GetDetectNodeWorldPos=function(){return this.detectNode?this.detectNode.worldPosition:null},n.GetSkeletonNodeDirX=function(){return this.characterStateRespose.GetSkeletonNodeDirX()},n.GetSelfWorldPos=function(){return this.node.worldPosition},n.GetCharacterId=function(){return this.friendDataItem?this.friendDataItem.characterId:-1},n.IsRollingState=function(){return this.characterStateControl.GetCurrentState()==S.Roll},n.IsOutGame=function(){return this.friendDataItem&&(this.isOutGame=this.friendDataItem.isOutGame),this.isOutGame},n.OutGame=function(){this.node.worldPosition;this.friendDataItem?(this.friendDataItem.isOutGame=!0,this.followItem.HideShadow(),this.uiPacity.opacity=0,this.friendManager.RecycleToScene(this),h.Instance.TriggerEvent(d.Event_HostileGame_FriendOutGame,this.friendDataItem.friendName)):(this.isOutGame=!0,this.uiPacity.opacity=0,h.Instance.TriggerEvent(d.Event_HostileGame_FriendOutGame,"自己"))},n.OnPlayerRevive=function(){this.isOutGame=!1,this.uiPacity.opacity=255},n.RecycleCharacter=function(){this.followItem.ChangeUserName(this.friendDataItem.friendName),this.followItem.ShowShadow(),this.uiPacity.opacity=255},n.ShowDetectNode=function(t){},n.InitCharacterBase=function(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=u.Red),this.FindChild(),this.characterStateControl=new I,this.characterStateRespose=e?this.node.addComponent(p):this.node.addComponent(C),this.isAI=e;var n=this.node.getChildByPath("FriendSkeleton").getComponent(r.Skeleton);this.characterAniControl=this.node.addComponent(m),this.characterAniControl.InitCharacterAniControl(n,this.isAI),this.characterAniControl.SetAtkStabHitCallBack(this.AtkStabHitCallBack.bind(this)),this.characterStateRespose.InitCharacterStateRespose(this.playerRig,this.characterStateControl,t,this.characterAniControl,this.isAI),this.ChangeSkin(i)},n.AtkStabHitCallBack=function(){this.friendManager.AttackHitDetect(this)},n.ChangeSkin=function(t){if(void 0===t&&(t=u.Red),this.characterAniControl){var e=f.skinType[t];this.characterAniControl.ChangeSkin(e)}},n.ThinkNextState=function(t,e){},n.SetFriendWorldPos=function(t,e){this.node.worldPosition=new s(t,e,0)},n.SetFriendDataItem=function(t){this.friendDataItem=t},n.IsInPortal=function(){return this.isInPortal},n.EnterPortal=function(t){var e=this;this.isInPortal=!0,this.scheduleOnce((function(){e.SetFriendWorldPos(t.x,t.y)}))},n.ExitPortal=function(){this.isInPortal=!1},i}(c))||y);i._RF.pop()}}}));

System.register("chunks:///_virtual/CharacterBaseInfo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Singleton.ts","./FriendAni.ts"],(function(e){"use strict";var a,n,r,t;return{setters:[function(e){a=e.inheritsLoose},function(e){n=e.cclegacy},function(e){r=e.Singleton},function(e){t=e.AllFrienAni}],execute:function(){var i,o,s;e({CharacterType:void 0,HideAniType:void 0,SkinType:void 0}),n._RF.push({},"3ad4cGDC5JIPLUNQul9FZWz","CharacterBaseInfo",void 0),e("CharacterInfoHelper",function(e){function n(){for(var a,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=e.call.apply(e,[this].concat(r))||this).hideAniType=[t.Hide_Cartoon,t.Hide_Pinetree,t.Hide_Box,t.Hide_Gift,t.Hide_Shove,t.Hide_Snowman,t.Hide_TNT,t.Hide_Thing],a.hideWalkAniType=[t.Walk_Cartoon,t.Walk_Pinetree,t.Walk_Box,t.Walk_Gift,t.Walk_Shove,t.Walk_Snowman,t.Walk_TNT,t.Walk_Thing],a.hideIdleAniType=[t.Idle_Cartoon,t.Idle_Pinetree,t.Idle_Box,t.Idle_Gift,t.Idle_Shove,t.Idle_Snowman,t.Idle_TNT,t.Idle_Thing],a}return a(n,e),n.prototype.GetSkinStr=function(e){switch(e){case i.Red:return"Red";case i.SpiderMan:return"SpiderMan";case i.Yellow:return"Yellow";case i.GrayWolf:return"GrayWolf";case i.BatMan:return"BatMan";case i.Wolverine:return"Wolverine";case i.SuperMan:return"SuperMan";case i.Squid:return"Squid";case i.GoodBoy:return"GoodBoy";case i.Gentalmen:return"Gentalmen"}},n}(r)).skinType=["skin15","skin3","skin12","skin14","skin1","skin6","skin7","skin8","skin2","skin16"],function(e){e[e.Red=0]="Red",e[e.BatMan=1]="BatMan",e[e.GoodBoy=2]="GoodBoy",e[e.Gentalmen=3]="Gentalmen",e[e.SpiderMan=4]="SpiderMan",e[e.Wolverine=5]="Wolverine",e[e.SuperMan=6]="SuperMan",e[e.Squid=7]="Squid",e[e.GrayWolf=8]="GrayWolf",e[e.Yellow=9]="Yellow"}(i||(i=e("SkinType",{}))),function(e){e[e.Cartoon=0]="Cartoon",e[e.Pinetree=1]="Pinetree",e[e.Box=2]="Box",e[e.Gift=3]="Gift",e[e.Shove=4]="Shove",e[e.Snowman=5]="Snowman",e[e.TNT=6]="TNT",e[e.Thing=7]="Thing"}(o||(o=e("HideAniType",{}))),function(e){e[e.Player=0]="Player",e[e.TeamMate=1]="TeamMate",e[e.BlueBoss=2]="BlueBoss",e[e.GreenBoss=3]="GreenBoss",e[e.OrangeBoss=4]="OrangeBoss",e[e.ObungaBoss=5]="ObungaBoss",e[e.DreamFace=6]="DreamFace"}(s||(s=e("CharacterType",{})));e("CharacterBaseInfo",(function(e,a,n,r,t,i){switch(this.gameLevelIndex=void 0,this.characterType=void 0,this.detectArea=void 0,this.patrolMoveSpeed=void 0,this.chaseMoveSpeed=void 0,this.aiCalcInterval=void 0,this.gameLevelIndex=e,a){case"TeamMate":this.characterType=s.TeamMate;break;case"Player":this.characterType=s.Player;break;case"BlueBoss":this.characterType=s.BlueBoss;break;case"GreenBoss":this.characterType=s.GreenBoss;break;case"OrangeBoss":this.characterType=s.OrangeBoss;break;case"ObungaBoss":this.characterType=s.ObungaBoss;break;case"DreamFace":this.characterType=s.DreamFace}this.detectArea=parseInt(n),this.patrolMoveSpeed=parseInt(r),this.chaseMoveSpeed=parseInt(t),this.aiCalcInterval=parseInt(i)}));n._RF.pop()}}}));

System.register("chunks:///_virtual/CharacterMoveLayer.ts",["cc"],(function(e){"use strict";var o,t;return{setters:[function(e){o=e.cclegacy,t=e._decorator}],execute:function(){var i;o._RF.push({},"bba2cN7r95KloWwFGE6fsAA","CharacterMoveLayer",void 0);var s=t.ccclass;t.property,e("CharacterMoveLayer",s("CharacterMoveLayer")(i=function(){function e(){this.isUp=!1,this.isDown=!1,this.moveNode=void 0}var o=e.prototype;return o.Init=function(e){null!=e?this.moveNode=e:console.log("move node is null!")},o.UpdatePlayerLayer=function(e,o){o>0?this.isUp||this.MoveNodeLayerUp():this.isDown||this.MoveNodeLayerDown()},o.MoveNodeLayerUp=function(){this.moveNode&&this.moveNode.setSiblingIndex(0),this.isUp=!0,this.isDown=!1},o.MoveNodeLayerDown=function(){this.moveNode&&this.moveNode.setSiblingIndex(100),this.isDown=!0,this.isUp=!1},e}())||i);o._RF.pop()}}}));

System.register("chunks:///_virtual/CharacterStateControl.ts",["cc"],(function(t){"use strict";var a,c;return{setters:[function(t){a=t.cclegacy,c=t._decorator}],execute:function(){var e;t("CharacterState",void 0),a._RF.push({},"4fe8eaM/BtGar2WF3E7QgdF","CharacterStateControl",void 0);var i,s=c.ccclass;c.property;!function(t){t[t.Idle=0]="Idle",t[t.Walk=1]="Walk",t[t.Atack=2]="Atack",t[t.Roll=3]="Roll",t[t.Escape=4]="Escape",t[t.Default=5]="Default"}(i||(i=t("CharacterState",{})));t("CharacterStateControl",s("CharacterStateControl")(e=function(){function t(){this.currentState=i.Idle,this.isRoll=!1,this.canRoll=!0,this.isAttack=!1,this.canAttack=!0,this.isEscape=!1}var a=t.prototype;return a.MakeCharacterState=function(t,a){if(this.canRoll&&this.canAttack)return this.canRoll&&this.isRoll?(this.currentState=i.Roll,void(this.canRoll=!1)):this.canAttack&&this.isAttack?(this.currentState=i.Atack,void(this.canAttack=!1)):void(0==t&&0==a?(this.currentState=i.Idle,this.isEscape=!1):this.isEscape?this.currentState=i.Escape:this.currentState=i.Walk)},a.GetCurrentState=function(){return this.currentState},a.ResetCanRollState=function(){this.canRoll=!0,this.isRoll=!1},a.ResetCanAttackState=function(){this.canAttack=!0,this.isAttack=!1},a.PlayEscapeState=function(){this.isEscape=!0},a.StopEscapeState=function(){this.isEscape=!1},a.PlayRollState=function(){this.canRoll&&(this.isRoll=!0)},a.PlayAttackState=function(){this.canAttack&&(this.isAttack=!0)},t}())||e);a._RF.pop()}}}));

System.register("chunks:///_virtual/CharacterStateRespose.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventCenter.ts","./Constants.ts","./PlayerMove.ts","./CharacterMoveLayer.ts","./CharacterStateControl.ts","./SkeletonNodeScale.ts"],(function(t){"use strict";var e,a,n,r,i,o,s,c,l,h,S;return{setters:[function(t){e=t.inheritsLoose},function(t){a=t.cclegacy,n=t._decorator,r=t.Vec2,i=t.Component},function(t){o=t.EventCenter},function(t){s=t.Constants},function(t){c=t.PlayerMove},function(t){l=t.CharacterMoveLayer},function(t){h=t.CharacterState},function(t){S=t.SkeletonNodeScale}],execute:function(){var u;a._RF.push({},"8e8b62uD4tB2YdqRszsh2uU","CharacterStateRespose",void 0);var p=n.ccclass;n.property,t("CharacterStateRespose",p("CharacterStateRespose")(u=function(t){function a(){for(var e,a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))||this).playerRig=void 0,e.characterInput=void 0,e.characterStateControl=void 0,e.playerMove=void 0,e.characterAniControl=void 0,e.characterMoveLayer=void 0,e.skeletonNodeScale=void 0,e.moveSpeed=15,e.isInit=!1,e.currentX=0,e.currentY=0,e.isAttacking=!1,e.isRolling=!1,e.rollVec=new r,e.rollSpeed=20,e.delayHandleBugTime=.5,e}e(a,t);var n=a.prototype;return n.onEnable=function(){o.Instance.AddEventListener(s.Event_Game_TimeUp,this.OnGameTimeUp,this)},n.onDisable=function(){o.Instance.RemoveEventListener(s.Event_Game_TimeUp,this.OnGameTimeUp,this)},n.InitCharacterStateRespose=function(t,e,a,n,r){this.playerRig=t,this.characterStateControl=e,this.characterInput=a,this.characterAniControl=n,this.InitControlComponent(r),this.isInit=!0},n.InitControlComponent=function(t){var e=this.node.getChildByPath("FriendSkeleton");this.InitAniControl(e),this.InitMove(e,t)},n.InitMove=function(t,e){this.playerMove=new c,this.playerMove.InitPlayMove(this.playerRig,this.moveSpeed,e),this.characterMoveLayer=new l,this.characterMoveLayer.Init(this.node),this.skeletonNodeScale=new S,this.skeletonNodeScale.Init(t)},n.InitAniControl=function(t){this.characterAniControl.SetAtkStabListener(this.AtkStabCompleteListener.bind(this)),this.characterAniControl.SetRollListener(this.RollStartListener.bind(this),this.RollStopListener.bind(this))},n.AtkStabCompleteListener=function(){this.isAttacking=!1,this.characterStateControl.ResetCanAttackState(),this.characterAniControl.ChangeState(h.Idle)},n.GetSkeletonNodeDirX=function(){return this.skeletonNodeScale.GetSkeletonNodeDirX()},n.RollStartListener=function(){0==this.currentX&&0==this.currentY?this.skeletonNodeScale.GetSkeletonNodeDirX()>0?this.rollVec.set(this.rollSpeed,0):this.rollVec.set(-this.rollSpeed,0):this.rollVec.set(this.currentX*this.rollSpeed,this.currentY*this.rollSpeed);this.playerRig.linearVelocity=this.rollVec},n.RollStopListener=function(){this.characterStateControl.ResetCanRollState(),this.isRolling=!1},n.OnGameTimeUp=function(){this.isInit=!1,this.playerRig.linearVelocity=r.ZERO,this.characterAniControl.PlayDance()},n.MakeState=function(){this.isInit&&(this.currentY=this.characterInput.GetInputY(),this.currentX=this.characterInput.GetInputX(),this.characterStateControl.MakeCharacterState(this.currentX,this.currentY))},n.ResposeState=function(){if(this.isInit)switch(this.characterStateControl.GetCurrentState()){case h.Idle:this.MakeIdleState();break;case h.Walk:this.MakeMoveState();break;case h.Escape:this.MakeEscapeState();break;case h.Atack:this.MakeAttackState();break;case h.Roll:this.isRolling||this.MakeRollState()}},n.MakeIdleState=function(){this.playerMove.StopMove(),this.characterAniControl.ChangeState(h.Idle)},n.MakeEscapeState=function(){this.characterAniControl.ChangeState(h.Escape),this.playerMove.UpdatePlayerMove(this.currentX,this.currentY),this.characterMoveLayer.UpdatePlayerLayer(this.currentX,this.currentY),this.skeletonNodeScale.UpdateSkeletonNodeScale(this.currentX)},n.MakeMoveState=function(){this.characterAniControl.ChangeState(h.Walk),this.playerMove.UpdatePlayerMove(this.currentX,this.currentY),this.characterMoveLayer.UpdatePlayerLayer(this.currentX,this.currentY),this.skeletonNodeScale.UpdateSkeletonNodeScale(this.currentX)},n.MakeAttackState=function(){this.isAttacking||(this.playerMove.StopMove(),this.characterAniControl.ChangeState(h.Atack),this.isAttacking=!0)},n.MakeRollState=function(){this.playerMove.StopMove(),this.characterAniControl.ChangeState(h.Roll),this.skeletonNodeScale.UpdateSkeletonNodeScale(this.currentX),this.isRolling=!0},n.ChangeEscapeState=function(){this.characterStateControl.PlayEscapeState()},n.ChangeAttackState=function(){this.characterStateControl.PlayAttackState()},n.ChangeRollState=function(){this.characterStateControl.PlayRollState()},a}(i))||u);a._RF.pop()}}}));

System.register("chunks:///_virtual/CloseADApi.ts",["cc"],(function(n){"use strict";var e,t,o,i,a,h,s,d,r,c,l;return{setters:[function(n){e=n.cclegacy,t=n._decorator,o=n.assetManager,i=n.director,a=n.Node,h=n.UITransform,s=n.Sprite,d=n.SpriteFrame,r=n.Widget,c=n.view,l=n.Label}],execute:function(){var v;e._RF.push({},"c39d1BtukhKyaI2NDP7Xzjr","CloseADApi",void 0);var g=t.ccclass;t.property,n("CloseADApi",g("CloseADApi")(v=function(){function n(){this.PassiveVideoData=void 0,this.AdCustomBannerData=void 0,this.AdCustomTypeData=void 0,this.ADNewNativeAdData=void 0,this.ADNewNativeTypeData=void 0,this.ADNewConfig=void 0,this.SystemBannerData=null,this.SystemIntersData=null,this.VideoData=null,this.NativeBannerData=null,this.NativeIntersData=null,this.NativeIconData=null,this.JGGBoxData=null,this.BlockData=null,this.AdCustomIntersData=null,this.AdGroup=0,this.systemBannerAd=null,this.loadSucc_SystemBanner=!1,this.isShow_SystemBanner=!1,this.NUM_BannerUpdateTime=30,this.interval_updateBanner=null,this.interstitialAd=null,this.rewardedVideoAd=null,this.loadSucc_Video=!1,this.callback_Video=null,this.nativeRes=null,this.loadNativeRes=!1,this.nativeAd=null,this.nativeBannerInfo=null,this.loadSucc_NativeBanner=!1,this.isShow_NativeBanner=!1,this.node_nativeBanner=null,this.nativeImageAd=null,this.nativeImageInfo=null,this.loadSucc_NativeImage=!1,this.isShow_NativeImage=!1,this.nativeIconAd=null,this.nativeIconInfo=null,this.loadSucc_NativeIcon=!1,this.isShow_NativeIcon=!1,this.navigateBoxPortalAd=null,this.loadSucc_NavigateBoxPortal=!1,this.navigateBoxBannerAd=null,this.loadSucc_NavigateBoxBanner=!1,this.temp_hasShowBanner=!1,this.isShow_NavigateSettle=!1,this.systemInfo=null,this.videoPath=void 0,this.clipIndexList=[]}var e=n.prototype;return e.onInit=function(n){this.createAd(),n&&n(),console.log("close ===================> onInit  ok")},e.createAd=function(){this.loadNativeBannerRes()},e.setGroup=function(n){this.AdGroup=n},e.onLogin=function(){},e.onShare=function(n){},e.ShareVideo=function(n,e,t){},e.createSystemBanner=function(){},e.showBanner=function(){console.log("===============>展示banner"),this.createNativeBanner()},e.hideBanner=function(){console.log("===============>关闭banner")},e.showSystemBanner=function(){},e.hideSystemBanner=function(){},e.updateBanner=function(){},e.updateSystemBanner=function(){},e.updateNativeBanner=function(){},e.createVideo=function(){},e.showVideo=function(n){console.log("===============>展示banner"),n(1)},e.showVideoAward=function(){},e.showVideoFail=function(){},e.createInsertAd=function(){},e.showInsertAd=function(){},e.createNavigateBoxPortal=function(){},e.showNavigateBoxPortal=function(){console.log("===============>展示互推盒子九宫格广告")},e.createNavigateBoxBanner=function(){},e.showNavigateBoxBanner=function(){console.log("===============>展示互推盒子横幅广告广告")},e.hideNavigateBoxBanner=function(){},e.loadNativeBannerRes=function(){console.log("ChaoQiGameSDK","--loadNativeBannerRes--"),this.nativeRes={NativeBannerBg:null,NativeBannerButton:null,NativeClose:null,NativeAdTip:null}},e.createNativeBanner=function(){var n=this;this.nativeBannerInfo={adId:"123456",title:"test",desc:"test-------",Native_icon_url:"http://localhost:10002/ad/TestBanner.png",Native_icon:null,Native_BigImage_url:null,Native_BigImage:null},o.loadRemote(this.nativeBannerInfo.Native_icon_url,(function(e,t){console.log("ChaoQiGameSDK","OPPO 原生大图加载成功"),n.nativeBannerInfo.Native_icon=t,n.showNativeBanner()}))},e.showNativeBanner=function(){var n=this;if(this.isShow_NavigateSettle)console.log("ChaoQiGameSDK"," 正在展示互推盒子 return");else{this.isShow_NativeBanner=!0;var e=i.getScene(),t=this.nativeBannerInfo.adId;this.reportNativeBannerShow(t),console.log("ChaoQiGameSDK","showNativeBanner========================"),this.node_nativeBanner=new a("node_nativeBanner"),this.node_nativeBanner.addComponent(h),e.getChildByName("Canvas").addChild(this.node_nativeBanner),this.node_nativeBanner.addComponent(s),this.node_nativeBanner.getComponent(s).spriteFrame=d.createWithImage(this.nativeRes.NativeBannerBg),this.node_nativeBanner.addComponent(r),this.node_nativeBanner.getComponent(r).isAlignHorizontalCenter=!0,this.node_nativeBanner.getComponent(r).isAlignBottom=!0,this.node_nativeBanner.getComponent(r).bottom=0;var o=c.getVisibleSize();o.width<o.height?(this.node_nativeBanner.getComponent(h).width=o.width,this.node_nativeBanner.getComponent(h).height=.18*o.width):(this.node_nativeBanner.getComponent(h).width=o.width/2,this.node_nativeBanner.getComponent(h).height=.18*this.node_nativeBanner.getComponent(h).width),0!=this.AdGroup&&(this.node_nativeBanner.layer=this.AdGroup),this.node_nativeBanner.setSiblingIndex(999),this.node_nativeBanner.on(a.EventType.TOUCH_START,(function(e){n.reportNativeBannerClick(t)}));var v=new a("adTip");v.addComponent(h),this.node_nativeBanner.addChild(v),v.addComponent(s),v.getComponent(s).spriteFrame=d.createWithImage(this.nativeRes.NativeAdTip),v.getComponent(h).height=.2*this.node_nativeBanner.getComponent(h).height,v.getComponent(h).width=v.getComponent(h).height/.45,0!=this.AdGroup&&(v.layer=this.AdGroup),v.setPosition(this.node_nativeBanner.getComponent(h).width/2-v.getComponent(h).width/2,-this.node_nativeBanner.getComponent(h).height/2+v.getComponent(h).height/2);var g=new a("bannerButton");if(g.addComponent(h),this.node_nativeBanner.addChild(g),g.addComponent(s),0!=this.AdGroup&&(g.layer=this.AdGroup),g.getComponent(s).spriteFrame=d.createWithImage(this.nativeRes.NativeBannerButton),g.getComponent(h).width=.255*this.node_nativeBanner.getComponent(h).width,g.getComponent(h).height=.351*g.getComponent(h).width,g.setPosition(this.node_nativeBanner.getComponent(h).width/2-.185*this.node_nativeBanner.getComponent(h).width,0),this.nativeBannerInfo.Native_icon){var u=new a("icon");u.addComponent(h),this.node_nativeBanner.addChild(u),0!=this.AdGroup&&(u.layer=this.AdGroup),u.addComponent(s),u.getComponent(s).spriteFrame=d.createWithImage(this.nativeBannerInfo.Native_icon),u.getComponent(h).height=.8*this.node_nativeBanner.getComponent(h).height,u.getComponent(h).width=u.getComponent(h).height,u.setPosition(.8*u.getComponent(h).width-this.node_nativeBanner.getComponent(h).width/2,0)}else if(this.nativeBannerInfo.Native_BigImage){var p=new a("image");p.addComponent(h),this.node_nativeBanner.addChild(p),0!=this.AdGroup&&(p.layer=this.AdGroup),p.addComponent(s),p.getComponent(s).spriteFrame=d.createWithImage(this.nativeBannerInfo.Native_BigImage),p.getComponent(h).height=this.node_nativeBanner.getComponent(h).height,p.getComponent(h).width=2*p.getComponent(h).height,p.setPosition(p.getComponent(h).width/2-this.node_nativeBanner.getComponent(h).width/2,0)}var m=new a("titleLabel");m.addComponent(h),this.node_nativeBanner.addChild(m),0!=this.AdGroup&&(m.layer=this.AdGroup),m.addComponent(l),o.width<o.height?m.getComponent(l).fontSize=c.getDesignResolutionSize().width/1080*35:m.getComponent(l).fontSize=c.getDesignResolutionSize().height/1080*35,""==this.nativeBannerInfo.desc?m.getComponent(l).string=this.nativeBannerInfo.title:m.getComponent(l).string=this.nativeBannerInfo.desc,m.getComponent(l).overflow=l.Overflow.CLAMP,m.getComponent(l).horizontalAlign=l.HorizontalAlign.LEFT,m.getComponent(l).verticalAlign=l.VerticalAlign.CENTER,m.getComponent(l).lineHeight=m.getComponent(l).fontSize,m.getComponent(h).width=this.node_nativeBanner.getComponent(h).width-2*this.node_nativeBanner.getComponent(h).height-g.getComponent(h).width-.2*this.node_nativeBanner.getComponent(h).height/.45,m.getComponent(h).height=this.node_nativeBanner.getComponent(h).height,m.setPosition(0,-this.node_nativeBanner.getComponent(h).width/2+2.1*this.node_nativeBanner.getComponent(h).height+m.getComponent(h).width/2);var B=new a("closeICON");B.addComponent(h),this.node_nativeBanner.addChild(B),B.addComponent(s),0!=this.AdGroup&&(B.layer=this.AdGroup),B.getComponent(s).spriteFrame=d.createWithImage(this.nativeRes.NativeClose),B.getComponent(h).width=.27*this.node_nativeBanner.getComponent(h).height,B.getComponent(h).height=.27*this.node_nativeBanner.getComponent(h).height,B.setPosition(this.node_nativeBanner.getComponent(h).width/2-B.getComponent(h).width/2,this.node_nativeBanner.getComponent(h).height/2-B.getComponent(h).width/2),B.on(a.EventType.TOUCH_START,(function(e){console.log("ChaoQiGameSDK","原生banner关闭",n.NUM_BannerUpdateTime+"S后再次刷新"),n.hideNativeBanner(),n.updateBanner()}))}},e.hideNativeBanner=function(){this.isShow_NativeBanner&&(console.log("ChaoQiGameSDK","OPPO hideNativeBanner========================"),this.isShow_NativeBanner=!1,this.node_nativeBanner.removeFromParent(),this.node_nativeBanner=null)},e.reportNativeBannerShow=function(n){console.log("ChaoQiGameSDK","OPPO 该原生广告id上报展示",n)},e.reportNativeBannerClick=function(n){console.log("ChaoQiGameSDK","OPPO 原生广告上报点击",n)},e.createNativeImage=function(){this.nativeImageInfo={adId:"88888888",title:"测试标题",desc:"测试详情",Native_icon:"http://localhost:10002/ad/TestGetNativeAdIcon.png",Native_BigImage:"http://localhost:10002/ad/TestGetNativeAdImage.png",NativeAdTip:"http://localhost:10002/ad/TestGetNativeAdAdTip.png",NativeClose:"http://localhost:10002/ad/TestGetNativeAdClose.png"}},e.getNativeAdInfo=function(n){return this.nativeImageInfo},e.getHWNativeAdInfo=function(n){n&&n(this.nativeImageInfo)},e.reportNativeImageShow=function(n){console.log("ChaoQiGameSDK","OPPO 该原生大图广告id上报展示",n)},e.reportNativeImageClick=function(n){console.log("ChaoQiGameSDK","OPPO 原生大图广告上报点击",n)},e.loadNativeImage=function(){},e.createNativeIcon=function(){console.log("ChaoQiGameSDK","--createNativeIcon--"),this.nativeIconInfo={adId:"88888888",title:"测试标题",desc:"测试详情",Native_icon:"http://localhost:10002/ad/TestGetNativeAdIcon.png",Native_BigImage:"http://localhost:10002/ad/TestGetNativeAdImage.png",NativeAdTip:"http://localhost:10002/ad/TestGetNativeAdAdTip.png",NativeClose:"http://localhost:10002/ad/TestGetNativeAdClose.png"}},e.getNativeIconAdInfo=function(n){return console.log("ChaoQiGameSDK","获取自定义原生Icon广告"),this.nativeIconInfo},e.reportNativeIconShow=function(n){console.log("ChaoQiGameSDK","OPPO 该原生Icon广告id上报展示",n)},e.reportNativeIconClick=function(n){console.log("ChaoQiGameSDK","OPPO 原生Icon广告上报点击",n)},e.loadNativeIcon=function(){},e.addDesktop=function(n){},e.hasShortcutInstalled=function(n){},e.StartRecorder=function(n){},e.recordClipRecorder=function(n){},e.pauseGameVideo=function(){},e.resumeGameVideo=function(){},e.stopRecordScreen=function(){},e.createMoreGamesBtn=function(){},e.showMoreGamesBtn=function(){},e.jumpToGame=function(n){},e.addColorBookmark=function(){},e.addSubscribeApp=function(){},e.phoneVibrate=function(n){},e.reportAnalytics=function(n,e){},e.showCustomAd=function(){},e.hideCustomAd=function(){},e.showGridAd=function(){},e.hideGridAd=function(){},e.showPassiveVideo=function(n){},e.showCustomType12=function(n,e){},e.showADNewNativeType12=function(n,e){},e.showCustomBanner=function(n){},e.hideCustomBanner=function(){},e.navigateToScene=function(n,e){},e.ShowGameIconAd=function(){},e.HideGameIconAd=function(){},e.ShowHomeIconAd=function(){},e.HideHomeIconAd=function(){},e.ShowSideAd=function(){},e.HideSideAd=function(){},e.ShowMoreGamesAd=function(){},e.HideMoreGamesAd=function(){},e.ShowBannerNativeAd=function(){},e.HideBannerNativeAd=function(){},e.hideCustomIconAd=function(){},e.showCustomIconAd=function(){},n}())||v);e._RF.pop()}}}));

System.register("chunks:///_virtual/CollectTargetControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LogUtil.ts","./RandomTools.ts","./CollectTargetItem.ts"],(function(t){"use strict";var e,l,o,r,n,a,c,i;return{setters:[function(t){e=t.inheritsLoose},function(t){l=t.cclegacy,o=t._decorator,r=t.instantiate,n=t.Component},function(t){a=t.LogUtil},function(t){c=t.RandomTools},function(t){i=t.CollectTargetItem}],execute:function(){var s;t("CollectTargetType",void 0),l._RF.push({},"bb2c9PYfn1JCIEmTzASV8IF","CollectTargetControl",void 0);var u,g=o.ccclass;o.property;!function(t){t.Box="Box",t.Bullet="Bullet",t.BlueMagic="BlueMagic",t.OrangeMagic="OrangeMagic",t.Sword="Sword",t.RedBattery="RedBattery",t.BlueBattery="BlueBattery",t.TheTu="TheTu",t.CoinBox="CoinBox"}(u||(u=t("CollectTargetType",{})));t("CollectTargetControl",g("CollectTargetControl")(s=function(t){function l(){for(var e,l=arguments.length,o=new Array(l),r=0;r<l;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this).allCollectTargetItem=void 0,e}e(l,t);var o=l.prototype;return o.InitCollectItem=function(t,e,l,o){if(t.length<e)a.Error("Please check collect point num!");else{var n=o;this.allCollectTargetItem=[];for(var c=this.node.getChildByPath("BoxNode"),s=0;s<e;s++){var u=r(n);c.addChild(u);var g=u.addComponent(i);this.allCollectTargetItem.push(g),g.InitCollectItem(t[s])}}},o.GetUnCollectItemPos=function(){if(null!=this.allCollectTargetItem&&null!=this.allCollectTargetItem&&0!=this.allCollectTargetItem.length){for(var t=[],e=0;e<this.allCollectTargetItem.length;e++){this.allCollectTargetItem[e].CanCollect()&&t.push(e)}if(0!=t.length){var l=c.RandomInt(t.length);return this.allCollectTargetItem[t[l]].GetTargetItemWorldPos()}}else a.Error("collectItem null!")},l}(n))||s);l._RF.pop()}}}));

System.register("chunks:///_virtual/CollectTargetItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundManager.ts","./RandomTools.ts","./VecTools.ts","./Constants.ts"],(function(t){"use strict";var o,n,i,e,s,l,c,r,a,u,d,h;return{setters:[function(t){o=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator,e=t.RigidBody2D,s=t.BoxCollider2D,l=t.tween,c=t.Component},function(t){r=t.SoundManager},function(t){a=t.RandomTools},function(t){u=t.Vec2To3,d=t.Vec3To2},function(t){h=t.Constants}],execute:function(){var C;n._RF.push({},"6e88bkVEklCIp5DWFg9VqSc","CollectTargetItem",void 0);var g=i.ccclass;i.property,t("CollectTargetItem",g("CollectTargetItem")(C=function(t){function n(){for(var o,n=arguments.length,i=new Array(n),e=0;e<n;e++)i[e]=arguments[e];return(o=t.call.apply(t,[this].concat(i))||this).Rig=void 0,o.boxCollider=void 0,o.isFinishCollect=void 0,o.isCollecting=void 0,o}o(n,t);var i=n.prototype;return i.onLoad=function(){this.Rig=this.node.getComponent(e),this.boxCollider=this.node.getComponent(s)},i.InitCollectItem=function(t){this.isFinishCollect=!1,this.isCollecting=!1,this.node.active=!0,this.node.worldPosition=u(t)},i.GetTargetItemWorldPos=function(){var t=this.node.getWorldPosition();return d(t)},i.CanCollect=function(){return 0==this.isCollecting&&0==this.isFinishCollect},i.CollectingItem=function(t){this.isCollecting=!0,this.ShowObject(!1)},i.UnCollectingItem=function(t){this.isCollecting=!1,this.ShowObject(!0),l(this.node).to(.01,{worldPosition:t}).start()},i.FinishCollect=function(t){this.isFinishCollect=!0;var o=a.RandomIntRegion(1,10);r.Instance.PlaySounds(h.soundWee+o),l(this.node).to(.01,{worldPosition:t}).start()},i.ShowObject=function(t){var o=this;setTimeout((function(){o.node.active=t}),0)},n}(c))||C);n._RF.pop()}}}));

System.register("chunks:///_virtual/Constants.ts",["cc"],(function(e){"use strict";var a,t,n,i,s;return{setters:[function(e){a=e.cclegacy,t=e.Vec3,n=e.Prefab,i=e.TextAsset,s=e.AudioClip}],execute:function(){e("PhysicGroup",void 0),a._RF.push({},"55009dEtCxGDb0Zjx7pYDu8","Constants",void 0);var o,r=e("Constants",(function(){}));r.loadingStartDelayTime=2,r.loadingintoGameDelayTime=2e3,r.getAddRewardSkinValue=50,r.rewardGetDiamondValue=2,r.rewardGetCoinValue=300,r.rewardCanGetTimeUpNum=1,r.rewardCanGetReviveNum=2,r.playerWalkAniRatio=1.1/10,r.playerReturnWalkAniRatio=.118,r.friendOffsetY=-60,r.userNameLabelOffsetY=68,r.hostileUserNameLabelOffsetY=90,r.failDisappearTime=1,r.getMoreTimeValue=17,r.getMoreSpeedValue=6,r.reviveCountTime=5,r.collectBoxRewardCoinNum=100,r.rightScale=new t(.45,.45,0),r.leftScale=new t(-.45,.45,0),r.hostileRightScale=new t(.58,.58,0),r.hostileLeftScale=new t(-.58,.58,0),r.obugaRightScale=new t(.3,.3,0),r.obugaLeftScale=new t(-.3,.3,0),r.blueRightScale=new t(.5,.5,0),r.blueLeftScale=new t(-.5,.5,0),r.Event_UIHome_FlyCoin="FlyCoin",r.Event_UIHome_RefreshCoinNum="RefreshCoinNum",r.Event_UIHome_FlyDiamond="FlyDiamond",r.Event_UIHome_RefreshDiamondNum="RefreshDiamondNum",r.Event_UIHome_RefreshSkin="RefreshSkin",r.Event_UIHome_CheckCanSpin="CheckCanSpin",r.Event_Player_GetMoreTime="GetMoreTime",r.Event_Player_GetMoreSpeed="GetMoreSpeed",r.Event_Player_GetMoreTimeFail="GetMoreTimeFail",r.Event_Player_BeCatch="PlayerBeCatch",r.Event_Player_Revive="PlayerRevive",r.Event_Game_TimeUp="GameTimeUp",r.Event_Player_TrySkin="TrySkin",r.Event_Game_SetGameTime="SetGameTime",r.Event_Player_HideClick="PlayerHide",r.Event_Game_ReadyCountDown="GameReadyCountDown",r.Event_Game_CountTime="CountTime",r.Event_Game_Start="GameStart",r.Event_Game_Victory="GameVictory",r.Event_Game_Fail="GameFail",r.Event_Game_HandTarget="HandTarget",r.Event_Game_HandTargetOut="HandTargetOut",r.Event_Game_FinishTarget="FinishTarget",r.Event_Game_UIRefreshCollectNum="UIRefreshCollectNum",r.Event_Game_FirendFail="FirendFail",r.Event_Game_Exit="GameExit",r.Event_Game_UIRefreshCoinDiaomond="UIRefreshCoinDiaomond",r.Event_HostileGame_UIRefreshRemainNum="HostileGame_UIRefreshRemainNum",r.Event_HostilePlayer_UIRefreshKillNum="HostilePlayer_UIRefreshRemainNum",r.Event_HostileGame_Effect_OutItem="HostileGame_Effect_OutItem",r.Event_HostileGame_FriendOutGame="HostileGame_FriendOutGame",r.Event_HostileGame_PlayerAttack="HostileGame_PlayerAttack",r.Event_HostileGame_FGun="HostileGame_FGun",r.Event_HostilePlayer_GetRollSkill="GetRollSkill",r.Event_HostileGame_Rematch="HostileGame_Rematch",r.Event_Game_RescueFriend="RescueFriend",r.Event_Game_BeCatchFriend="BeCatchFriend",r.Collicer_Tag_Friend=300,r.Collicer_Tag_Player=301,r.Collicer_Tag_TargetItem=100,r.Collicer_Tag_Platform=1e3,r.Collicer_Tag_Obstacle=11,r.Collicer_Tag_Blue=200,r.Collicer_Tag_Blue_Catch=201,r.Collicer_Tag_Orange=400,r.Collicer_Tag_Orange_Catch=401,r.loadingPkg={Loading:[{assetType:n,urls:["Prefabs/LoadingPanel"]}]},r.homePkg={Common:[{assetType:n,urls:["Prefabs/RewardView","Prefabs/Tip","Prefabs/SettingPanel"]}],Home:[{assetType:n,urls:["Prefabs/HomePanel","Prefabs/Coin","Prefabs/Diamond","Prefabs/SpinView","Prefabs/SignInView","Prefabs/SkinView","Prefabs/MatchView"]}],GameData:[{assetType:i,urls:["UserName/UserName","GameData/SurvivalModeData","GameData/CharacterBaseData","SignInData/SignInData","SkinData/SkinData"]}],Audio:[{assetType:s,urls:["Music/HomeBG","Sound/ButtonClick","Sound/CollectCoin","Sound/CollectDiamond","Sound/FortuneSpin","Sound/UnlockSuccess","Sound/Wee1","Sound/Wee2","Sound/Wee3","Sound/Wee4","Sound/Wee5","Sound/Wee6","Sound/Wee7","Sound/Wee8","Sound/Wee9","Sound/Wee10"]}]},r.hostileABName="HostileAsset",r.musicHomeBg="HomeBG",r.musicGameBg="GameBG",r.soundBtnClick="ButtonClick",r.soundCollectCoin="CollectCoin",r.soundCollectDiamond="CollectDiamond",r.soundSpin="FortuneSpin",r.soundUnlockSuccess="UnlockSuccess",r.soundSpeak="Speak",r.soundWee="Wee",r.soundPunch="Punch",r.soundWarnTime="WarningTime",r.soundPickItem="PickItem",r.soundHelp="Help",r.soundBehit="Behit",r.soundOpenDoor="OpenDoor",r.soundGoalComplete="GoalComplete",r.soundWin="Win",r.soundLose="Lose",r.soundScareBlue="ScareBlue",r.soundScareDreamFace="ScareDreamFace",r.soundScareGreen="ScareGreen",r.soundScareObunga="ScareObunga",r.soundStep="Step",r.soundDash="Dash",r.soundAttackCut="AttackCut",r.soundAttackStab="AttackStab",r.soundHitSausageEffect="HitSausageEffect",r.soundUnLockFriendEffect="UnLock",r.loadingABName="Loading",r.loadingAssetPath="Prefabs/LoadingPanel",r.homeABName="Home",r.homePanelAssetPath="Prefabs/HomePanel",r.spinViewAssetPath="Prefabs/SpinView",r.signInViewAssetPath="Prefabs/SignInView",r.skinViewAssetPath="Prefabs/SkinView",r.matchViewAssetPath="Prefabs/MatchView",r.commonABName="Common",r.rewardViewAssetPath="Prefabs/RewardView",r.settingPanelAssetPath="Prefabs/SettingPanel",r.gameUIABName="GameUI",r.survivalModeViewAssetPath="Prefabs/SurvivalModeView",r.rescueViewAssetPath="Prefabs/RescueView",r.moreTimeViewAssetPath="Prefabs/GetMoreTimeView",r.boostViewAssetPath="Prefabs/BoostView",r.getSkinViewAssetPath="Prefabs/GetSkinView",r.reviveTimeAssetPath="Prefabs/ReviveTime",r.shareAssetPath="Prefabs/Share",r.victoryViewAssetPath="Prefabs/VictoryView",r.loseViewAssetPath="Prefabs/LoseView",r.hostileLoseViewAssetPath="Prefabs/HostileLoseView",r.rescueResultViewAssetPath="Prefabs/RescueResultView",r.hostileModeViewPath="Prefabs/HostileModeView",r.ragToDeg=180/Math.PI,function(e){e[e.Default=1]="Default",e[e.Obstacle=2]="Obstacle",e[e.Player=4]="Player",e[e.Friend=8]="Friend",e[e.TargetItem=16]="TargetItem"}(o||(o=e("PhysicGroup",{}))),a._RF.pop()}}}));

System.register("chunks:///_virtual/CSVParser.ts",["cc"],(function(t){"use strict";var e,a;return{setters:[function(t){e=t.cclegacy,a=t._decorator}],execute:function(){e._RF.push({},"4445e9wmAdGeKDDy2YGrx1s","CSVParser",void 0);a.ccclass,a.property,t("CSVParser",function(){function t(t){this.originData=void 0,this.parsedData=void 0,this.originData=t,this.parsedData=this.parseCell(t)}var e=t.prototype;return e.parseCell=function(t){return t.trim().split(/\n/gm).map((function(t){var e=t.match(/"[^"]+"/gi);if(e){var a=e.map((function(t){return t.replace(/,/g,"<|>")}));e.forEach((function(e,r){t=t.replace(e,a[r])}))}return t=t.split(/\s*,\s*/g).map((function(t){return t.replace(/"/g,"").replace(/<\|>/g,",")}))}))},e.getParsedData=function(){return this.parsedData},e.getColumnByIndex=function(t){return this.parsedData[0][t]?this.parsedData.map((function(e){return e[t]})):null},e.getColumnByHeadName=function(t){var e=this.parsedData[0].indexOf(t);return-1===e?(console.warn("不存在该表头",t),null):this.parsedData.map((function(t){return t[e]}))},e.getRowByIndex=function(t){return this.parsedData[t]?{head:this.parsedData[0],data:this.parsedData[t]}:null},e.getRowByNameAndValue=function(t,e){var a=this.getColumnByHeadName(t);if(null==a)return null;var r=a.indexOf(e);return-1==r?null:this.getRowByIndex(r)},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/Dijktra.ts",["cc"],(function(i){"use strict";var r;return{setters:[function(i){r=i.cclegacy}],execute:function(){r._RF.push({},"a84c9dgkZ5E0I4rRAq86ErW","Dijktra",void 0);i("FieldMini",function(){function i(){this.width=void 0,this.joints=void 0}return i.prototype.Clone=function(){var r=new i;r.width=this.width,r.joints=Array.from(Array(r.width),(function(){return new Array(r.width)}));for(var t=0;t<this.width;t++)for(var n=0;n<this.width;n++)r.joints[t][n]=this.joints[t][n];return r},i}());var t=i("Dijktra",function(){function i(){}return i.InputSecond=function(r,t){i.S=r,i.F=t,i.D=new Array(i.field.width),i.TRACE=new Array(i.field.width);for(var n=0;n<i.field.width;n++)i.D[n]=i.MAXC,i.FREE[n]=!0;for(var e=0;e<i.field.width;e++)for(var o=0;o<i.field.width;o++)i.C[e][o]=i.field.joints[e][o],e>o?i.C[e][o]=i.C[o][e]:e==o&&(i.C[e][o]=0);i.D[i.S]=0},i.Init=function(r){i.field=r.Clone(),i.FREE=new Array(r.width),i.C=Array.from(Array(r.width),(function(){return new Array(r.width)}))},i.Output=function(){for(var r,t,n,e;;){for(n=-1,e=i.MAXC,r=0;r<i.field.width;r++)i.FREE[r]&&i.D[r]<e&&(e=i.D[r],n=r);if(n==i.F||-1==n)break;for(i.FREE[n]=!1,t=0;t<i.field.width;t++)i.FREE[t]&&i.D[t]>i.D[n]+i.C[n][t]&&(i.D[t]=i.D[n]+i.C[n][t],i.TRACE[t]=n)}if(i.D[i.F]==i.MAXC)return null;for(var o=new Array,d=i.F;i.F!=i.S;)i.F=i.TRACE[i.F],o.push(i.F);return o.reverse(),o.push(d),o},i}());t.FREE=void 0,t.TRACE=void 0,t.S=void 0,t.F=void 0,t.C=void 0,t.MAXC=1e5,t.D=void 0,t.field=void 0,r._RF.pop()}}}));

System.register("chunks:///_virtual/DirectArrow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts"],(function(t){"use strict";var i,o,e,r,s,n,l;return{setters:[function(t){i=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator,r=t.Vec2,s=t.Vec3,n=t.Component},function(t){l=t.Constants}],execute:function(){var d;o._RF.push({},"159b3GcFytD+rygRdUPIO+8","DirectArrow",void 0);var a=e.ccclass;e.property,t("DirectArrow",a("DirectArrow")(d=function(t){function o(){for(var i,o=arguments.length,e=new Array(o),n=0;n<o;n++)e[n]=arguments[n];return(i=t.call.apply(t,[this].concat(e))||this).targetPos=void 0,i.followNode=void 0,i.isDirct=!1,i.directRadius=150,i.dispearDis=100,i.tempMoveDir=new r,i.normalizeDir=new r,i.tempWorldPos=new s,i.tempLerpWorldPos=new s,i.targetNode=null,i}i(o,t);var e=o.prototype;return e.update=function(t){if(this.isDirct){var i=0,o=0;this.targetNode?(i=this.targetNode.worldPosition.x-this.followNode.worldPosition.x,o=this.targetNode.worldPosition.y-this.followNode.worldPosition.y):(i=this.targetPos.x-this.followNode.worldPosition.x,o=this.targetPos.y-this.followNode.worldPosition.y),this.tempMoveDir.set(i,o),r.len(this.tempMoveDir)<this.dispearDis&&this.StopDirect(),this.normalizeDir=this.tempMoveDir.normalize();var e=this.followNode.worldPosition;this.tempWorldPos.set(e.x+this.normalizeDir.x*this.directRadius,e.y+this.normalizeDir.y*this.directRadius,0),s.lerp(this.tempLerpWorldPos,this.node.worldPosition,this.tempWorldPos,.1),this.node.worldPosition=this.tempLerpWorldPos,this.node.angle=Math.atan2(this.normalizeDir.y,this.normalizeDir.x)*l.ragToDeg-90}},e.SetDirectNode=function(t,i){this.isDirct=!0,this.targetPos=t,this.followNode=i,this.node.active=!0},e.SetDirectByNode=function(t,i){this.isDirct=!0,this.targetNode=t,this.followNode=i,this.node.active=!0},e.StopDirect=function(){this.isDirct=!1,this.node.active=!1},o}(n))||d);o._RF.pop()}}}));

System.register("chunks:///_virtual/EventCenter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LogUtil.ts","./EventReceiverItem.ts"],(function(e){"use strict";var t,n,r,s,a,i;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,r=e._decorator,s=e.Component},function(e){a=e.LogUtil},function(e){i=e.EventReceiverItem}],execute:function(){var v,l;n._RF.push({},"531faqnzRJJYYcaTrDkqslC","EventCenter",void 0);var o=r.ccclass;r.property,e("EventCenter",o("EventCenter")(((l=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=e.call.apply(e,[this].concat(r))||this).eventHandlers=null,t.isEnable=!0,t}t(n,e);var r=n.prototype;return r.onLoad=function(){null==n.Instance?(n.Instance=this,this.eventHandlers=new Map):this.destroy()},r.AddEventListener=function(e,t,n){a.Log("EventCenter ---\x3e AddEventListener: "+e);var r=this.eventHandlers.get(e);if(r)for(var s=0;s<r.length;s++){var v=r[s];if(v.cb===t&&v.target===n)return}else r=new Array;var l=new i;l.name=e,l.cb=t,l.target=n,r.push(l),this.eventHandlers.set(e,r)},r.RemoveEventListener=function(e,t,n){a.Log("EventCenter ---\x3e RemoveEventListener: "+e);var r=this.eventHandlers.get(e);if(r)for(var s=r.length-1;s>=0;s--){var i=r[s];i.cb===t&&i.target===n&&r.splice(s,1)}},r.TriggerEvent=function(e){if(a.Log("EventCenter ---\x3e TriggerEvent: "+e),this.isEnable){var t=this.eventHandlers.get(e);if(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];for(var i=t.length-1;i>=0;i--){var v,l=t[i];if(l.cb&&l.target)(v=l.cb).call.apply(v,[l.target].concat(r))}}}},r.PauseEvent=function(){a.Log("EventCenter ---\x3e PauseEvent"),this.isEnable=!1},r.ResumeEvent=function(){a.Log("EventCenter ---\x3e ResumeEvent"),this.isEnable=!1},r.ClearAllEvent=function(){a.Log("EventCenter ---\x3e ClearAllEvent"),this.eventHandlers&&this.eventHandlers.clear()},r.onDestroy=function(){this.ClearAllEvent()},n}(s)).Instance=null,v=l))||v);n._RF.pop()}}}));

System.register("chunks:///_virtual/EventReceiverItem.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"d72f8J1JVdO5Kdgvuu7RIJp","EventReceiverItem",void 0);e("EventReceiverItem",(function(){this.name=null,this.cb=null,this.target=null}));t._RF.pop()}}}));

System.register("chunks:///_virtual/ExcelManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AssetManager.ts","./CSVParser.ts","./LogUtil.ts"],(function(e){"use strict";var t,n,r,a,s,c,o;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,r=e._decorator,a=e.Component},function(e){s=e.AssetManager},function(e){c=e.CSVParser},function(e){o=e.LogUtil}],execute:function(){var l,i;n._RF.push({},"750bfadJT9I2os6gqMUk1Zj","ExcelManager",void 0);var u=r.ccclass;r.property,e("ExcelManager",u("ExcelManager")(((i=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).excelMap=new Map,t}t(n,e);var r=n.prototype;return r.onLoad=function(){null==n.Instance?n.Instance=this:this.destroy()},r.GetExcelData=function(e,t){this.excelMap.has(t)||this.GetExcelParser(e,t);var n=this.excelMap.get(t).getParsedData();return n.shift(),n},r.GetExcelParser=function(e,t){if(this.excelMap.has(t))return this.excelMap.get(t);var n=this.GetExcelDataFromAsset(e,t),r=new c(n);return this.excelMap.set(t,r),r},r.GetExcelDataFromAsset=function(e,t){var n=s.Instance.GetAssets(e,t);return null==n?(o.Error("加载表格数据:"+e+" 资源: "+t+" 为空!"),null):n.text},n}(a)).Instance=null,l=i))||l);n._RF.pop()}}}));

System.register("chunks:///_virtual/FlashPlat.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,e,a,r,n;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator,r=t.Sprite,n=t.Component}],execute:function(){var s;e._RF.push({},"61e21fHZvVAW4orEngN4TuA","FlashPlat",void 0);var o=a.ccclass;a.property,t("FlashPlat",o("FlashPlat")(s=function(t){function e(){for(var i,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return(i=t.call.apply(t,[this].concat(a))||this).duration=.5,i._median=0,i._time=0,i._material=null,i}i(e,t);var a=e.prototype;return a.onLoad=function(){this._median=this.duration/2,this._material=this.node.getComponent(r).getMaterial(0),this._material.setProperty("u_rate",1)},a.update=function(t){if(this._time>0){this._time-=t,this._time=this._time<0?0:this._time;var i=2*Math.abs(this._time-this._median)/this.duration;this._material.setProperty("u_rate",i)}},a.FlashPlat=function(){this._time=this.duration},e}(n))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/FlyEffectManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./SoundManager.ts","./LogUtil.ts","./RandomTools.ts","./Vibrate.ts"],(function(o){"use strict";var t,n,i,a,e,r,s,d,c,l,u,f,h;return{setters:[function(o){t=o.inheritsLoose},function(o){n=o.cclegacy,i=o._decorator,a=o.Vec3,e=o.instantiate,r=o.Component,s=o.tween,d=o.easing},function(o){c=o.Constants},function(o){l=o.SoundManager},function(o){u=o.LogUtil},function(o){f=o.RandomTools},function(o){h=o.Vibrate}],execute:function(){var m,v;n._RF.push({},"d0adcma0LtDvZdxfO27JTCb","FlyEffectManager",void 0);var p=i.ccclass;i.property,o("FlyEffectManager",p("FlyEffectManager")(((v=function(o){function n(){for(var t,n=arguments.length,i=new Array(n),e=0;e<n;e++)i[e]=arguments[e];return(t=o.call.apply(o,[this].concat(i))||this).flyNode=void 0,t.coinRoot=void 0,t.diamondRoot=void 0,t.coinObjArr=void 0,t.diamondObjArr=void 0,t.minAnimDuration=.5,t.maxAnimDuration=1.3,t.spread=100,t.maxNum=0,t.isInit=!1,t.intoScaleTime=.1,t.intoScale=new a(1.8,1.8,1.8),t}t(n,o);var i=n.prototype;return i.onLoad=function(){null==n.Instance?(n.Instance=this,this.flyNode=this.node.getChildByPath("UIRoot/FlyNode")):this.destroy()},i.Init=function(o,t,n){if(void 0===n&&(n=null),!this.isInit){if(this.isInit=!0,this.maxNum=o,this.coinObjArr=new Array,this.diamondObjArr=new Array,this.coinRoot=this.flyNode.getChildByPath("CoinRoot"),this.diamondRoot=this.flyNode.getChildByPath("DiamondRoot"),this.coinRoot&&t)for(var i=0;i<o;i++){var a=e(t);this.coinRoot.addChild(a),a.active=!1,this.coinObjArr.push(a)}if(this.diamondRoot&&n)for(var r=0;r<o;r++){var s=e(n);this.diamondRoot.addChild(s),s.active=!1,this.diamondObjArr.push(s)}}},i.FlyEffect=function(o,t,n,i,e){var r=this;if(void 0===i&&(i=!1),void 0===e&&(e=null),this.isInit)for(var m=n<this.maxNum?n:this.maxNum,v=0,p=function(n){var u=void 0;if(u=i?r.coinObjArr.pop():r.diamondObjArr.pop()){u.worldPosition=new a(o.x+f.RandomFloat(-r.spread,r.spread),o.y+f.RandomFloat(-r.spread,r.spread),0),u.active=!0;var p=f.RandomFloat(r.minAnimDuration,r.maxAnimDuration);s(u).to(r.intoScaleTime,{scale:r.intoScale}).to(p,{worldPosition:t,scale:a.ONE},{easing:d.expoIn}).call((function(){h.VibrateShort(),v++,u.active=!1,i?(l.Instance.PlaySounds(c.soundCollectCoin),r.coinObjArr.push(u)):(l.Instance.PlaySounds(c.soundCollectDiamond),r.diamondObjArr.push(u)),e&&v==m-1&&e()})).start()}},y=0;y<m;y++)p();else u.Log("FlyEffectManager not init!")},n}(r)).Instance=null,m=v))||m);n._RF.pop()}}}));

System.register("chunks:///_virtual/FollowItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts"],(function(e){"use strict";var o,t,s,i,a,r,n;return{setters:[function(e){o=e.inheritsLoose},function(e){t=e.cclegacy,s=e._decorator,i=e.Label,a=e.Vec3,r=e.Component},function(e){n=e.Constants}],execute:function(){var d;t._RF.push({},"4b2df2+V+BDr6B7Aa+rmBS0","FollowItem",void 0);var h=s.ccclass;s.property,e("FollowItem",h("FollowItem")(d=function(e){function t(){for(var o,t=arguments.length,s=new Array(t),i=0;i<t;i++)s[i]=arguments[i];return(o=e.call.apply(e,[this].concat(s))||this).shadowNode=void 0,o.tempShadowPos=new a,o.tempUserNameLabelPos=new a,o.userNameNode=void 0,o.startFollow=!1,o.userNameLabelOffsetY=0,o}o(t,e);var s=t.prototype;return s.update=function(e){this.startFollow&&this.StartFollow()},s.SetNeedFollowNode=function(e,o,t,s){void 0===o&&(o=null),void 0===t&&(t=""),void 0===s&&(s=!1),this.shadowNode=e,o&&(this.userNameNode=o,this.userNameNode.getComponent(i).string=t,this.userNameNode.active=!0),this.userNameLabelOffsetY=s?n.hostileUserNameLabelOffsetY:n.userNameLabelOffsetY,this.shadowNode.active=!0,this.startFollow=!0},s.ChangeUserName=function(e){this.userNameNode&&(this.userNameNode.getComponent(i).string=e,this.userNameNode.active=!0)},s.StartFollow=function(){this.shadowNode&&(this.tempShadowPos.set(this.node.worldPosition.x,this.node.worldPosition.y+n.friendOffsetY,0),this.shadowNode.worldPosition=this.tempShadowPos),this.userNameNode&&(this.tempUserNameLabelPos.set(this.node.worldPosition.x,this.node.worldPosition.y+this.userNameLabelOffsetY,0),this.userNameNode.worldPosition=this.tempUserNameLabelPos)},s.HideShadow=function(){this.startFollow=!1,this.shadowNode&&(this.shadowNode.active=!1),this.userNameNode&&(this.userNameNode.active=!1)},s.ShowShadow=function(){this.startFollow=!0,this.shadowNode&&(this.shadowNode.active=!0)},t}(r))||d);t._RF.pop()}}}));

System.register("chunks:///_virtual/FriendAni.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SkeletonItem.ts","./CharacterBaseInfo.ts"],(function(e){"use strict";var i,n,a,t,r,l;return{setters:[function(e){i=e.inheritsLoose},function(e){n=e.cclegacy,a=e._decorator,t=e.randomRangeInt},function(e){r=e.SkeletonItem},function(e){l=e.HideAniType}],execute:function(){var _;e({AllFrienAni:void 0,FriendStatus:void 0}),n._RF.push({},"a6229uNnixG4oGtYE5TgEpa","FriendAni",void 0);var d,o,s,u=a.ccclass;a.property;!function(e){e.Hostile_AtkCut="a_atk1",e.Hostile_AtkStab="a_atk2",e.Hostile_Roll="a_fgun",e.Hostile_Idle="a_idle",e.Hostile_Escape="a_run1",e.Hostile_Hold="a_run2",e.Hostile_Run="a_run3",e.HelpMe1="a_lz1",e.HelpMe2="a_lz2",e.HelpMe3="a_lz3",e.HelpMe4="a_lz4",e.Hit_Down="behit1",e.Hit_Up="behit2",e.Dance_HandShake="dance",e.Dance_HandUp="dance2",e.Dance_Hiphop="hiphop_home",e.Fly="fly",e.Walk_HideHand="walk2_new",e.Walk_Nervous="walk3_new",e.Walk_Normal="walk_new",e.Run_1="run",e.Run_2="run2",e.Run_3="run2_new",e.Run_4="run_new",e.Idle="idle",e.Idle_return_UpHold="idle_mangdo_1",e.Idle_return_Hold="idle_mangdo_2",e.Walk_return_UpHold="mang_do",e.Walk_return_Hold="mang_do2",e.Walk_return_Excite_UpHold="mang_do_new_1",e.Walk_return_Excite_Hold="mang_do_new_2",e.Die_Normal="die",e.Die_Back="die2",e.Die_Green="die3",e.Victory="victory",e.Lose="lose",e.Hide_Cartoon="invi",e.Walk_Cartoon="walk_new_cartoon",e.Idle_Cartoon="idle_carton",e.Hide_Pinetree="invi2",e.Walk_Pinetree="walk_new_pinetree",e.Idle_Pinetree="idle_pinetree",e.Hide_Box="invi3",e.Walk_Box="walk_new_box",e.Idle_Box="idle_box",e.Hide_Gift="invi4",e.Walk_Gift="walk_new_gift_box",e.Idle_Gift="idle_gift_box",e.Hide_Shove="invi5",e.Walk_Shove="walk_new_shove",e.Idle_Shove="idle_shove",e.Hide_Snowman="invi6",e.Walk_Snowman="walk_new_snow_man",e.Idle_Snowman="idle_snow_man",e.Hide_TNT="invi7",e.Walk_TNT="walk_new_TNT",e.Idle_TNT="idle_TNT",e.Hide_Thing="invi8",e.Walk_Thing="walk_Thing",e.Idle_Thing="idle_Thing"}(d||(d=e("AllFrienAni",{}))),function(e){e[e.Idle=0]="Idle",e[e.HelpMe=1]="HelpMe",e[e.Idle_Hide=2]="Idle_Hide",e[e.Idle_Hold=3]="Idle_Hold",e[e.Walk=4]="Walk",e[e.Walk_Hide=5]="Walk_Hide",e[e.Run=6]="Run",e[e.Return_Walk=7]="Return_Walk",e[e.Return_Walk_Hide=8]="Return_Walk_Hide",e[e.Return_Idle=9]="Return_Idle",e[e.Return_Idle_Hide=10]="Return_Idle_Hide",e[e.Behit=11]="Behit",e[e.Die_Normal=12]="Die_Normal",e[e.Die_Back=13]="Die_Back",e[e.Die_Green=14]="Die_Green",e[e.Victory=15]="Victory",e[e.Fail=16]="Fail",e[e.Attack=17]="Attack",e[e.FGun=18]="FGun",e[e.default=19]="default"}(o||(o=e("FriendStatus",{}))),function(e){e[e.Splash=0]="Splash",e[e.Idle=1]="Idle",e[e.Walk=2]="Walk"}(s||(s={}));e("FriendAni",u("FriendAni")(_=function(e){function n(){for(var i,n=arguments.length,a=new Array(n),t=0;t<n;t++)a[t]=arguments[t];return(i=e.call.apply(e,[this].concat(a))||this).previousAniStatus=o.default,i.walkAniSpeed=1,i.returnWalkAniSpeed=1,i.hideAniType=l.Cartoon,i}i(n,e);var a=n.prototype;return a.ChangeFriendAniStatus=function(e){if(e!=o.Behit){if(this.previousAniStatus!=e){switch(e){case o.Idle:this.PlayAni(d.Idle,!0,1);break;case o.Idle_Hide:if(this.ClearTracks(),this.previousAniStatus!=o.Walk_Hide){var i=this.GetAniType(s.Splash);this.AddAni(i,!1,0)}var n=this.GetAniType(s.Idle);this.AddAni(n,!0,0);break;case o.Walk:this.PlayAni(d.Run_4,!0,this.walkAniSpeed);break;case o.Walk_Hide:case o.Return_Walk_Hide:if(this.ClearTracks(),this.previousAniStatus!=o.Idle_Hide&&this.previousAniStatus!=o.Return_Walk_Hide&&this.previousAniStatus!=o.Return_Idle_Hide){var a=this.GetAniType(s.Splash);this.AddAni(a,!1,0)}var r=this.GetAniType(s.Walk);this.AddAni(r,!0);break;case o.Return_Idle:this.PlayAni(d.Idle_return_Hold,!0,1);break;case o.HelpMe:var l="a_lz"+t(1,4);this.PlayAni(l,!0,1);break;case o.Return_Walk:this.PlayAni(d.Walk_return_Hold,!0,this.returnWalkAniSpeed);break;case o.Return_Idle_Hide:var _=this.GetAniType(s.Idle);this.PlayAni(_,!0,1);break;case o.Victory:this.PlayAni(d.Victory,!0,1);break;case o.Fail:this.PlayAni(d.Lose,!0,1);break;default:console.log("错误!")}this.previousAniStatus=e}}else this.PlayAni(d.Die_Back)},a.SetWalkAndReturnAniSpeed=function(e,i){void 0===e&&(e=1),void 0===i&&(i=1),this.walkAniSpeed=e,this.returnWalkAniSpeed=i},a.MakeStrategy=function(e,i,n,a){void 0===i&&(i=!1),void 0===n&&(n=!1),void 0===a&&(a=!1);var t=8;e||(t=0);var r=4;i||(r=0);var l=2;n||(l=0);var _,d=1;switch(a||(d=0),t|r|l|d){case 0:_=o.Idle;break;case 2:_=o.Return_Idle;break;case 4:_=o.Idle_Hide;break;case 6:_=o.Return_Idle_Hide;break;case 8:_=o.Walk;break;case 10:_=o.Return_Walk;break;case 12:_=o.Walk_Hide;break;case 14:_=o.Return_Walk_Hide;break;default:_=o.Behit,console.log("hit your status")}this.ChangeFriendAniStatus(_)},a.PlayAnimation=function(e,i,n){void 0===i&&(i=!1),void 0===n&&(n=1),this.PlayAni(e,i,n)},a.PlayDanceAni=function(){this.PlayAni(d.Dance_Hiphop,!0,1)},a.SetHideAni=function(e){this.hideAniType=e},a.GetAniType=function(e){switch(e){case s.Splash:return this.GetSplashHideAniType();case s.Idle:return this.GetIdleHideAniType();case s.Walk:return this.GetWalkHideAniType()}},a.GetSplashHideAniType=function(){switch(this.hideAniType){case l.Box:return d.Hide_Box;case l.Cartoon:return d.Hide_Cartoon;case l.Gift:return d.Hide_Gift;case l.Pinetree:return d.Hide_Pinetree;case l.Shove:return d.Hide_Shove;case l.Snowman:return d.Hide_Snowman;case l.TNT:return d.Hide_TNT;case l.Thing:return d.Hide_Thing}},a.GetIdleHideAniType=function(){switch(this.hideAniType){case l.Box:return d.Idle_Box;case l.Cartoon:return d.Idle_Cartoon;case l.Gift:return d.Idle_Gift;case l.Pinetree:return d.Idle_Pinetree;case l.Shove:return d.Idle_Shove;case l.Snowman:return d.Idle_Snowman;case l.TNT:return d.Idle_TNT;case l.Thing:return d.Idle_Thing}},a.GetWalkHideAniType=function(){switch(this.hideAniType){case l.Box:return d.Walk_Box;case l.Cartoon:return d.Walk_Cartoon;case l.Gift:return d.Walk_Gift;case l.Pinetree:return d.Walk_Pinetree;case l.Shove:return d.Walk_Shove;case l.Snowman:return d.Walk_Snowman;case l.TNT:return d.Walk_TNT;case l.Thing:return d.Walk_Thing}},n}(r))||_);n._RF.pop()}}}));

System.register("chunks:///_virtual/FriendData.ts",["cc","./GameDataManager.ts","./RandomTools.ts","./FriendDataItem.ts"],(function(e){"use strict";var t,n,a,r;return{setters:[function(e){t=e.cclegacy},function(e){n=e.GameDataManager},function(e){a=e.RandomTools},function(e){r=e.FriendDataItem}],execute:function(){t._RF.push({},"7967fW4ZqlNbLenzT9xwRrt","FriendData",void 0);e("FriendData",function(){function e(){this.allFriendItemData=void 0}var t=e.prototype;return t.GenerateFriendDataItem=function(e){if(null==this.allFriendItemData){this.allFriendItemData=[];var t=n.Instance.GetUserName(e);if(t.length<e)return void console.log("user name too short!");for(var i=0;i<e;i++){var u=new r;u.friendName=t[i],u.skinType=a.RandomIntRegion(0,9),u.characterId=i,this.allFriendItemData.push(u)}}},t.GetAllFriendData=function(){return this.allFriendItemData?this.allFriendItemData:null},t.GetFriendToScene=function(){var e=this.GetFriendNotInSceneOutGame();return e&&(e.isInScene=!0),e},t.GetFriendOutGameName=function(){var e=this.GetFriendNotInSceneOutGame();return e?(e.isOutGame=!0,e.friendName):null},t.GetFriendNotInSceneOutGame=function(){if(this.allFriendItemData){var e=this.allFriendItemData.filter((function(e){return 0==e.isInScene&&0==e.isOutGame}));if(null!=e&&e.length>0)return e[0]}return null},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/FriendDataItem.ts",["cc"],(function(t){"use strict";var e,i;return{setters:[function(t){e=t.cclegacy,i=t._decorator}],execute:function(){var s;e._RF.push({},"e34e7XwgSVK4pZp4It4qsBO","FriendDataItem",void 0);var a=i.ccclass;i.property,t("FriendDataItem",a("FriendDataItem")(s=function(){this.isInScene=!1,this.isOutGame=!1,this.characterId=0,this.friendName=void 0,this.skinType=void 0,this.minPatrolTime=3,this.maxPatrolTime=5,this.minEscapeTime=5,this.maxEscapeTime=7,this.minIdleTime=1,this.maxIdleTime=3,this.minChaseTime=2,this.maxChaseTime=8,this.detectArea=500,this.attackArea=70,this.hasSkillRoll=!1})||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/FriendInfo.ts",["cc"],(function(i){"use strict";var e;return{setters:[function(i){e=i.cclegacy}],execute:function(){e._RF.push({},"9d2a1C9P7pC641jrgQgL15n","FriendInfo",void 0);i("FriendInfo",(function(i,e,t,s,n,d,h){this.friendId=void 0,this.userName=void 0,this.skin=void 0,this.hideAniType=void 0,this.moveSpeed=void 0,this.escapeSpeed=void 0,this.aiCalcInterval=void 0,this.friendId=i,this.userName=e,this.skin=t,this.hideAniType=s,this.moveSpeed=n,this.escapeSpeed=d,this.aiCalcInterval=h}));e._RF.pop()}}}));

System.register("chunks:///_virtual/FriendManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AssetManager.ts","./EventCenter.ts","./RandomTools.ts","./Constants.ts","./DirectArrow.ts","./AIFriendInput.ts","./AIHostileFriend.ts"],(function(t){"use strict";var e,r,i,a,n,s,h,o,l,c,d,u,f;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy,i=t._decorator,a=t.Vec3,n=t.instantiate,s=t.Component},function(t){h=t.AssetManager},function(t){o=t.EventCenter},function(t){l=t.RandomTools},function(t){c=t.Constants},function(t){d=t.DirectArrow},function(t){u=t.AIFriendInput},function(t){f=t.AIHostileFriend}],execute:function(){var m;r._RF.push({},"83086K2J7JCCL0muZhCogpy","FriendManager",void 0);var A=i.ccclass;i.property,t("FriendManager",A("FriendManager")(m=function(t){function r(){for(var e,r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))||this).friendPath="Character/Friend",e.friendData=void 0,e.characterBaseArr=void 0,e.friendInSceneMaxNum=6,e.allCharacterNum=0,e.remainCharacterNum=0,e.allCactusNode=void 0,e.allCactusWorldPos=null,e.isGameOver=!0,e.allArrow=void 0,e.showArrowDis=600,e.detectIndex=0,e.minDisIndex=0,e.playerIndex=0,e.playerNode=null,e.hitHeight=80,e.hitWidth=60,e.playerKillNum=0,e.tempVec3=new a,e.dropOffsetX=130,e.dropOffsetY=60,e.cactusOffsetY=10,e.allFriendWorldPos=null,e}e(r,t);var i=r.prototype;return i.InitFriend=function(t,e){this.friendData=t,this.GenerateFriend(this.friendInSceneMaxNum,e),this.allCharacterNum=this.friendData.GetAllFriendData().length+1,this.remainCharacterNum=this.allCharacterNum,this.allCactusNode=this.node.getChildByPath("CactusNode"),this.allCactusWorldPos=[];for(var r=0;r<this.allCactusNode.children.length;r++)this.allCactusWorldPos.push(this.allCactusNode.children[r].worldPosition);this.InitArrow()},i.InitArrow=function(){this.allArrow=[];var t=this.node.getChildByPath("Arrow1").addComponent(d),e=this.node.getChildByPath("Arrow2").addComponent(d),r=this.node.getChildByPath("Arrow3").addComponent(d);this.allArrow.push(t),this.allArrow.push(e),this.allArrow.push(r),this.StopAllArrow()},i.StopAllArrow=function(){for(var t=0;t<this.allArrow.length;t++)this.allArrow[t].StopDirect()},i.SetArrow=function(){for(var t=[],e=0;e<this.characterBaseArr.length-1;e++){if(a.distance(this.playerNode.worldPosition,this.characterBaseArr[e].node.worldPosition)<this.showArrowDis)return void this.StopAllArrow();t.push(this.characterBaseArr[e])}for(var r=0;r<t.length;r++){if(r>=3)return;this.allArrow[r].SetDirectByNode(t[r].node,this.playerNode)}},i.onEnable=function(){o.Instance.AddEventListener(c.Event_Game_TimeUp,this.OnGameTimeUp,this),o.Instance.AddEventListener(c.Event_Game_Start,this.OnGameStart,this)},i.onDisable=function(){o.Instance.RemoveEventListener(c.Event_Game_TimeUp,this.OnGameTimeUp,this),o.Instance.RemoveEventListener(c.Event_Game_Start,this.OnGameStart,this)},i.OnGameStart=function(){this.isGameOver=!1},i.OnGameTimeUp=function(){this.isGameOver=!0},i.update=function(t){if(!this.isGameOver){if(this.characterBaseArr){if(this.detectIndex>=this.characterBaseArr.length&&(this.detectIndex=0),this.characterBaseArr[this.detectIndex].isAI&&!this.characterBaseArr[this.detectIndex].IsOutGame()){var e=this.CaclMinDisEnemy(this.detectIndex);this.characterBaseArr[this.detectIndex].ThinkNextState(e,this.characterBaseArr[this.minDisIndex])}this.detectIndex++}this.SetArrow()}},i.CaclMinDisEnemy=function(t){var e=Number.MAX_VALUE,r=this.characterBaseArr[t].node.worldPosition;if(this.characterBaseArr)for(var i=0;i<this.characterBaseArr.length;i++)if(i!=t&&!this.characterBaseArr[i].IsOutGame()){var n=a.distance(r,this.characterBaseArr[i].node.worldPosition);n<e&&(e=n,this.minDisIndex=i)}return e},i.GenerateFriend=function(t,e){if(null==this.characterBaseArr){this.characterBaseArr=new Array;for(var r=h.Instance.GetAssets(c.hostileABName,this.friendPath),i=this.node.getChildByPath("FriendNode"),a=0;a<t;a++){var n=this.CreateFriend(r,i,e);n&&this.characterBaseArr.push(n)}}},i.AddPlayer=function(t){this.playerNode=t.node,this.characterBaseArr&&(this.characterBaseArr.push(t),this.playerIndex=this.characterBaseArr.length-1,t.AddManager(this))},i.GetPlayer=function(){return this.characterBaseArr?this.characterBaseArr[this.characterBaseArr.length-1]:null},i.CreateFriend=function(t,e,r){var i=this.friendData.GetFriendToScene();if(null==i)return null;var a=n(t);e.addChild(a);var s=a.addComponent(f);return i&&(s.InitAIHostileFriend(new u,i,r),s.AddManager(this),this.SetFriendWorldPos(s)),s},i.AttackHitDetect=function(t){if(t.isAI)for(var e=0;e<this.characterBaseArr.length;e++){if(this.DetectHit(t,this.characterBaseArr[e]))return}else for(var r=0;r<this.characterBaseArr.length-1;r++){if(this.DetectHit(t,this.characterBaseArr[r]))return this.playerKillNum++,void o.Instance.TriggerEvent(c.Event_HostilePlayer_UIRefreshKillNum,this.playerKillNum)}},i.DetectHit=function(t,e){if(t.IsOutGame()||e.IsRollingState()||e.IsOutGame()||t.GetCharacterId()==e.GetCharacterId())return!1;var r=t.GetDetectNodeWorldPos(),i=e.GetSelfWorldPos(),a=i.x,n=i.y,s=r.x-this.hitWidth,h=r.x+this.hitWidth,l=r.y+this.hitHeight,d=r.y-this.hitHeight;if(a<h&&a>s&&n<l&&n>d){e.OutGame(),this.remainCharacterNum--,o.Instance.TriggerEvent(c.Event_HostileGame_UIRefreshRemainNum,this.allCharacterNum,this.remainCharacterNum);var u=e.GetSelfWorldPos();return this.tempVec3.set(u.x,u.y-this.dropOffsetY,0),o.Instance.TriggerEvent(c.Event_HostileGame_Effect_OutItem,this.tempVec3.x,this.tempVec3.y),!0}return!1},i.RecycleToScene=function(t){var e=this;if(t.isAI){var r=this.friendData.GetFriendToScene();if(r&&this.scheduleOnce((function(){t.SetFriendDataItem(r),e.SetFriendWorldPos(t,!0),t.RecycleCharacter()}),2),l.RandomIntRegion(0,100)>70){var i=this.friendData.GetFriendOutGameName();i&&(this.remainCharacterNum--,o.Instance.TriggerEvent(c.Event_HostileGame_UIRefreshRemainNum,this.allCharacterNum,this.remainCharacterNum),o.Instance.TriggerEvent(c.Event_HostileGame_FriendOutGame,i))}}},i.SetFriendWorldPos=function(t,e){if(void 0===e&&(e=!1),e){var r=this.GetRandomCactusWorldPos();t.SetFriendWorldPos(r.x,r.y+this.cactusOffsetY)}else{var i=this.GetFriendCreatePoint();t.SetFriendWorldPos(i.x,i.y)}},i.GetRandomCactusWorldPos=function(){if(this.allCactusWorldPos){var t=l.RandomIntRegion(0,this.allCactusWorldPos.length-1);return this.allCactusWorldPos[t]}},i.GetFriendCreatePoint=function(){if(null==this.allFriendWorldPos){this.allFriendWorldPos=[];for(var t=this.node.getChildByPath("FriendPoint"),e=0;e<t.children.length;e++)this.allFriendWorldPos.push(t.children[e].worldPosition)}var r=l.RandomIntRegion(0,this.allFriendWorldPos.length-1);return this.allFriendWorldPos[r]},r}(s))||m);r._RF.pop()}}}));

System.register("chunks:///_virtual/GameCamera.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){"use strict";var t,l,e,i,n,r,s;return{setters:[function(o){t=o.inheritsLoose},function(o){l=o.cclegacy,e=o._decorator,i=o.v3,n=o.tween,r=o.Vec3,s=o.Component}],execute:function(){var a;l._RF.push({},"384782BSClJf5qQc+2mi6VS","GameCamera",void 0);var f=e.ccclass;e.property,o("GameCamera",f("GameCamera")(a=function(o){function l(){for(var t,l=arguments.length,e=new Array(l),i=0;i<l;i++)e[i]=arguments[i];return(t=o.call.apply(o,[this].concat(e))||this).followTarget=null,t.followOffset=new r(-43.393,-79.266,0),t.camPos=new r,t.camLepDep=.3,t}t(l,o);var e=l.prototype;return e.InitGameCam=function(o){this.followTarget=o;var t=this.followTarget.worldPosition.x,l=this.followTarget.worldPosition.y,e=i(t+this.followOffset.x,l+this.followOffset.y,0);this.node.setWorldPosition(e)},e.update=function(o){this.FollowTarget()},e.FollowTarget=function(){if(null!=this.followTarget&&null!=this.followTarget){var o=this.followTarget.worldPosition.x,t=this.followTarget.worldPosition.y;this.camPos.lerp(i(o+this.followOffset.x,t+this.followOffset.y,0),this.camLepDep),this.node.setWorldPosition(this.camPos)}},e.StopFollow=function(){this.followTarget=null},e.MoveToPlatform=function(o,t){void 0===t&&(t=null),this.followTarget=null,n(this.node).to(1,{worldPosition:o}).delay(1).call((function(){t&&t()})).start()},l}(s))||a);l._RF.pop()}}}));

System.register("chunks:///_virtual/GameDataManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ExcelManager.ts","./LogUtil.ts","./RandomTools.ts","./CharacterBaseInfo.ts","./SignInDataItem.ts","./SkinDataItem.ts","./SurvivalModeInfo.ts"],(function(a){"use strict";var t,e,n,s,i,r,D,c,h,u,o;return{setters:[function(a){t=a.inheritsLoose},function(a){e=a.cclegacy,n=a._decorator,s=a.Component},function(a){i=a.ExcelManager},function(a){r=a.LogUtil},function(a){D=a.RandomTools},function(a){c=a.CharacterBaseInfo},function(a){h=a.SignInDataItem},function(a){u=a.SkinDataItem},function(a){o=a.SurvivalModeInfo}],execute:function(){var l,g;e._RF.push({},"0100cxsVkFG7o0/3ZOLDfiM","GameDataManager",void 0);var v=n.ccclass;n.property,a("GameDataManager",v("GameDataManager")(((g=function(a){function e(){for(var t,e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return(t=a.call.apply(a,[this].concat(n))||this).dataBundleName="GameData",t.userNameKey="UserName",t.userNameAssetPath="UserName/UserName",t.survivalDataKey="SurvivalModeData",t.survivalDataAssetPath="GameData/SurvivalModeData",t.characterBaseDataKey="CharacterBaseData",t.characterBaseDataAssetPath="GameData/CharacterBaseData",t.signInDataKey="SignInData",t.signInDataAssetPath="SignInData/SignInData",t.skinDataKey="SkinData",t.skinDataAssetPath="SkinData/SkinData",t.gameDataDic=new Map,t}t(e,a);var n=e.prototype;return n.onLoad=function(){null==e.Instance?e.Instance=this:this.destroy()},n.GetUserName=function(a){if(!this.gameDataDic.has(this.userNameKey)){var t=i.Instance.GetExcelData(this.dataBundleName,this.userNameAssetPath);this.gameDataDic.set(this.userNameKey,t[0])}var e=this.gameDataDic.get(this.userNameKey),n=D.RandomArray(e);return n.length<a?(r.Log("保存数据的用户名太短,长度为:"+n.length),n.splice(0,n.length)):n.splice(0,a)},n.GetSkinData=function(){if(!this.gameDataDic.has(this.skinDataKey)){var a=i.Instance.GetExcelData(this.dataBundleName,this.skinDataAssetPath),t=this.ParseSkinData(a);this.gameDataDic.set(this.skinDataKey,t)}return this.gameDataDic.get(this.skinDataKey)},n.GetSignInData=function(){if(!this.gameDataDic.has(this.signInDataKey)){var a=i.Instance.GetExcelData(this.dataBundleName,this.signInDataAssetPath),t=this.ParseSignInData(a);this.gameDataDic.set(this.signInDataKey,t)}return this.gameDataDic.get(this.signInDataKey)},n.GetSurvivalModeLevelData=function(a){if(!this.gameDataDic.has(this.survivalDataKey)){var t=i.Instance.GetExcelData(this.dataBundleName,this.survivalDataAssetPath),e=this.ParseSurvivalModeLevelData(t);this.gameDataDic.set(this.survivalDataKey,e)}var n=this.gameDataDic.get(this.survivalDataKey);return a>n?(r.Log("GetSurvivalModeLevelData level num not enough"),null):n[a]},n.GetCharacterBaseData=function(a){if(!this.gameDataDic.has(this.characterBaseDataKey)){var t=i.Instance.GetExcelData(this.dataBundleName,this.characterBaseDataAssetPath),e=this.ParseCharacterData(t);this.gameDataDic.set(this.characterBaseDataKey,e)}return this.gameDataDic.get(this.characterBaseDataKey).filter((function(t){return t.gameLevelIndex==a}))},n.ParseSkinData=function(a){for(var t=[],e=0;e<a.length;e++){var n=a[e],s=new u(n[0],n[1],n[2],n[3]);t.push(s)}return t},n.ParseSignInData=function(a){for(var t=[],e=0;e<a.length;e++){var n=a[e],s=new h(n[0],parseInt(n[1]),n[2]);t.push(s)}return t},n.ParseSurvivalModeLevelData=function(a){for(var t=[],e=0;e<a.length;e++){var n=a[e],s=new o(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15]);t.push(s)}return t},n.ParseCharacterData=function(a){for(var t=[],e=0;e<a.length;e++){var n=a[e],s=new c(n[0],n[1],n[2],n[3],n[4],n[5]);t.push(s)}return t},e}(s)).Instance=null,l=g))||l);e._RF.pop()}}}));

System.register("chunks:///_virtual/GameLaunch.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AdLogUtil.ts","./GameDataManager.ts","./UserDataManager.ts","./AIPathManager.ts","./GameManager.ts","./AdBridge.ts","./AssetManager.ts","./SoundManager.ts","./EventCenter.ts","./ExcelManager.ts","./FlyEffectManager.ts","./TipManager.ts","./UIManager.ts","./LogUtil.ts"],(function(n){"use strict";var t,e,a,o,i,s,r,c,d,u,g,f,m,h,p,M,l,C,L,y,A;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,a=n._decorator,o=n.game,i=n.PhysicsSystem2D,s=n.Component},function(n){r=n.AdLogUtil},function(n){c=n.GameDataManager},function(n){d=n.UserDataManager},function(n){u=n.AIPathManager},function(n){g=n.GameManager},function(n){f=n.AdBridge,m=n.PlatForm},function(n){h=n.AssetManager},function(n){p=n.SoundManager},function(n){M=n.EventCenter},function(n){l=n.ExcelManager},function(n){C=n.FlyEffectManager},function(n){L=n.TipManager},function(n){y=n.UIManager},function(n){A=n.LogUtil}],execute:function(){var G;e._RF.push({},"42daaZA4+1E1KBd1+M4xbVX","GameLaunch",void 0);var U=a.ccclass;a.property,n("GameLaunch",U("GameLaunch")(G=function(n){function e(){return n.apply(this,arguments)||this}t(e,n);var a=e.prototype;return a.onLoad=function(){A.InitLogUtil(!1),r.InitLogUtil(!1),f.SetMiniGame(m.Wechat),f.isDebugMode=!0,this.node.addComponent(M),this.node.addComponent(d),this.node.addComponent(h),this.node.addComponent(y),this.node.addComponent(g),this.node.addComponent(l),this.node.addComponent(c),this.node.addComponent(p),p.Instance.Init("Audio","Music","Sound"),this.node.addComponent(C),this.node.addComponent(u),this.node.addComponent(L),this.ConfigPhysic()},a.start=function(){g.Instance.StartGame()},a.ConfigPhysic=function(){o.frameRate=50,i.instance.fixedTimeStep=.02},e}(s))||G);e._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AdManager.ts","./GameDataManager.ts","./UserDataManager.ts","./AdBridge.ts","./AssetManager.ts","./FlyEffectManager.ts","./TipManager.ts","./UIManager.ts","./AIPathManager.ts","./Constants.ts","./GameCamera.ts","./FriendData.ts","./HostileCamera.ts","./HostileMode.ts","./CharacterBaseInfo.ts","./RescueMode.ts","./SurvivalMode.ts","./HomeView.ts","./LoadingView.ts","./MatchView.ts"],(function(e){"use strict";var a,t,n,i,o,s,r,c,l,m,d,h,u,g,f,I,M,C,v,G,P,p,A,S;return{setters:[function(e){a=e.inheritsLoose},function(e){t=e.cclegacy,n=e.Component},function(e){i=e.default},function(e){o=e.GameDataManager},function(e){s=e.UserDataManager},function(e){r=e.AdBridge},function(e){c=e.AssetManager},function(e){l=e.FlyEffectManager},function(e){m=e.TipManager},function(e){d=e.UIManager,h=e.UITpye},function(e){u=e.AIPathManager},function(e){g=e.Constants},function(e){f=e.GameCamera},function(e){I=e.FriendData},function(e){M=e.HostileCamera},function(e){C=e.HostileMode},function(e){v=e.HideAniType},function(e){G=e.RescueMode},function(e){P=e.SurvivalMode},function(e){p=e.HomeView},function(e){A=e.LoadingView},function(e){S=e.MatchView}],execute:function(){var y;e("GameMode",void 0),t._RF.push({},"1f6e8Q5+lZBIapck6X/nIsS","GameManager",void 0),function(e){e[e.SurvivorMode=0]="SurvivorMode",e[e.HostileMode=1]="HostileMode",e[e.RescueMode=2]="RescueMode"}(y||(y=e("GameMode",{}))),e("GameManager",function(e){function t(){for(var a,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(a=e.call.apply(e,[this].concat(n))||this).gameNode=void 0,a.gameCam=void 0,a.hostileCam=void 0,a.allMatchCharacterNum=20,a.friendData=null,a}a(t,e);var n=t.prototype;return n.onLoad=function(){null==t.Instance?t.Instance=this:this.destroy()},n.StartGame=function(){var e=this;c.Instance.PreLoadResPkg(g.loadingPkg,null,(function(){var a=d.Instance.ShowUI(g.loadingABName,g.loadingAssetPath,A,h.Fixed);e.StartLoadMainPage(a)}))},n.LoadProgress=function(e,a){d.Instance.ShowUI(g.loadingABName,g.loadingAssetPath,A).UpdateProgress(e/a)},n.StartLoadMainPage=function(e){var a=this;c.Instance.PreLoadResPkg(g.homePkg,this.LoadProgress.bind(this),(function(){a.scheduleOnce((function(){d.Instance.ShowUI(g.homeABName,g.homePanelAssetPath,p,h.Normal);var a=c.Instance.GetAssets("Home","Prefabs/Coin"),t=c.Instance.GetAssets("Home","Prefabs/Diamond");m.Instance.Init(),l.Instance.Init(16,a,t),e.Hide()}),g.loadingStartDelayTime)}))},n.GetGameRoot=function(){return null!=this.gameNode&&null!=this.gameNode||(this.gameNode=this.node.getChildByPath("Game")),this.gameNode},n.GetGameCamera=function(){var e=this.GetGameRoot().getChildByPath("GameCamera");return null!=this.gameCam&&null!=this.gameCam||(this.gameCam=e.getComponent(f),null!=this.gameCam&&null!=this.gameCam||(this.gameCam=e.addComponent(f))),this.gameCam.enabled=!0,this.gameCam},n.RemoveGameCamera=function(){var e=this.GetGameRoot().getChildByPath("GameCamera"),a=e.getComponent(M);a&&(a.enabled=!1);var t=e.getComponent(f);t&&(t.enabled=!1)},n.GetHostileCamera=function(){var e=this.GetGameRoot().getChildByPath("GameCamera");return this.hostileCam=e.getComponent(M),null!=this.hostileCam&&null!=this.hostileCam||(this.hostileCam=e.addComponent(M)),this.hostileCam.enabled=!0,this.hostileCam},n.PlayGame=function(e,a){switch(void 0===a&&(a=1),e){case y.SurvivorMode:this.InitSurvivorMode(a);break;case y.HostileMode:this.InitHostileMode();break;case y.RescueMode:this.InitRescueMode();break;default:return}},n.InitRescueMode=function(){var e;e=new G,u.Instance.ClearTask();var a=o.Instance.GetCharacterBaseData(5),t=o.Instance.GetSurvivalModeLevelData(4);u.Instance.ClearTask();var n=s.Instance.GetCurrentSelectSkinType();e.InitGame(a,t,n,v.Box),d.Instance.HideUI(g.homePanelAssetPath,!1,!0),i.getInstance().reportAnalytics("intorescuemode",null),r.IntoRescueMode()},n.InitHostileMode=function(){this.friendData=new I,this.friendData.GenerateFriendDataItem(this.allMatchCharacterNum),this.friendData.GetAllFriendData(),r.ClickMatch(),d.Instance.ShowUI(g.homeABName,g.matchViewAssetPath,S,h.Normal,!0,this.friendData,this.MatchCallBack.bind(this))},n.MatchCallBack=function(){(new C).InitGame(this.friendData),d.Instance.HideUI(g.homePanelAssetPath,!1,!0)},n.InitSurvivorMode=function(e){var a;a=new P;var t=o.Instance.GetCharacterBaseData(e),n=o.Instance.GetSurvivalModeLevelData(e-1);u.Instance.ClearTask();var r=s.Instance.GetCurrentSelectSkinType();a.InitGame(t,n,r,v.Box),d.Instance.HideUI(g.homePanelAssetPath,!1,!0),i.getInstance().reportAnalytics("intogame",{level:e})},t}(n)).Instance=null,t._RF.pop()}}}));

System.register("chunks:///_virtual/GameModeBase.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"9044aFZcaNG9YyiQ2/T5VAN","GameModeBase",void 0);e("GameModeBase",(function(){this.gameResourceControl=void 0}));t._RF.pop()}}}));

System.register("chunks:///_virtual/GameTip.ts",["cc"],(function(i){"use strict";var e,t,a,s,n;return{setters:[function(i){e=i.cclegacy,t=i._decorator,a=i.Vec3,s=i.tween,n=i.Tween}],execute:function(){var p;e._RF.push({},"890a3kiYihMubmjmULzb59Y","GameTip",void 0);var T=t.ccclass;t.property,i("GameTip",T("GameTip")(p=function(){function i(i,e){this.gameTipNode=void 0,this.gameTipLabel=void 0,this.gameTipArr=null,this.isFinishGameTipTween=!0,this.gameTipNode=i,this.gameTipLabel=e,null==this.gameTipArr&&(this.gameTipArr=[])}var e=i.prototype;return e.ShowGameTip=function(i){this.gameTipArr.push(i),this.ShowGameTipTween()},e.ShowGameTipTween=function(){var i=this;if(this.isFinishGameTipTween){var e=this.gameTipArr.shift();null!=e&&null!=e&&(this.isFinishGameTipTween=!1,this.gameTipNode.scale=a.ZERO,this.gameTipNode.active=!0,this.gameTipLabel.string=e,s(this.gameTipNode).to(.3,{scale:a.ONE}).delay(2).set({active:!1}).call((function(){i.isFinishGameTipTween=!0,i.ShowGameTipTween()})).start())}},e.StopGameTipTween=function(){n.stopAllByTarget(this.gameTipNode)},i}())||p);e._RF.pop()}}}));

System.register("chunks:///_virtual/GetSkinView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AdManager.ts","./UserDataManager.ts","./AdBridge.ts","./SoundManager.ts","./TipManager.ts","./UIBase.ts","./UIManager.ts","./Constants.ts","./CharacterBaseInfo.ts"],(function(t){"use strict";var n,e,i,a,s,r,c,o,h,u,l,d,p;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,i=t._decorator,a=t.Sprite},function(t){s=t.default},function(t){r=t.UserDataManager},function(t){c=t.AdBridge},function(t){o=t.SoundManager},function(t){h=t.TipManager},function(t){u=t.UIBase},function(t){l=t.UIManager},function(t){d=t.Constants},function(t){p=t.CharacterInfoHelper}],execute:function(){var S;e._RF.push({},"b0b0aBxOGlMzqkkmwA/KWLt","GetSkinView",void 0);var f=i.ccclass;i.property,t("GetSkinView",f("GetSkinView")(S=function(t){function e(){for(var n,e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return(n=t.call.apply(t,[this].concat(i))||this).characterAtlas=void 0,n.characterSP=void 0,n.skinType=void 0,n}n(e,t);var i=e.prototype;return i.onLoad=function(){t.prototype.onLoad.call(this),this.FindChild()},i.FindChild=function(){this.characterSP=this.allNodes.Character.getComponent(a),this.characterAtlas=this.characterSP.spriteAtlas,this.AddBtnListener("CloseBtn",this,this.OnClickCloseBtn),this.AddBtnListener("RewardBtn",this,this.OnClickRewardBtn)},i.OnClickCloseBtn=function(){l.Instance.HideUI(d.getSkinViewAssetPath,!0,!0)},i.OnClickRewardBtn=function(){var t=this;s.getInstance().reportAnalytics("reward_tryskin",{}),c.ShowRewardVideo((function(){o.Instance.PlaySounds(d.soundUnlockSuccess),h.Instance.ShowTip("恭喜您解锁皮肤!"),r.Instance.UnLockSkin(t.skinType),r.Instance.SetCurrentSelectSkinType(t.skinType),l.Instance.HideUI(d.getSkinViewAssetPath,!0,!0)}))},i.OnShow=function(){this.skinType=parseInt(arguments.length<=0?void 0:arguments[0]),this.RefreshSkinSP(this.skinType)},i.RefreshSkinSP=function(t){var n=p.Instance().GetSkinStr(t);this.characterSP.spriteFrame=this.characterAtlas.getSpriteFrame(n)},e}(u))||S);e._RF.pop()}}}));

System.register("chunks:///_virtual/GreenAni.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SkeletonItem.ts"],(function(t){"use strict";var e,n,a,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,a=t._decorator},function(t){i=t.SkeletonItem}],execute:function(){var r,c,s;t("GreenStatus",void 0),n._RF.push({},"ae34eV2rnxNW68pDUb3RWTF","GreenAni",void 0),function(t){t.Idle="idle",t.Walk="walk",t.Attack="attack"}(c||(c={})),function(t){t[t.Idle=0]="Idle",t[t.Walk=1]="Walk",t[t.Attack=2]="Attack",t[t.Default=3]="Default"}(s||(s=t("GreenStatus",{})));var l=a.ccclass;a.property,t("GreenAni",l("GreenAni")(r=function(t){function n(){for(var e,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))||this).previousAniStatus=s.Default,e}e(n,t);var a=n.prototype;return a.ChangeAniStatus=function(t){if(this.previousAniStatus!=t)switch(this.previousAniStatus=t,t){case s.Idle:this.PlayAni(c.Idle,!0,1);break;case s.Walk:this.ClearTracks(),this.PlayAni(c.Walk,!0,1);break;case s.Attack:this.PlayAni(c.Attack,!1,1)}},a.SetHitCallBack=function(t){this.GetSkeleton().setEventListener((function(e,n){1==e.trackIndex&&t()}))},a.SetHitCompeteCallBack=function(t){this.GetSkeleton().setCompleteListener((function(e){1==e.trackIndex&&t()}))},n}(i))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/HomeView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AdManager.ts","./UserDataManager.ts","./AdBridge.ts","./SoundManager.ts","./EventCenter.ts","./FlyEffectManager.ts","./TipManager.ts","./UIBase.ts","./UIManager.ts","./StringHelper.ts","./FriendAni.ts","./Constants.ts","./CharacterBaseInfo.ts","./SurvivalMode.ts","./GameManager.ts","./RewardView.ts","./SettingView.ts","./SignInView.ts","./SkinView.ts","./SpinView.ts","./UISurvivalModePanel.ts","./AdsIdConfig.ts"],(function(n){"use strict";var e,t,i,o,s,a,c,l,d,r,h,u,v,m,I,f,C,k,P,S,B,p,N,g,O,w,y,M,A,U,E,R,H,L,T,_,D;return{setters:[function(n){e=n.inheritsLoose},function(n){t=n.cclegacy,i=n._decorator,o=n.Label,s=n.Input,a=n.Sprite,c=n.Color,l=n.tween,d=n.easing,r=n.Vec3,h=n.sp},function(n){u=n.default},function(n){v=n.UserDataManager},function(n){m=n.AdBridge},function(n){I=n.SoundManager},function(n){f=n.EventCenter},function(n){C=n.FlyEffectManager},function(n){k=n.TipManager},function(n){P=n.UIBase},function(n){S=n.UIManager,B=n.UITpye},function(n){p=n.StringHelper},function(n){N=n.FriendAni},function(n){g=n.Constants},function(n){O=n.CharacterInfoHelper},function(n){w=n.SurvivalModeType},function(n){y=n.GameManager,M=n.GameMode},function(n){A=n.RewardView},function(n){U=n.SettingView},function(n){E=n.SignInView},function(n){R=n.SkinView},function(n){H=n.SpinView},function(n){L=n.UISurvivalModePanel},function(n){T=n.default,_=n.EPlatform,D=n.AdType}],execute:function(){var V,G;t._RF.push({},"124d6t5FChFrJuogufCuaSK","HomeView",void 0);var F=i.ccclass;i.property,n("HomeView",F("HomeView")(((G=function(n){function t(){for(var e,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))||this).friendAni=void 0,e.coinLabel=void 0,e.diamondLabel=void 0,e.uiSurvivalModePanel=void 0,e.isInit=!1,e.backBtn=void 0,e.originSurviveModePos=void 0,e.survivalModeNodeOutPos=void 0,e.originChooseModePos=void 0,e.chooseModeOutPos=void 0,e.outOffsetX=1e3,e.survivalModeNode=void 0,e.chooseModeUINode=void 0,e.tweenPanelDur=.3,e.moreGamePanel=null,e.noticePanel=null,e.TiktoknavPanel=null,e}e(t,n);var i=t.prototype;return i.onLoad=function(){n.prototype.onLoad.call(this),this.FindChild(),this.InitSurvivalPanel(),this.InitHomeFriendAni()},i.onEnable=function(){f.Instance.AddEventListener(g.Event_UIHome_FlyCoin,this.OnFlyCoin,this),f.Instance.AddEventListener(g.Event_UIHome_FlyDiamond,this.OnFlyDiamond,this),f.Instance.AddEventListener(g.Event_UIHome_RefreshCoinNum,this.OnRefreshCoinNum,this),f.Instance.AddEventListener(g.Event_UIHome_RefreshDiamondNum,this.OnRefreshDiamondNum,this),f.Instance.AddEventListener(g.Event_UIHome_RefreshSkin,this.OnRefreshSkin,this),f.Instance.AddEventListener(g.Event_UIHome_CheckCanSpin,this.CheckCanSpin,this)},i.onDisable=function(){this.RemoveListener()},i.onDestroy=function(){this.RemoveListener()},i.RemoveListener=function(){f.Instance.RemoveEventListener(g.Event_UIHome_FlyCoin,this.OnFlyCoin,this),f.Instance.RemoveEventListener(g.Event_UIHome_FlyDiamond,this.OnFlyDiamond,this),f.Instance.RemoveEventListener(g.Event_UIHome_RefreshCoinNum,this.OnRefreshCoinNum,this),f.Instance.RemoveEventListener(g.Event_UIHome_RefreshDiamondNum,this.OnRefreshDiamondNum,this),f.Instance.RemoveEventListener(g.Event_UIHome_RefreshSkin,this.OnRefreshSkin,this),f.Instance.RemoveEventListener(g.Event_UIHome_CheckCanSpin,this.CheckCanSpin,this)},i.FindChild=function(){this.isInit||(this.isInit=!0,this.AddBtnListener("RubyUI",this,this.OnClickDiamondBtn),this.AddBtnListener("CoinUI",this,this.OnClickCoinBtn),this.AddBtnListener("SettingBtn",this,this.OnClickSetting),this.AddBtnListener("BackBtn",this,this.OnClickBackBtn),this.AddBtnListener("SpinBtn",this,this.OnClickSpinBtn),this.AddBtnListener("SignInBtn",this,this.OnClickSignInBtn),this.AddBtnListener("SkinBtn",this,this.OnClickSkinBtn),this.AddBtnListener("PrivacyBtn",this,this.OnClickPrivacyBtn),this.AddBtnListener("AddDesk",this,this.OnClickAddDeskBtn),this.AddBtnListener("TiktokBtn",this,this.OnClickTiktokBtn),this.AddBtnListener("MoreGameBtn",this,this.OnClickMoreGameBtn),this.coinLabel=this.allNodes["CoinUI/CoinNum"].getComponent(o),this.diamondLabel=this.allNodes["RubyUI/RubyNum"].getComponent(o),this.allNodes["ChooseModeUI/SurvivorModeBtn"].on(s.EventType.TOUCH_END,this.OnClickSuvivorItem,this),this.allNodes["ChooseModeUI/EnemyModeBtn"].on(s.EventType.TOUCH_END,this.OnClickEnemyModeBtn,this),this.allNodes["ChooseModeUI/BattleModeBtn"].on(s.EventType.TOUCH_END,this.OnClickBattleModeBtn,this),this.backBtn=this.allNodes.BackBtn,this.survivalModeNode=this.allNodes.UISurvivalMode,this.chooseModeUINode=this.allNodes.ChooseModeUI,this.survivalModeNode.getComponent(a).color=new c(255,255,255,0),this.moreGamePanel=this.allNodes.MoreGamePanel,this.node.getChildByPath("MoreGamePanel/CloseBtn").on(s.EventType.TOUCH_END,this.OnClickCloseMoreGameBtn,this),this.noticePanel=this.allNodes.NoticePanel,this.AddBtnListener("NoticePanel/CloseBtn",this,this.OnClickNoticePanelCloseBtn),this.TiktoknavPanel=this.allNodes.TiktokNavPanel,this.AddBtnListener("TiktokNavPanel/CloseBtn",this,this.OnClickTiktokNavPanelCloseBtn),this.AddBtnListener("TiktokNavPanel/BGBottom",this,this.OnClickTiktokNavPanelBGBottom),T.platform==_.TikTok&&(this.allNodes.TiktokBtn.active=!0))},i.OnClickNoticePanelCloseBtn=function(){m.OnHideNotice(),this.ShowNoticePanel(!1)},i.ShowNoticePanel=function(n){this.noticePanel&&(this.noticePanel.active=n)},i.OnClickMoreGameBtn=function(){this.ShowMoreGamePanel(!0)},i.OnClickCloseMoreGameBtn=function(){this.ShowMoreGamePanel(!1)},i.ShowMoreGamePanel=function(n){this.moreGamePanel&&(this.moreGamePanel.active=n,m.ShowMoreGamePanel(n))},i.OnClickAddDeskBtn=function(){u.getInstance().addDesktop((function(n){console.log("add result:",n),n?k.Instance.ShowTip("添加成功!"):k.Instance.ShowTip("已存在桌面图标!")}))},i.OnClickTiktokBtn=function(){this.TiktoknavPanel.active=!0},i.OnClickTiktokNavPanelCloseBtn=function(){this.TiktoknavPanel.active=!1},i.OnClickTiktokNavPanelBGBottom=function(){u.getInstance().navigateToScene((function(){}),(function(){}))},i.OnClickPrivacyBtn=function(){var n=this.node.getChildByPath("privacy_Landscape");n&&(n.active=!0)},i.ShowChooseModePanel=function(){var n=this;this.backBtn.active=!1,this.chooseModeUINode.getComponent(a).color=c.WHITE,l(this.survivalModeNode).to(this.tweenPanelDur,{position:this.survivalModeNodeOutPos},{easing:d.backInOut}).call((function(){l(n.chooseModeUINode).to(n.tweenPanelDur,{position:n.originChooseModePos},{easing:d.backInOut}).start()})).start()},i.ShowSurvivalModePanel=function(){var n=this;this.backBtn.active=!0,this.survivalModeNode.getComponent(a).color=c.WHITE,l(this.chooseModeUINode).to(this.tweenPanelDur,{position:this.chooseModeOutPos},{easing:d.backInOut}).call((function(){l(n.survivalModeNode).to(n.tweenPanelDur,{position:n.originSurviveModePos},{easing:d.backInOut}).start()})).start()},i.CheckShowNotice=function(){if(t.canCheck){var n=localStorage.getItem(t.noticeKey);p.isEmptyStr(n)?(this.ShowNoticePanel(!0),t.canCheck=!1,localStorage.setItem(t.noticeKey,"1")):"1"==n?(this.ShowNoticePanel(!0),t.canCheck=!1,localStorage.setItem(t.noticeKey,"2")):t.canCheck=!1}},i.OnShow=function(){var n=this,e=this.node.getChildByPath("privacy_Landscape");if(e){var i=localStorage.getItem("akPrivacy");p.isEmptyStr(i)?e.active=!0:(e.active=!1,this.CheckSignIn())}this.CheckCanSpin(),this.scheduleOnce((function(){n.originChooseModePos=new r(n.chooseModeUINode.position.x,n.chooseModeUINode.position.y,0),n.originSurviveModePos=new r(n.survivalModeNode.position.x,n.survivalModeNode.position.y,0),n.backBtn=n.allNodes.BackBtn,n.survivalModeNodeOutPos=new r(n.survivalModeNode.position.x+n.outOffsetX,n.survivalModeNode.position.y,0),n.chooseModeOutPos=new r(n.chooseModeUINode.position.x+n.outOffsetX,n.chooseModeUINode.position.y,0),t.isFirstTimeHomePanel?(n.ShowChooseModePanel(),u.getInstance().reportAnalytics("homepage",{})):n.ShowSurvivalModePanel()}),.1);var o=v.Instance.GetCurrentSelectSkinType();this.OnRefreshSkin(o),m.ShowHomePanel(),this.CheckShowNotice()},i.CheckCanSpin=function(){if(this.allNodes["SpinBtn/RedPoint"]){var n=v.Instance.GetCanSpin();this.allNodes["SpinBtn/RedPoint"].active=!!n}},i.CheckSignIn=function(){this.scheduleOnce((function(){var n=v.Instance.IsSignInToday(),e=v.Instance.GetSignedInDayNum();!n&&e<7&&S.Instance.ShowUI(g.homeABName,g.signInViewAssetPath,E,B.Pop,!0)}),.2)},i.InitSurvivalPanel=function(){this.uiSurvivalModePanel=this.allNodes.UISurvivalMode.addComponent(L),this.uiSurvivalModePanel.InitUI()},i.InitHomeFriendAni=function(){var n=this.allNodes["PlayerCharacter/Character"].getComponent(h.Skeleton);null==this.friendAni&&(this.friendAni=this.allNodes["PlayerCharacter/Character"].addComponent(N)),this.friendAni.InitSkeleton(n),this.friendAni.PlayDanceAni()},i.OnRefreshSkin=function(n){this.friendAni.ChangeSkin(O.skinType[n])},i.OnRefreshCoinNum=function(){this.coinLabel.string=""+v.Instance.GetCoinNum(),this.uiSurvivalModePanel.RefreshUI()},i.OnRefreshDiamondNum=function(){this.diamondLabel.string=""+v.Instance.GetDiamondNum(),this.uiSurvivalModePanel.RefreshUI()},i.OnFlyCoin=function(n,e){var t=this;C.Instance.FlyEffect(n,this.allNodes["CoinUI/CoinImg"].worldPosition,e,!0,(function(){t.OnRefreshCoinNum()}))},i.OnFlyDiamond=function(n,e){var t=this;C.Instance.FlyEffect(n,this.allNodes["RubyUI/Ruby"].worldPosition,e,!1,(function(){t.OnRefreshDiamondNum()}))},i.OnClickDiamondBtn=function(){var n=this;I.Instance.PlaySounds(g.soundBtnClick);var e=S.Instance.ShowUI(g.commonABName,g.rewardViewAssetPath,A,B.Pop,!0,"钻石","关闭",!1,g.rewardGetDiamondValue,"领取");e.SetAllBtnListener((function(){u.getInstance().reportAnalytics("reward_get_diamond",{}),m.ShowRewardVideo((function(){v.Instance.AddDiamondNum(g.rewardGetDiamondValue),C.Instance.FlyEffect(e.GetDiamondWorldPos(),n.allNodes["RubyUI/Ruby"].worldPosition,g.rewardGetDiamondValue,!1,(function(){n.OnRefreshDiamondNum()}))}))}),(function(){S.Instance.HideUI(g.rewardViewAssetPath,!0),I.Instance.PlaySounds(g.soundBtnClick)}))},i.OnClickCoinBtn=function(){var n=this;I.Instance.PlaySounds(g.soundBtnClick);var e=S.Instance.ShowUI(g.commonABName,g.rewardViewAssetPath,A,B.Pop,!0,"金币","关闭",!0,g.rewardGetCoinValue,"领取");e.SetAllBtnListener((function(){u.getInstance().reportAnalytics("reward_get_coin",{}),m.ShowRewardVideo((function(){v.Instance.AddCoinNum(g.rewardGetCoinValue),C.Instance.FlyEffect(e.GetDiamondWorldPos(),n.allNodes["CoinUI/CoinImg"].worldPosition,g.rewardGetCoinValue,!0,(function(){n.OnRefreshCoinNum()}))}))}),(function(){S.Instance.HideUI(g.rewardViewAssetPath,!0),I.Instance.PlaySounds(g.soundBtnClick)}))},i.OnClickBackBtn=function(){I.Instance.PlaySounds(g.soundBtnClick),this.ShowChooseModePanel(),m.OnHomePageClickBack()},i.OnClickSetting=function(){I.Instance.PlaySounds(g.soundBtnClick),S.Instance.ShowUI(g.commonABName,g.settingPanelAssetPath,U,B.Pop,!1),m.OnClickHomeSetting(),T.platform!=_.VIVO&&T.platform!=_.OPPO||u.getInstance().playNewAd(D.策略其他点击)},i.OnClickSpinBtn=function(){I.Instance.PlaySounds(g.soundBtnClick),S.Instance.ShowUI(g.homeABName,g.spinViewAssetPath,H,B.Pop,!0),T.platform!=_.VIVO&&T.platform!=_.OPPO||u.getInstance().playNewAd(D.策略其他点击)},i.OnClickSignInBtn=function(){I.Instance.PlaySounds(g.soundBtnClick),S.Instance.ShowUI(g.homeABName,g.signInViewAssetPath,E,B.Pop,!0),m.OnClickSignInBtn(),T.platform!=_.VIVO&&T.platform!=_.OPPO||u.getInstance().playNewAd(D.策略其他点击)},i.OnClickSkinBtn=function(){I.Instance.PlaySounds(g.soundBtnClick),S.Instance.ShowUI(g.homeABName,g.skinViewAssetPath,R,B.Pop,!0),T.platform!=_.VIVO&&T.platform!=_.OPPO||u.getInstance().playNewAd(D.策略其他点击)},i.OnClickSuvivorItem=function(){I.Instance.PlaySounds(g.soundBtnClick),this.ShowSurvivalModePanel()},i.OnClickEnemyModeBtn=function(){S.Instance.HideUI(g.homePanelAssetPath,!1,!0),y.Instance.PlayGame(M.HostileMode),T.platform!=_.VIVO&&T.platform!=_.OPPO||u.getInstance().playNewAd(D.策略特异性点击)},i.OnClickBattleModeBtn=function(){y.Instance.PlayGame(M.RescueMode)},i.ClickModeItem=function(){S.Instance.HideUI(g.homePanelAssetPath,!1,!0),y.Instance.PlayGame(M.SurvivorMode,w.HealYourTeammates)},i.Show=function(e){n.prototype.Show.call(this,e),f.Instance.TriggerEvent(g.Event_UIHome_RefreshCoinNum),f.Instance.TriggerEvent(g.Event_UIHome_RefreshDiamondNum),I.Instance.PlayMusicBg(g.musicHomeBg)},t}(P)).isFirstTimeHomePanel=!0,G.noticeKey="showNoticeHostile1",G.canCheck=!0,V=G))||V);t._RF.pop()}}}));

System.register("chunks:///_virtual/HostileCamera.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,o,e,s,a,l,h;return{setters:[function(t){i=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator,s=t.v3,a=t.view,l=t.Vec3,h=t.Component}],execute:function(){var n;o._RF.push({},"d799fiKzuBDGrU4kQ6bKeWk","HostileCamera",void 0);var r=e.ccclass;e.property,t("HostileCamera",r("HostileCamera")(n=function(t){function o(){for(var i,o=arguments.length,e=new Array(o),s=0;s<o;s++)e[s]=arguments[s];return(i=t.call.apply(t,[this].concat(e))||this).followTarget=null,i.followOffset=new l(-43.393,-90.266,0),i.camPos=new l,i.camLepDep=.3,i.mapWidth=8e3,i.camMinWidth=-1346,i.camMaxWidth=2625,i.camMinHeight=-1621,i.camMaxHeight=2346,i.isSetOutArea=!1,i}i(o,t);var e=o.prototype;return e.InitGameCam=function(t){this.SetOutArea(),this.followTarget=t;var i=this.followTarget.worldPosition.x,o=this.followTarget.worldPosition.y,e=s(i+this.followOffset.x,o+this.followOffset.y,0);this.node.setWorldPosition(e)},e.SetOutArea=function(){if(!this.isSetOutArea){this.isSetOutArea=!0;var t=a.getVisibleSize().width/2,i=a.getVisibleSize().height/2;this.camMinWidth+=t,this.camMaxWidth-=t,this.camMinHeight+=i,this.camMaxHeight-=i}},e.lateUpdate=function(t){this.FollowTarget()},e.FollowTarget=function(){if(this.followTarget){var t,i,o,e,a=null==(t=this.followTarget)||null==(i=t.worldPosition)?void 0:i.x,l=null==(o=this.followTarget)||null==(e=o.worldPosition)?void 0:e.y;this.camPos.lerp(s(a+this.followOffset.x,l+this.followOffset.y,0),this.camLepDep),this.camPos.x<this.camMinWidth&&(this.camPos.x=this.camMinWidth),this.camPos.x>this.camMaxWidth&&(this.camPos.x=this.camMaxWidth),this.camPos.y<this.camMinHeight&&(this.camPos.y=this.camMinHeight),this.camPos.y>this.camMaxHeight&&(this.camPos.y=this.camMaxHeight),this.node.setWorldPosition(this.camPos)}},e.StopFollow=function(){this.followTarget=null},o}(h))||n);o._RF.pop()}}}));

System.register("chunks:///_virtual/HostileLoseView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundManager.ts","./EventCenter.ts","./UIBase.ts","./UIManager.ts","./Constants.ts"],(function(n){"use strict";var t,e,s,i,o,c,a,r;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,s=n._decorator},function(n){i=n.SoundManager},function(n){o=n.EventCenter},function(n){c=n.UIBase},function(n){a=n.UIManager},function(n){r=n.Constants}],execute:function(){var u;e._RF.push({},"bb3dd0jjM1N2bDfctimcjLM","HostileLoseView",void 0);var l=s.ccclass;s.property,n("HostileLoseView",l("HostileLoseView")(u=function(n){function e(){return n.apply(this,arguments)||this}t(e,n);var s=e.prototype;return s.onLoad=function(){n.prototype.onLoad.call(this),this.FindChild()},s.FindChild=function(){this.AddBtnListener("HomeBtn",this,this.OnClickContinueBtn),this.AddBtnListener("BackHomeBtn",this,this.OnBackHomeBtn)},s.OnShow=function(){},s.OnClickContinueBtn=function(){i.Instance.PlaySounds(r.soundBtnClick),a.Instance.HideUI(r.hostileLoseViewAssetPath,!1,!0),o.Instance.TriggerEvent(r.Event_HostileGame_Rematch)},s.OnBackHomeBtn=function(){i.Instance.PlaySounds(r.soundBtnClick),a.Instance.HideUI(r.hostileLoseViewAssetPath,!1,!0),o.Instance.TriggerEvent(r.Event_Game_Exit)},e}(c))||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/HostileMode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AssetManager.ts","./SoundManager.ts","./UIManager.ts","./GameManager.ts","./HomeView.ts","./LoadingView.ts","./Constants.ts","./GameModeBase.ts","./HostileModeControl.ts","./HostileModeResources.ts"],(function(t){"use strict";var e,n,o,a,s,i,c,r,u,l,d,m,f,h;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,a=t.instantiate},function(t){s=t.AssetManager},function(t){i=t.SoundManager},function(t){c=t.UIManager},function(t){r=t.GameManager},function(t){u=t.HomeView},function(t){l=t.LoadingView},function(t){d=t.Constants},function(t){m=t.GameModeBase},function(t){f=t.HostileModeControl},function(t){h=t.HostileModeResources}],execute:function(){var g;n._RF.push({},"af510YGbLFBSbKRM94Vd5F0","HostileMode",void 0);var M=o.ccclass;o.property,t("HostileMode",M("HostileMode")(g=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))||this).mapPath="Map/Map",e.abstractResourceControl=void 0,e.friendData=null,e}e(n,t);var o=n.prototype;return o.InitGame=function(){this.friendData=arguments.length<=0?void 0:arguments[0],this.abstractResourceControl=new h,this.abstractResourceControl.PreLoadAssetBundle(null,this.LoadGameAssetComplete.bind(this))},o.LoadProgress=function(t,e){c.Instance.ShowUI(d.loadingABName,d.loadingAssetPath,l).UpdateProgress(t/e)},o.StartGame=function(){},o.GameSuccess=function(){},o.GameFail=function(){},o.ExitGame=function(){setTimeout((function(){c.Instance.ShowUI(d.loadingABName,d.loadingAssetPath,l).SetLoadingInterver(3,(function(){c.Instance.ShowUI(d.homeABName,d.homePanelAssetPath,u)}))}),.1)},o.LoadGameAssetComplete=function(){var t=s.Instance.GetAssets(d.hostileABName,this.mapPath),e=a(t);r.Instance.GetGameRoot().addChild(e),e.addComponent(f).InitGame(this,this.friendData),i.Instance.PlayMusicBg(d.musicGameBg),c.Instance.HideUI(d.matchViewAssetPath,!1,!0)},n}(m))||g);n._RF.pop()}}}));

System.register("chunks:///_virtual/HostileModeControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AdManager.ts","./UserDataManager.ts","./AdBridge.ts","./AssetManager.ts","./SoundManager.ts","./EventCenter.ts","./UIManager.ts","./Vibrate.ts","./GameManager.ts","./HostileLoseView.ts","./ReviveView.ts","./TrySkinView.ts","./VictoryView.ts","./Constants.ts","./FriendManager.ts","./HostileModeView.ts","./OutItemControl.ts","./HostilePlayer.ts","./PortalControl.ts","./AdsIdConfig.ts"],(function(e){"use strict";var t,n,i,a,s,o,r,h,l,d,m,c,u,v,I,G,y,g,f,p,w,C,P,O,E,S,A,M;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e._decorator,a=e.instantiate,s=e.Component},function(e){o=e.default},function(e){r=e.UserDataManager},function(e){h=e.AdBridge},function(e){l=e.AssetManager},function(e){d=e.SoundManager},function(e){m=e.EventCenter},function(e){c=e.UIManager,u=e.UITpye},function(e){v=e.Vibrate},function(e){I=e.GameManager},function(e){G=e.HostileLoseView},function(e){y=e.ReviveView},function(e){g=e.TrySkinView},function(e){f=e.VictoryView},function(e){p=e.Constants},function(e){w=e.FriendManager},function(e){C=e.HostileModeView},function(e){P=e.OutItemControl},function(e){O=e.HostilePlayer},function(e){E=e.PortalControl},function(e){S=e.default,A=e.EPlatform,M=e.AdType}],execute:function(){var N;n._RF.push({},"8272bn/GBxFR7ZUmhOaesA3","HostileModeControl",void 0);var _=i.ccclass;i.property,e("HostileModeControl",_("HostileModeControl")(N=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this).playerPath="Character/Player",t.hostileModeView=void 0,t.joyStick=void 0,t.hostilePlayer=void 0,t.friendManager=void 0,t.gameModeBase=void 0,t.portalControl=void 0,t.isGameOver=!1,t.isShowResult=!1,t.gameTime=50,t.remainGameTime=0,t.shadowNode=void 0,t.tempShadow=void 0,t.userNameNode=void 0,t.tempLabel=void 0,t}t(n,e);var i=n.prototype;return i.onEnable=function(){m.Instance.AddEventListener(p.Event_Game_Start,this.OnGameStart,this),m.Instance.AddEventListener(p.Event_Game_Victory,this.OnGameVictory,this),m.Instance.AddEventListener(p.Event_Game_Fail,this.OnGameFail,this),m.Instance.AddEventListener(p.Event_Player_Revive,this.OnPlayerRevive,this),m.Instance.AddEventListener(p.Event_HostileGame_FriendOutGame,this.OnGameFriendOutGame,this),m.Instance.AddEventListener(p.Event_Game_Exit,this.OnGameExit,this),m.Instance.AddEventListener(p.Event_HostileGame_Rematch,this.OnGameRematch,this)},i.onDisable=function(){m.Instance.RemoveEventListener(p.Event_Game_Start,this.OnGameStart,this),m.Instance.RemoveEventListener(p.Event_Game_Victory,this.OnGameVictory,this),m.Instance.RemoveEventListener(p.Event_Game_Fail,this.OnGameFail,this),m.Instance.RemoveEventListener(p.Event_Player_Revive,this.OnPlayerRevive,this),m.Instance.RemoveEventListener(p.Event_HostileGame_FriendOutGame,this.OnGameFriendOutGame,this),m.Instance.RemoveEventListener(p.Event_Game_Exit,this.OnGameExit,this),m.Instance.RemoveEventListener(p.Event_HostileGame_Rematch,this.OnGameRematch,this)},i.OnGameRematch=function(){this.ClearGame(),I.Instance.InitHostileMode()},i.OnGameFriendOutGame=function(e){this.isGameOver||"自己"==e&&(v.VibrateLong(),c.Instance.ShowUI(p.gameUIABName,p.reviveTimeAssetPath,y,u.Normal,!0))},i.OnPlayerRevive=function(){this.friendManager.GetPlayer().OnPlayerRevive()},i.OnGameVictory=function(){this.isShowResult||(this.isShowResult=!0,d.Instance.StopStep(),d.Instance.StopMusicBg(),this.scheduleOnce((function(){c.Instance.ShowUI(p.gameUIABName,p.victoryViewAssetPath,f,u.Normal,!0),h.HostileModeVictory(),o.getInstance().reportAnalytics("hostilemodevictory",null),S.platform!=A.VIVO&&S.platform!=A.OPPO||(o.getInstance().playAbnormalAD()?o.getInstance().playNewAd(M.策略过关非屏蔽地区):o.getInstance().playNewAd(M.策略过关屏蔽地区))}),3))},i.OnGameFail=function(){this.isShowResult||(this.isShowResult=!0,d.Instance.StopMusicBg(),c.Instance.ShowUI(p.gameUIABName,p.hostileLoseViewAssetPath,G,u.Normal,!0),d.Instance.PlaySounds(p.soundLose),o.getInstance().reportAnalytics("hostilemodefail",null),h.HostileModeFail(),S.platform!=A.VIVO&&S.platform!=A.OPPO||(o.getInstance().playAbnormalAD()?o.getInstance().playNewAd(M.策略过关非屏蔽地区):o.getInstance().playNewAd(M.策略过关屏蔽地区)))},i.OnGameExit=function(){this.ClearGame(),this.gameModeBase.ExitGame(),h.HostileModeExit()},i.ClearGame=function(){this.hostileModeView.node.active=!1,this.node.active=!1,c.Instance.HideUI(p.hostileModeViewPath,!1,!0),I.Instance.GetHostileCamera().StopFollow(),this.node.destroy(),I.Instance.RemoveGameCamera()},i.InitGame=function(e,t){this.gameModeBase=e,this.hostileModeView=c.Instance.ShowUI(p.gameUIABName,p.hostileModeViewPath,C),this.joyStick=this.hostileModeView.GetJoyStick(),this.InitPlayer(this.joyStick,this.GetShadowUnuseNode()),this.InitGameCamera(this.hostilePlayer.node),this.InitAIFriend(t),this.friendManager.AddPlayer(this.hostilePlayer),this.InitOutItem(),this.InitPortal(),o.getInstance().reportAnalytics("intohostilemode",null),c.Instance.ShowUI(p.gameUIABName,p.getSkinViewAssetPath,g,u.Pop,!0,!0),h.closeBannerNative()},i.OnGameStart=function(){this.StartCountTime(),h.OnHostileModeGameStart()},i.StartCountTime=function(){this.remainGameTime=this.gameTime,this.schedule(this.RemainCount,1,this.gameTime)},i.RemainCount=function(){this.remainGameTime--,m.Instance.TriggerEvent(p.Event_Game_CountTime,this.remainGameTime,10),0==this.remainGameTime&&(console.log("游戏结束"),this.isGameOver=!0,m.Instance.TriggerEvent(p.Event_Game_TimeUp),m.Instance.TriggerEvent(p.Event_Game_Victory))},i.InitOutItem=function(){var e=this.node.addComponent(P),t=this.node.getChildByPath("OutItemNode"),n=t.getChildByPath("OutItem");e.InitOutItem(n,t)},i.InitPortal=function(){this.portalControl=this.node.addComponent(E),this.portalControl.SetRandomPortal()},i.InitPlayer=function(e,t){var n=l.Instance.GetAssets(p.hostileABName,this.playerPath),i=a(n);this.node.getChildByPath("FriendNode").addChild(i),this.hostilePlayer=i.addComponent(O);var s=r.Instance.GetCurrentSelectSkinType();this.hostilePlayer.InitPlayer(e,t,s)},i.InitAIFriend=function(e){this.friendManager=this.node.addComponent(w),this.friendManager.InitFriend(e,this)},i.InitGameCamera=function(e){I.Instance.GetHostileCamera().InitGameCam(e)},i.GetShadowUnuseNode=function(){null!=this.shadowNode&&null!=this.shadowNode||(this.shadowNode=this.node.getChildByPath("ShadowNode"),this.tempShadow=this.shadowNode.getChildByPath("Shadow"));var e=a(this.tempShadow);return this.shadowNode.addChild(e),e},i.GetUnuseUserNameLabel=function(){null!=this.userNameNode&&null!=this.userNameNode||(this.userNameNode=this.node.getChildByPath("UserNameNode"),this.tempLabel=this.userNameNode.getChildByPath("Label"));var e=a(this.tempLabel);return this.userNameNode.addChild(e),e},n}(s))||N);n._RF.pop()}}}));

System.register("chunks:///_virtual/HostileModeResources.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AbstractResourceControl.ts"],(function(e){"use strict";var o,t,s,u,n,r;return{setters:[function(e){o=e.inheritsLoose},function(e){t=e.cclegacy,s=e._decorator,u=e.Prefab,n=e.AudioClip},function(e){r=e.AbstractResourceControl}],execute:function(){var i;t._RF.push({},"20c86MVOmpNC7VV7HmMIg/x","HostileModeResources",void 0);var a=s.ccclass;s.property,e("HostileModeResources",a("HostileModeResources")(i=function(e){function t(){for(var o,t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];return(o=e.call.apply(e,[this].concat(s))||this).resPkg={GameUI:[{assetType:u,urls:["Prefabs/HostileModeView","Prefabs/VictoryView","Prefabs/HostileLoseView","Prefabs/ReviveTime","Prefabs/BoostView","Prefabs/GetSkinView"]}],Audio:[{assetType:n,urls:["Music/GameBG","Sound/WarningTime","Sound/Dash","Sound/AttackCut","Sound/AttackStab","Sound/HitSausageEffect","Sound/Speak1","Sound/Speak2","Sound/Speak3","Sound/Help1","Sound/Help2","Sound/Help3","Sound/Punch1","Sound/Punch2","Sound/Punch3","Sound/Punch4","Sound/Win","Sound/Lose","Sound/Behit1","Sound/Behit2","Sound/Behit3","Sound/Behit4","Sound/Step"]}],HostileAsset:[{assetType:u,urls:["Map/Map","Character/Friend","Character/Player"]}]},o}return o(t,e),t}(r))||i);t._RF.pop()}}}));

System.register("chunks:///_virtual/HostileModeView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AdBridge.ts","./SoundManager.ts","./EventCenter.ts","./JoyStick.ts","./UIBase.ts","./UIManager.ts","./Vibrate.ts","./SettingView.ts","./Constants.ts","./GameTip.ts"],(function(e){"use strict";var t,n,i,s,o,a,l,r,m,h,c,u,d,v,f,p,G,L;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e._decorator,s=e.Label,o=e.Vec3,a=e.tween,l=e.Color},function(e){r=e.AdBridge},function(e){m=e.SoundManager},function(e){h=e.EventCenter},function(e){c=e.JoyStick},function(e){u=e.UIBase},function(e){d=e.UIManager,v=e.UITpye},function(e){f=e.Vibrate},function(e){p=e.SettingView},function(e){G=e.Constants},function(e){L=e.GameTip}],execute:function(){var N;n._RF.push({},"09355QhVOBJVo/yGQUP5Ok+","HostileModeView",void 0);var R=i.ccclass;i.property,e("HostileModeView",R("HostileModeView")(N=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))||this).timeLable=void 0,t.remainNumLable=void 0,t.killNumLable=void 0,t.gameTip=void 0,t.timeUpNode=void 0,t.rollBtnNode=void 0,t.failDelayShowTime=2,t.joyStick=void 0,t}t(n,e);var i=n.prototype;return i.onLoad=function(){e.prototype.onLoad.call(this),this.FindChild()},i.onEnable=function(){h.Instance.AddEventListener(G.Event_Game_CountTime,this.OnGameCountTime,this),h.Instance.AddEventListener(G.Event_HostileGame_UIRefreshRemainNum,this.OnRefreshRemainNum,this),h.Instance.AddEventListener(G.Event_HostileGame_FriendOutGame,this.OnFriendOutGame,this),h.Instance.AddEventListener(G.Event_Game_TimeUp,this.OnGameTimeUp,this),h.Instance.AddEventListener(G.Event_HostilePlayer_GetRollSkill,this.OnGetRollSkill,this),h.Instance.AddEventListener(G.Event_HostilePlayer_UIRefreshKillNum,this.OnUIRefreshKillNum,this)},i.onDisable=function(){this.RemoveListener()},i.onDestroy=function(){this.RemoveListener()},i.RemoveListener=function(){h.Instance.RemoveEventListener(G.Event_Game_CountTime,this.OnGameCountTime,this),h.Instance.RemoveEventListener(G.Event_HostileGame_UIRefreshRemainNum,this.OnRefreshRemainNum,this),h.Instance.RemoveEventListener(G.Event_HostileGame_FriendOutGame,this.OnFriendOutGame,this),h.Instance.RemoveEventListener(G.Event_Game_TimeUp,this.OnGameTimeUp,this),h.Instance.RemoveEventListener(G.Event_HostilePlayer_GetRollSkill,this.OnGetRollSkill,this),h.Instance.RemoveEventListener(G.Event_HostilePlayer_UIRefreshKillNum,this.OnUIRefreshKillNum,this)},i.FindChild=function(){this.rollBtnNode=this.allNodes.FGunBtn,this.rollBtnNode.active=!1,this.AddBtnListener("SettingBtn",this,this.OnClickSettingBtn),this.AddBtnListener("AttackBtn",this,this.ClickAttackBtnListener),this.AddBtnListener("FGunBtn",this,this.ClickFGunBtnListener),this.timeLable=this.allNodes.Time.getComponent(s),this.remainNumLable=this.allNodes.RemainNum.getComponent(s),this.killNumLable=this.allNodes.KillNumLabel.getComponent(s);var e=this.allNodes.GameTip,t=this.allNodes["GameTip/Label"].getComponent(s);this.gameTip=new L(e,t),this.timeUpNode=this.allNodes.TimeUp,this.RefreshKillNum(0)},i.OnUIRefreshKillNum=function(e){this.RefreshKillNum(e)},i.OnGetRollSkill=function(){this.rollBtnNode.active=!0},i.OnGameTimeUp=function(){this.timeUpNode.scale=o.ZERO,this.timeUpNode.active=!0,a(this.timeUpNode).to(.3,{scale:new o(2,2,2)}).to(.1,{scale:o.ONE}).start()},i.OnFriendOutGame=function(e){this.gameTip.ShowGameTip(e+" 被淘汰!")},i.OnGameCountTime=function(e,t){var n,i=e<t;n=e<=0?"00:00":this.TimeFormat(e),this.RefreshGameTimeCountDown(n,i)},i.OnRefreshRemainNum=function(e,t){t<1&&(t=1),this.remainNumLable.string="剩余数量: "+t+"/"+e},i.RefreshGameTimeCountDown=function(e,t){void 0===t&&(t=!1),this.timeLable&&(this.timeLable.string=e,t&&(m.Instance.PlaySounds(G.soundWarnTime),f.VibrateShort(),this.timeLable.color=l.RED))},i.TimeFormat=function(e){return"0".repeat(2-String(Math.floor(e/60)).length)+Math.floor(e/60)+":"+"0".repeat(2-String(Math.floor(e%60)).length)+Math.floor(e%60)},i.OnClickSettingBtn=function(){m.Instance.PlaySounds(G.soundBtnClick),d.Instance.ShowUI(G.commonABName,G.settingPanelAssetPath,p,v.Pop,!0,!0),r.OnGameClickSetting()},i.RefreshKillNum=function(e){this.killNumLable&&(this.killNumLable.string=""+e)},i.GetJoyStick=function(){var e="JoyStickView/JoyStick",t=this.node.getChildByPath(e);return this.joyStick=t.getComponent(c),null!=this.joyStick&&null!=this.joyStick||(this.joyStick=this.allNodes[e].addComponent(c)),this.joyStick},i.ClickAttackBtnListener=function(){h.Instance.TriggerEvent(G.Event_HostileGame_PlayerAttack)},i.ClickFGunBtnListener=function(){h.Instance.TriggerEvent(G.Event_HostileGame_FGun)},n}(u))||N);n._RF.pop()}}}));

System.register("chunks:///_virtual/HostilePlayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventCenter.ts","./Constants.ts","./FollowItem.ts","./CharacterBaseInfo.ts","./CharacterBase.ts","./PlayInput.ts"],(function(t){"use strict";var e,n,i,a,r,s,o,c,l,h;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator},function(t){a=t.EventCenter},function(t){r=t.Constants},function(t){s=t.FollowItem},function(t){o=t.CharacterInfoHelper,c=t.SkinType},function(t){l=t.CharacterBase},function(t){h=t.PlayInput}],execute:function(){var u;n._RF.push({},"812eaRE91tCOqrV/9//V6m0","HostilePlayer",void 0);var y=i.ccclass;i.property,t("HostilePlayer",y("HostilePlayer")(u=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var i=n.prototype;return i.onEnable=function(){this.AddListener()},i.onDisable=function(){this.RemoveListener()},i.AddListener=function(){a.Instance.AddEventListener(r.Event_HostileGame_PlayerAttack,this.PlayerClickAttack,this),a.Instance.AddEventListener(r.Event_HostileGame_FGun,this.PlayerClickRoll,this),a.Instance.AddEventListener(r.Event_Player_TrySkin,this.OnPlayerTrySkin,this)},i.RemoveListener=function(){a.Instance.RemoveEventListener(r.Event_HostileGame_PlayerAttack,this.PlayerClickAttack,this),a.Instance.RemoveEventListener(r.Event_HostileGame_FGun,this.PlayerClickRoll,this),a.Instance.RemoveEventListener(r.Event_Player_TrySkin,this.OnPlayerTrySkin,this)},i.OnPlayerTrySkin=function(){if(this.characterAniControl){var t=o.skinType[c.SpiderMan];this.characterAniControl.ChangeSkin(t)}},i.InitPlayer=function(t,e,n){this.FindChild(),this.InitCharacter(t,n),this.AddShadow(e)},i.InitCharacter=function(t,e){var n=new h(t);this.InitCharacterBase(n,!1,e)},i.AddShadow=function(t){this.node.addComponent(s).SetNeedFollowNode(t)},i.PlayerClickAttack=function(){this.characterStateControl.PlayAttackState()},i.PlayerClickRoll=function(){this.characterStateControl.PlayRollState()},n}(l))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/HuaWeiADApi.ts",["cc"],(function(n){"use strict";var t,e,i,o,a,s,d,r,h,l,c;return{setters:[function(n){t=n.cclegacy,e=n._decorator,i=n.director,o=n.assetManager,a=n.Node,s=n.UITransform,d=n.Sprite,r=n.SpriteFrame,h=n.Widget,l=n.view,c=n.Label}],execute:function(){var g,v;t._RF.push({},"920b1wsYIJEyqBv9nynPv2v","HuaWeiADApi",void 0);var I=e.ccclass;e.property,n("default",I(((v=function(){function n(){this.PassiveVideoData=void 0,this.AdCustomBannerData=void 0,this.AdCustomTypeData=void 0,this.ADNewNativeAdData=void 0,this.ADNewNativeTypeData=void 0,this.ADNewConfig=void 0,this.videoType="",this.arg=void 0,this.SystemBannerData=null,this.SystemIntersData=null,this.VideoData=null,this.NativeBannerData=null,this.NativeIntersData=null,this.NativeIconData=null,this.JGGBoxData=null,this.BlockData=null,this.AdCustomIntersData=null,this.qg=window.qg,this.AdGroup=0,this.systemBannerAd=null,this.loadSucc_SystemBanner=!1,this.isShow_SystemBanner=!1,this.NUM_BannerUpdateTime=30,this.interval_updateBanner=null,this.systemIntersAd=null,this.loadSucc_SystemInters=!1,this.rewardedVideoAd=null,this.loadSucc_Video=!1,this.callback_Video=null,this.nativeAd=null,this.nativeBannerInfo=null,this.loadSucc_NativeBanner=!1,this.isShow_NativeBanner=!1,this.node_nativeBanner=null,this.nativeImageAd=null,this.nativeImageInfo=null,this.loadSucc_NativeImage=!1,this.isShow_NativeImage=!1,this.callback_Native=null,this.nativeIconAd=null,this.nativeIconInfo=null,this.loadSucc_NativeIcon=!1,this.isShow_NativeIcon=!1,this.systemInfo=null,this.nativeRes=null,this.loadNativeRes=!1,this.clipIndexList=[],this.videoPath=null}var t=n.prototype;return t.onInit=function(n){null!==this.qg&&void 0!==this.qg?(this.systemInfo=this.qg.getSystemInfoSync(),console.log("MINIGAME ===> 设备信息.systemInfo===>",this.systemInfo),this.createAd()):this.qg=null,n&&n(),console.log("MINIGAME ===> 华为 ===================> onInit ok")},t.createAd=function(){this.SystemBannerData.enabled&&""!=this.SystemBannerData.vendor_position&&this.createSystemBanner(),this.SystemIntersData&&this.SystemIntersData.enabled&&""!=this.SystemIntersData.vendor_position&&this.createInsertAd(),this.VideoData.enabled&&""!=this.VideoData.vendor_position&&this.createVideo(),this.loadNativeBannerRes(),this.NativeBannerData&&this.NativeBannerData.enabled&&""!=this.NativeBannerData.vendor_position&&this.createNativeBanner(),this.NativeIntersData&&this.NativeIntersData.enabled&&""!=this.NativeIntersData.vendor_position&&this.createNativeImage()},t.setGroup=function(n){this.AdGroup=n},t.loadNativeBannerRes=function(){console.log("MINIGAME ===> ","--loadNativeBannerRes--"),this.nativeRes={NativeBannerBg:null,NativeBannerButton:null,NativeClose:null,NativeAdTip:null}},t.onLogin=function(t){console.log("Sign-in"),null!==this.qg&&void 0!==this.qg&&this.qg.gameLoginWithReal({forceLogin:1,appid:n.appid,success:function(n){console.log(" game login with real success:"+JSON.stringify(n)),i.resume(),t(1)},fail:function(n,e){console.log("game login with real fail:"+n+", code:"+e),7004!=e&&2012!=e||(console.log("玩家取消登录，返回游戏界面让玩家重新登录。"),t(2)),7021==e&&(console.log("The player has canceled identity verification. Forbid the player from entering the game."),t(3))}})},t.onShare=function(n){},t.recordClipRecorder=function(n){},t.pauseGameVideo=function(){},t.resumeGameVideo=function(){},t.ShareVideo=function(n,t,e){},t.createSystemBanner=function(){var n=this;if(null!==this.qg&&void 0!==this.qg){console.log("MINIGAME ===> 华为平台 创建Banner广告",this.SystemBannerData.vendor_position),console.log(this.systemInfo.screenHeight,this.systemInfo.screenWidth);var t=this.qg.getSystemInfoSync();console.log("on getSystemInfoSync: success ="+JSON.stringify(t));var e=t.safeArea.height;this.systemBannerAd=this.qg.createBannerAd({adUnitId:this.SystemBannerData.vendor_position,style:{top:e-57,left:0,height:57,width:360}}),this.loadSucc_SystemBanner=!1,this.systemBannerAd.onError((function(n){console.log("MINIGAME ===>横幅广告Banner ",JSON.stringify(n))})),this.systemBannerAd.onLoad((function(){console.log("MINIGAME ===> 横幅广告 加载完成"),n.loadSucc_SystemBanner=!0}))}},t.showBanner=function(){var n=this;this.loadSucc_SystemBanner?(console.log("show system banner"),this.showSystemBanner()):(this.createSystemBanner(),setTimeout((function(){n.isShow_SystemBanner=!0,n.systemBannerAd.show()}),2e3))},t.hideBanner=function(n){this.hideSystemBanner()},t.showSystemBanner=function(){this.isShow_SystemBanner=!0,this.systemBannerAd.show()},t.hideSystemBanner=function(){console.log("隐藏系统banner",this.isShow_SystemBanner),this.isShow_SystemBanner&&this.systemBannerAd&&(this.isShow_SystemBanner=!1,this.systemBannerAd.hide())},t.updateBanner=function(){var n=this;this.interval_updateBanner&&clearInterval(this.interval_updateBanner),this.interval_updateBanner=setInterval((function(){n.loadSucc_NativeBanner?n.updateNativeBanner():n.loadSucc_SystemBanner&&n.updateSystemBanner()}),1e3*this.NUM_BannerUpdateTime)},t.updateSystemBanner=function(){this.hideSystemBanner(),this.hideNativeBanner(),this.showSystemBanner()},t.updateNativeBanner=function(){this.hideNativeBanner(),this.hideSystemBanner(),this.showNativeBanner()},t.createVideo=function(){var n=this;null!==this.qg&&void 0!==this.qg&&(console.log("MINIGAME ===> 华为平台 创建激励视频广告"),this.rewardedVideoAd=this.qg.createRewardedVideoAd({adUnitId:this.VideoData.vendor_position}),this.loadSucc_Video=!1,this.rewardedVideoAd.onLoad((function(){console.log("MINIGAME ===> 激励视频广告 加载成功"),n.loadSucc_Video=!0})),this.rewardedVideoAd.onError((function(n){console.log("MINIGAME ===> 华为H5GameAPI 激励视频 加载失败:code =====>:"+n.code+"message ======>:"+JSON.stringify(n))})),this.rewardedVideoAd.onClose((function(t){t.isEnded?(console.log("MINIGAME ===> ","HUAWEI 激励视频广告完成，发放奖励"),n.callback_Video&&n.callback_Video(!0)):(console.log("MINIGAME ===> ","HUAWEI 激励视频广告关闭，不发放奖励"),n.callback_Video&&n.callback_Video(!1)),setTimeout((function(){n.rewardedVideoAd.load()}),300)})),this.rewardedVideoAd.load())},t.showVideo=function(n){this.rewardedVideoAd&&this.loadSucc_Video?(this.callback_Video=n,this.rewardedVideoAd.show(),this.loadSucc_Video=!1):n(!1)},t.createInsertAd=function(){var n=this;null!=this.qg&&null!=this.qg&&(console.log("MINIGAME ===> 华为  创建插屏广告 1078+"),this.systemIntersAd=this.qg.createInterstitialAd({adUnitId:this.SystemIntersData.vendor_position}),this.loadSucc_SystemInters=!1,this.systemIntersAd.onLoad((function(){n.loadSucc_SystemInters=!0})),this.systemIntersAd.onError((function(t){n.loadSucc_SystemInters=!1,setTimeout((function(){n.systemIntersAd&&n.systemIntersAd.load()}),15e3)})),this.systemIntersAd.onClose((function(){console.log("MINIGAME ===> ","HUAWEI 系统插屏广告关闭"),n.loadSucc_SystemInters=!1,setTimeout((function(){n.systemIntersAd&&n.systemIntersAd.load()}),5e3)})),this.systemIntersAd.load())},t.showInsertAd=function(){this.systemIntersAd&&this.loadSucc_SystemInters&&this.systemIntersAd.show()},t.createNativeBanner=function(){var n=this;console.log("MINIGAME ===> 原生banner","--createNativeBanner--"),this.nativeAd=this.qg.createNativeAd({adUnitId:this.NativeBannerData.vendor_position}),this.nativeBannerInfo={adId:null,title:null,desc:null,Native_icon_url:null,Native_icon:null,Native_BigImage_url:null,Native_BigImage:null},this.nativeAd.onLoad((function(t){var e=0;null!=typeof t.adList&&0!=t.adList.length?(e=t.adList.length-1,console.log("MINIGAME ===> ","HUAWEI 原生banner广告加载成功：",JSON.stringify(t.adList[e])),""!=t.adList[e].icon&&t.adList[e].imgUrlList.length,n.nativeBannerInfo.adId=String(t.adList[e].adId),n.nativeBannerInfo.title=String(t.adList[e].title),n.nativeBannerInfo.desc=String(t.adList[e].desc),t.adList&&""!=t.adList[e].icon&&(n.nativeBannerInfo.Native_icon_url=t.adList[e].icon,o.loadRemote(String(t.adList[e].icon),(function(t,e){n.nativeBannerInfo.Native_icon=e}))),t.adList&&t.adList[e].imgUrlList.length>0&&(n.nativeBannerInfo.Native_BigImage_url=t.adList[e].imgUrlList[0],o.loadRemote(String(t.adList[e].imgUrlList[0]),(function(t,e){n.nativeBannerInfo.Native_BigImage=e}))),n.loadSucc_NativeBanner=!0):console.log("MINIGAME ===> ","HUAWEI原生banner广告列表为空 return")})),this.nativeAd.onError((function(t){console.log("MINIGAME ===> ","HUAWEI 原生banner广告加载失败：",JSON.stringify(t)),setTimeout((function(){n.nativeAd.load()}),2e4)})),this.nativeAd.load()},t.showNativeBanner=function(){var n=this;this.isShow_NativeBanner=!0;var t=i.getScene(),e=this.nativeBannerInfo.adId;this.reportNativeBannerShow(e),console.log("MINIGAME ===> 原生banner","showNativeBanner========================"),this.node_nativeBanner=new a("node_nativeBanner"),this.node_nativeBanner.addComponent(s),t.getChildByName("Canvas").addChild(this.node_nativeBanner),this.node_nativeBanner.addComponent(d),this.node_nativeBanner.getComponent(d).spriteFrame=r.createWithImage(this.nativeRes.NativeBannerBg),this.node_nativeBanner.addComponent(h),this.node_nativeBanner.getComponent(h).isAlignHorizontalCenter=!0,this.node_nativeBanner.getComponent(h).isAlignBottom=!0,this.node_nativeBanner.getComponent(h).bottom=0;var o=l.getVisibleSize();o.width<o.height?(this.node_nativeBanner.getComponent(s).width=o.width,this.node_nativeBanner.getComponent(s).height=.18*o.width):(this.node_nativeBanner.getComponent(s).width=o.width/2,this.node_nativeBanner.getComponent(s).height=.18*this.node_nativeBanner.getComponent(s).width),0!=this.AdGroup&&(this.node_nativeBanner.layer=this.AdGroup),this.node_nativeBanner.setSiblingIndex(999),this.node_nativeBanner.on(a.EventType.TOUCH_START,(function(t){n.reportNativeBannerClick(e)}));var g=new a("adTip");g.addComponent(s),this.node_nativeBanner.addChild(g),g.addComponent(d),g.getComponent(d).spriteFrame=r.createWithImage(this.nativeRes.NativeAdTip),g.getComponent(s).height=.2*this.node_nativeBanner.getComponent(s).height,g.getComponent(s).width=g.getComponent(s).height/.45,0!=this.AdGroup&&(g.layer=this.AdGroup),g.setPosition(this.node_nativeBanner.getComponent(s).width/2-g.getComponent(s).width/2,-this.node_nativeBanner.getComponent(s).height/2+g.getComponent(s).height/2);var v=new a("bannerButton");if(v.addComponent(s),this.node_nativeBanner.addChild(v),v.addComponent(d),0!=this.AdGroup&&(v.layer=this.AdGroup),v.getComponent(d).spriteFrame=r.createWithImage(this.nativeRes.NativeBannerButton),v.getComponent(s).width=.255*this.node_nativeBanner.getComponent(s).width,v.getComponent(s).height=.351*v.getComponent(s).width,v.setPosition(this.node_nativeBanner.getComponent(s).width/2-.185*this.node_nativeBanner.getComponent(s).width,0),this.nativeBannerInfo.Native_icon){var I=new a("icon");I.addComponent(s),this.node_nativeBanner.addChild(I),0!=this.AdGroup&&(I.layer=this.AdGroup),I.addComponent(d),I.getComponent(d).spriteFrame=r.createWithImage(this.nativeBannerInfo.Native_icon),I.getComponent(s).height=.8*this.node_nativeBanner.getComponent(s).height,I.getComponent(s).width=I.getComponent(s).height,I.setPosition(.8*I.getComponent(s).width-this.node_nativeBanner.getComponent(s).width/2,0)}else if(this.nativeBannerInfo.Native_BigImage){var u=new a("image");u.addComponent(s),this.node_nativeBanner.addChild(u),0!=this.AdGroup&&(u.layer=this.AdGroup),u.addComponent(d),u.getComponent(d).spriteFrame=r.createWithImage(this.nativeBannerInfo.Native_BigImage),u.getComponent(s).height=this.node_nativeBanner.getComponent(s).height,u.getComponent(s).width=2*u.getComponent(s).height,u.setPosition(u.getComponent(s).width/2-this.node_nativeBanner.getComponent(s).width/2,0)}var m=new a("titleLabel");m.addComponent(s),this.node_nativeBanner.addChild(m),0!=this.AdGroup&&(m.layer=this.AdGroup),m.addComponent(c),o.width<o.height?m.getComponent(c).fontSize=l.getDesignResolutionSize().width/1080*35:m.getComponent(c).fontSize=l.getDesignResolutionSize().height/1080*35,""==this.nativeBannerInfo.desc?m.getComponent(c).string=this.nativeBannerInfo.title:m.getComponent(c).string=this.nativeBannerInfo.desc,m.getComponent(c).overflow=c.Overflow.CLAMP,m.getComponent(c).horizontalAlign=c.HorizontalAlign.LEFT,m.getComponent(c).verticalAlign=c.VerticalAlign.CENTER,m.getComponent(c).lineHeight=m.getComponent(c).fontSize,m.getComponent(s).width=this.node_nativeBanner.getComponent(s).width-2*this.node_nativeBanner.getComponent(s).height-v.getComponent(s).width-.2*this.node_nativeBanner.getComponent(s).height/.45,m.getComponent(s).height=this.node_nativeBanner.getComponent(s).height,m.setPosition(0,-this.node_nativeBanner.getComponent(s).width/2+2.1*this.node_nativeBanner.getComponent(s).height+m.getComponent(s).width/2);var A=new a("closeICON");A.addComponent(s),this.node_nativeBanner.addChild(A),A.addComponent(d),0!=this.AdGroup&&(A.layer=this.AdGroup),A.getComponent(d).spriteFrame=r.createWithImage(this.nativeRes.NativeClose),A.getComponent(s).width=.27*this.node_nativeBanner.getComponent(s).height,A.getComponent(s).height=.27*this.node_nativeBanner.getComponent(s).height,A.setPosition(this.node_nativeBanner.getComponent(s).width/2-A.getComponent(s).width/2,this.node_nativeBanner.getComponent(s).height/2-A.getComponent(s).width/2),A.on(a.EventType.TOUCH_START,(function(t){console.log("MINIGAME ===> ","原生banner关闭",n.NUM_BannerUpdateTime+"S后再次刷新"),n.hideNativeBanner(),n.updateBanner()}))},t.hideNativeBanner=function(){this.isShow_NativeBanner&&(console.log("MINIGAME ===> ","HUAWEI原生banner hideNativeBanner========================"),this.isShow_NativeBanner=!1,this.node_nativeBanner.removeFromParent(),this.node_nativeBanner=null)},t.reportNativeBannerShow=function(n){console.log("MINIGAME ===> ","HUAWEI 该原生banner广告id上报展示",n),this.nativeAd.reportAdShow({adId:n})},t.reportNativeBannerClick=function(n){console.log("MINIGAME ===> ","HUAWEI 原生banner广告上报点击",n),this.nativeAd.reportAdClick({adId:n})},t.createNativeImage=function(){var n=this;console.log("MINIGAME ===> 原生大图","--createNativeImage--"),this.nativeImageAd=this.qg.createNativeAd({adUnitId:this.NativeIntersData.vendor_position}),this.loadSucc_NativeImage=!1,this.nativeImageInfo={adId:null,title:"",desc:"",source:"",clickBtnTxt:"",Native_icon_url:null,Native_icon:null,Native_BigImage_url:null,Native_BigImage:null,dcr:this.NativeIntersData.dcr},this.nativeImageAd.onLoad((function(t){console.info("ad data loaded: "+JSON.stringify(t));var e=0;null!=typeof t.adList&&0!=t.adList.length?(e=t.adList.length-1,n.nativeImageInfo.adId=String(t.adList[e].adId),n.nativeImageInfo.title=String(t.adList[e].title),n.nativeImageInfo.source=String(t.adList[e].source),n.nativeImageInfo.clickBtnTxt=String(t.adList[e].clickBtnTxt),t.adList&&""!=t.adList[e].icon&&(n.nativeImageInfo.Native_icon_url=t.adList[e].icon),t.adList&&t.adList[e].imgUrlList.length>0&&(n.nativeImageInfo.Native_BigImage_url=t.adList[e].imgUrlList[0]),n.loadSucc_NativeImage=!0,console.log("MINIGAME ===> ","HUAWEI 原生大图广告加载成功：",n.nativeImageInfo),n.callback_Native&&n.callback_Native(n.nativeImageInfo)):console.log("MINIGAME ===> ","HUAWEI 原生大图广告列表为空 return")})),this.nativeImageAd.onError((function(t){console.log("MINIGAME ===> ","HUAWEI 原生大图广告加载失败：",JSON.stringify(t)),n.callback_Native&&n.callback_Native(null)}))},t.getNativeAdInfo=function(n){return this.loadSucc_NativeImage?(console.log("MINIGAME ===> ","获取自定义原生大图广告"),this.nativeImageInfo):(console.log("MINIGAME ===> ","自定义原生大图广告加载中...."),null)},t.getHWNativeAdInfo=function(n){this.callback_Native=n,this.nativeImageAd||this.NativeIntersData&&this.NativeIntersData.enabled&&""!=this.NativeIntersData.vendor_position&&this.createNativeImage(),this.nativeImageAd&&this.nativeImageAd.load()},t.reportNativeImageShow=function(n){console.log("MINIGAME ===> ","HUAWEI 该原生大图广告id上报展示",n),this.nativeImageAd.reportAdShow({adId:n})},t.reportNativeImageClick=function(n){console.log("MINIGAME ===> ","HUAWEI 原生大图广告上报点击",n),this.nativeImageAd.reportAdClick({adId:n})},t.loadNativeImage=function(){},t.createNativeIcon=function(){var n=this;console.log("MINIGAME ===> 原生icon","--createNativeBanner--"),this.nativeIconAd=this.qg.createNativeAd({adUnitId:this.NativeIconData.vendor_position}),this.loadSucc_NativeIcon=!1,this.nativeIconInfo={adId:null,title:null,desc:null,Native_icon_url:null,Native_icon:null,Native_BigImage_url:null,Native_BigImage:null},this.nativeIconAd.onLoad((function(t){var e=0;null!=typeof t.adList&&0!=t.adList.length?(e=t.adList.length-1,console.log("MINIGAME ===> ","HUAWEI 原生icon广告加载成功：",JSON.stringify(t.adList[e])),""!=t.adList[e].icon&&t.adList[e].imgUrlList.length>0?console.log("MINIGAME ===> ","HUAWEI 原生icon广告同时存在原生ICON和大图"):console.log("MINIGAME ===> ","HUAWEI 原生icon广告只存在原生ICON或大图"),n.nativeIconInfo.adId=String(t.adList[e].adId),n.nativeIconInfo.title=String(t.adList[e].title),n.nativeIconInfo.desc=String(t.adList[e].desc),t.adList&&""!=t.adList[e].icon&&(n.nativeIconInfo.Native_icon_url=t.adList[e].icon),t.adList&&t.adList[e].imgUrlList.length>0&&(n.nativeIconInfo.Native_BigImage_url=t.adList[e].imgUrlList[0]),n.loadSucc_NativeIcon=!0,console.log("MINIGAME ===> ","HUAWEI 原生大图广告加载成功：")):console.log("MINIGAME ===> ","HUAWEI 原生icon广告列表为空 return")})),this.nativeIconAd.onError((function(t){console.log("MINIGAME ===> ","HUAWEI 原生icon广告加载失败：",JSON.stringify(t)),setTimeout((function(){n.nativeIconAd.load()}),2e4)})),this.nativeIconAd.load()},t.getNativeIconAdInfo=function(n){return this.loadSucc_NativeIcon?(console.log("MINIGAME ===> ","获取自定义原生Icon广告"),this.nativeIconInfo):(console.log("MINIGAME ===> ","自定义原生Icon广告加载中...."),null)},t.reportNativeIconShow=function(n){console.log("MINIGAME ===> ","HUAWEI 该原生Icon广告id上报展示",n),this.nativeIconAd.reportAdShow({adId:n})},t.reportNativeIconClick=function(n){console.log("MINIGAME ===> ","HUAWEI 原生Icon广告上报点击",n),this.nativeIconAd.reportAdClick({adId:n})},t.loadNativeIcon=function(){this.nativeIconAd&&this.nativeIconAd.load()},t.showNavigateBoxPortal=function(){},t.createNavigateBoxBanner=function(){},t.showNavigateBoxBanner=function(){},t.hideNavigateBoxBanner=function(){},t.addDesktop=function(n){null!=this.qg&&null!=this.qg&&this.qg.installShortcut({success:function(t){0==t?n&&n(!0):n&&n(!1)},fail:function(n){},complete:function(){}})},t.hasShortcutInstalled=function(n){null!=this.qg&&null!=this.qg&&this.qg.hasShortcutInstalled({success:function(t){0==t?n&&n(!0):n&&n(!1)},fail:function(n){},complete:function(){}})},t.StartRecorder=function(n){},t.stopRecordScreen=function(){},t.createMoreGamesBtn=function(){},t.showMoreGamesBtn=function(){},t.jumpToGame=function(n){},t.addColorBookmark=function(){},t.addSubscribeApp=function(){},t.phoneVibrate=function(n){null!==this.qg&&void 0!==this.qg&&(n?this.qg.vibrateLong&&this.qg.vibrateLong():this.qg.vibrateShort&&this.qg.vibrateShort())},t.reportAnalytics=function(n,t){},t.showCustomAd=function(){},t.hideCustomAd=function(){},t.showGridAd=function(){},t.hideGridAd=function(){},t.showPassiveVideo=function(n){},t.showCustomType12=function(n,t){},t.showADNewNativeType12=function(n,t){},t.showCustomBanner=function(n){},t.hideCustomBanner=function(){},t.navigateToScene=function(n,t){},t.ShowGameIconAd=function(){},t.HideGameIconAd=function(){},t.ShowHomeIconAd=function(){},t.HideHomeIconAd=function(){},t.ShowSideAd=function(){},t.HideSideAd=function(){},t.ShowMoreGamesAd=function(){},t.HideMoreGamesAd=function(){},t.ShowBannerNativeAd=function(){},t.HideBannerNativeAd=function(){},t.hideCustomIconAd=function(){},t.showCustomIconAd=function(){},n}()).appid="107817587",g=v))||g);t._RF.pop()}}}));

System.register("chunks:///_virtual/ICharacterInput.ts",["cc"],(function(){"use strict";var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"48b06cOMjNLBrbYhN7QoVHN","ICharacterInput",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/InitAD.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventCenter.ts","./StringHelper.ts","./AdLogUtil.ts","./AdManager.ts","./AdsIdConfig.ts","./MiniSDK.ts"],(function(t){"use strict";var i,n,o,e,a,c,l,r,s,u,f,g,p,d,h,A,m;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,e=t.assertThisInitialized},function(t){a=t.cclegacy,c=t._decorator,l=t.Enum,r=t.Node,s=t.director,u=t.Component},function(t){f=t.EventCenter},function(t){g=t.StringHelper},function(t){p=t.AdLogUtil},function(t){d=t.default},function(t){h=t.EPlatform,A=t.default},function(t){m=t.MiniSDK}],execute:function(){var I,b,L,v,w,y,C,D;a._RF.push({},"34d93NRxulG04pHzGqFQrpM","InitAD",void 0);var x=c.ccclass,E=c.property;t("InitAD",(I=x("InitAD"),b=E({type:l(h)}),L=E(r),I(((D=function(t){function i(){for(var i,n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return i=t.call.apply(t,[this].concat(a))||this,o(i,"platfrom",y,e(i)),o(i,"startNode",C,e(i)),i}n(i,t);var a=i.prototype;return a.onLoad=function(){if(this.platfrom!=h.Close){A.platform=this.platfrom;var t=localStorage.getItem("akPrivacy");g.isEmptyStr(t)||this.StartInitAd()}},a.onEnable=function(){f.Instance.AddEventListener("AccetPrivacy",this.StartInitAd,this)},a.onDisable=function(){f.Instance.RemoveEventListener("AccetPrivacy",this.StartInitAd,this)},a.StartInitAd=function(){var t=this;this.platfrom!=h.Close&&(i.isInitAd||(console.log("StartInitAd"),i.isInitAd=!0,A.platform=this.platfrom,d.getInstance().platform=this.platfrom,this.scheduleOnce((function(){t.platfrom!=h.Close?m.getNetworkType((function(i){i?d.getInstance().onInit(t.GoLoadView.bind(t)):m.showDialog({_title:"提示",_msg:"无网络，请退出游戏重启网络",callback1:function(){m.exitApplication()}.bind(t)})})):d.getInstance().onInit(t.GoLoadView.bind(t))}),.1)))},a.GoLoadView=function(){d.getInstance().setGroup(33554432),A.platform!=h.HUAWEI?this.startNode&&(this.startNode.active=!1):this.HUAWEILogin()},a.HUAWEILogin=function(){p.Log("HUAWEILogin"),s.pause(),d.getInstance().onLogin(this.HuaweiLoginCallBack.bind(this))},a.HuaweiLoginCallBack=function(t){p.Log("Huawei login result:"+t),1==t?(this.startNode.active=!1,console.log("登录华为成功，继续游戏")):2==t?(p.Log("玩家取消登录"),m.showDialog({_title:"提示",_msg:"登录失败，是否重新登录？",cancelText:"退出游戏",confirmText:"重新登录",confirmColor:"#1C008A",callback1:function(){this.HUAWEILogin()}.bind(this),callback2:function(){m.exitApplication()}})):3==t&&m.showDialog({_title:"提示",_msg:"实名认证后可进入游戏!",cancelText:"退出游戏",confirmText:"实名验证",showCancel:!0,callback1:function(){this.HUAWEILogin()}.bind(this),callback2:function(){m.exitApplication()}.bind(this)})},a.XiaoMiLogin=function(){var t=this;p.Log("XiaoMiLogin"),d.getInstance().onLogin((function(i){1==i?t.startNode.active=!1:2==i?(console.log("玩家取消登录"),m.showDialog({_title:"提示",_msg:"登录失败，是否重新登录？",cancelText:"退出游戏",confirmText:"重新登录",confirmColor:"#1C008A",callback1:function(){this.XiaoMiLogin()}.bind(t),callback2:function(){m.exitApplication()}})):3==i&&m.showDialog({_title:"提示",_msg:"取消实名认证",confirmText:"退出游戏",showCancel:!1,callback1:function(){m.exitApplication()}.bind(t)})}))},i}(u)).isInitAd=!1,y=i((w=D).prototype,"platfrom",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return h.Close}}),C=i(w.prototype,"startNode",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=w))||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/IPortalCallBack.ts",["cc"],(function(){"use strict";var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"0c663z+P5pD+aLGoiJIoFsS","IPortalCallBack",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/JoyStick.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,e,o,s,c,n,h,r;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,s=t.UITransform,c=t.Vec2,n=t.Vec3,h=t.Input,r=t.Component}],execute:function(){var a;e._RF.push({},"cfa01dA/plLUL9DwIciNCeY","JoyStick",void 0);var l=o.ccclass;o.property,t("JoyStick",l("JoyStick")(a=function(t){function e(){for(var i,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return(i=t.call.apply(t,[this].concat(o))||this).stickCircle=void 0,i.stick=void 0,i.joyStickCircleUITrans=void 0,i.joyStickUITrans=void 0,i.startPos=void 0,i.stickCircleOriginPos=void 0,i.tempVec3=void 0,i.tempMoveVec3=void 0,i.stickMaxMoveLen=void 0,i.moveDirNormalize=void 0,i.isFixedCircle=!0,i}i(e,t);var o=e.prototype;return o.Vertical=function(){return this.moveDirNormalize.y},o.Horizontal=function(){return this.moveDirNormalize.x},o.onLoad=function(){this.FindChild()},o.onEnable=function(){this.AddListener()},o.onDisable=function(){this.RemoveListener()},o.FindChild=function(){this.stickCircle=this.node.getChildByPath("stickCircle"),this.stick=this.node.getChildByPath("stickCircle/Stick"),this.joyStickCircleUITrans=this.stickCircle.getComponent(s),this.stickMaxMoveLen=this.joyStickCircleUITrans.width/2,this.joyStickUITrans=this.node.getComponent(s),this.moveDirNormalize=new c,this.tempVec3=new n,this.startPos=new n,this.tempMoveVec3=new n,this.stickCircleOriginPos=new n(this.stickCircle.position.x,this.stickCircle.position.y,0)},o.AddListener=function(){this.node.on(h.EventType.TOUCH_START,this.OnTouchStartJoyStick,this),this.node.on(h.EventType.TOUCH_MOVE,this.OnTouchMoveJoyStick,this),this.node.on(h.EventType.TOUCH_END,this.OnTouchEndOrCancelJoyStick,this),this.node.on(h.EventType.TOUCH_CANCEL,this.OnTouchEndOrCancelJoyStick,this)},o.RemoveListener=function(){this.node.off(h.EventType.TOUCH_START,this.OnTouchStartJoyStick,this),this.node.off(h.EventType.TOUCH_MOVE,this.OnTouchMoveJoyStick,this),this.node.off(h.EventType.TOUCH_END,this.OnTouchEndOrCancelJoyStick,this),this.node.off(h.EventType.TOUCH_CANCEL,this.OnTouchEndOrCancelJoyStick,this)},o.OnTouchStartJoyStick=function(t){t.getUILocation(this.tempVec3),this.tempMoveVec3.set(this.tempVec3.x,this.tempVec3.y,0),this.startPos=this.joyStickUITrans.convertToNodeSpaceAR(this.tempMoveVec3),this.isFixedCircle||(this.stickCircle.position=this.startPos)},o.OnTouchMoveJoyStick=function(t){t.getUILocation(this.tempVec3),this.tempMoveVec3.set(this.tempVec3.x,this.tempVec3.y,0);var i=this.joyStickUITrans.convertToNodeSpaceAR(this.tempMoveVec3);n.subtract(this.tempVec3,i,this.startPos);var e=n.len(this.tempVec3);this.moveDirNormalize=this.moveDirNormalize.set(this.tempVec3.x,this.tempVec3.y).normalize(),e<this.stickMaxMoveLen||this.tempVec3.set(this.moveDirNormalize.x*this.stickMaxMoveLen,this.moveDirNormalize.y*this.stickMaxMoveLen,0),this.stick.position=this.tempVec3},o.OnTouchEndOrCancelJoyStick=function(t){this.moveDirNormalize.set(0,0),this.stick.position=n.ZERO,this.isFixedCircle||(this.stickCircle.position=this.stickCircleOriginPos)},e}(r))||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/KSADApi.ts",["cc"],(function(t){"use strict";var i,n;return{setters:[function(t){i=t.cclegacy,n=t._decorator}],execute:function(){var e;i._RF.push({},"c50b9uly5dEM7QO+L0GyymJ","KSADApi",void 0);var o=n.ccclass;n.property,t("default",o(e=function(){function t(){this.clipIndexList=void 0,this.videoPath=void 0,this.arg=void 0,this.SystemBannerData=null,this.SystemIntersData=null,this.VideoData=null,this.PassiveVideoData=null,this.NativeBannerData=null,this.NativeIntersData=null,this.NativeIconData=null,this.JGGBoxData=null,this.TIMingData=null,this.BlockData=null,this.AdCustomIntersData=null,this.AdCustomBannerData=null,this.AdCustomTypeData=void 0,this.ADNewNativeAdData=null,this.ADNewNativeTypeData=null,this.ADNewConfig=void 0,this.wx=window.wx,this.bannerAd=null,this._autoBannerClose=!1,this.interstitialAd=null,this.rewardedVideoAd=null,this.m_videoAdIsLoaded=!1,this.nativeAd=null,this.resTemp=null,this.gridAd=null,this.title="超上瘾的解密游戏，挑战你的智商！",this.shareUrl="https://res.efunent.com/dev2/web2/LceFirePeople/qq/data/share.jpg",this.systemInfo=null,this.customIntersAd=null,this.customIconAd=null,this.loadSucc_IconAd=!1,this.loadSucc_CuctomInters=!1,this.CuctomIntervalTime=!0,this.recorder=void 0}var i=t.prototype;return i.setGroup=function(t){},i.onInit=function(t){null!==this.wx&&void 0!==this.wx?(this.systemInfo=this.wx.getSystemInfoSync(),this.wx.setPreferredFramesPerSecond(50),this.createInsertAd(),this.createVideo()):this.wx=null,t&&t(),console.log("wx ===================> onInit   ok")},i.onLogin=function(){},i.onShare=function(t){null!=this.wx&&null!=this.wx&&(console.log("wx平台 分享"),this.wx.shareAppMessage({title:this.title,imageUrl:this.shareUrl,success:function(){t&&t(1)},fail:function(){t&&t(0)}}))},i.ShareVideo=function(t,i,n){this.recorder&&this.recorder.publishVideo({callback:function(t){if(null!=t&&null!=t)return console.log("分享录屏失败: "+JSON.stringify(t)),void(n&&n("分享失败"));console.log("分享录屏成功"),n&&n("1")}})},i.createBanner=function(){},i.showBanner=function(){},i.hideBanner=function(t){},i.showNativeBanner=function(){},i.hideNativeBanner=function(){},i.createVideo=function(){null==this.wx&&null==this.wx||this.VideoData&&this.VideoData.enabled&&""!=this.VideoData.vendor_position&&(console.log("wx平台 创建激励视频广告"),this.rewardedVideoAd=this.wx.createRewardedVideoAd({adUnitId:this.VideoData.vendor_position}),this.rewardedVideoAd.onError((function(t){console.log("wxH5GameAPI 激励视频 加载失败:code =====>:"+t.code+"message ======>:"+JSON.stringify(t))})))},i.showVideo=function(t){var i=this;if((null!=this.wx||null!=this.wx)&&this.VideoData&&this.VideoData.enabled&&""!=this.VideoData.vendor_position){this.rewardedVideoAd.show();this.rewardedVideoAd.onClose((function n(e){e.isEnded?(console.log("激励视频广告完成，发放奖励"),t&&t(!0)):(console.log("激励视频广告取消关闭，不发放奖励"),t&&t(!1)),i.rewardedVideoAd.offClose(n)}))}},i.showPassiveVideo=function(t){},i.showVideoAward=function(){},i.showVideoFail=function(){},i.createInsertAd=function(){null==this.wx&&null==this.wx||this.SystemIntersData&&this.SystemIntersData.enabled&&""!=this.SystemIntersData.vendor_position&&(this.interstitialAd=this.wx.createInterstitialAd({adUnitId:this.SystemIntersData.vendor_position}),this.interstitialAd.onError((function(t){console.log("wx InsertAd load Error:"+JSON.stringify(t))})))},i.showInsertAd=function(){var t=this;if((null!=this.wx||null!=this.wx)&&this.SystemIntersData&&this.SystemIntersData.enabled&&""!=this.SystemIntersData.vendor_position&&(null==this.interstitialAd&&this.createInsertAd(),this.interstitialAd)){this.interstitialAd.show();this.interstitialAd.onClose((function i(n){t.interstitialAd.offClose(i),t.interstitialAd.destroy(),t.interstitialAd=null}))}},i.showCustomAd=function(){},i.hideCustomAd=function(){},i.showCustomIconAd=function(){},i.hideCustomIconAd=function(){},i.createNativeAd=function(){},i.showNativeAd=function(t,i,n){},i.onNativeAdClick=function(t){},i.onNativeReportAdShow=function(t){},i.createNativeIconAd=function(){},i.showNativeIconAd=function(){},i.onNativeIconAdClick=function(t){},i.showGridAd=function(){},i.hideGridAd=function(){},i.saveDataToCache=function(t,i){},i.readDataFromCache=function(t){},i.addDesktop=function(t){this.wx.addShortcut({success:function(i){console.log("MINIGAME ===> ","添加桌面成功"),t(!0)},fail:function(i){console.log("MINIGAME ===> ","添加桌面失败：",JSON.stringify(i)),t(!1)}})},i.hasShortcutInstalled=function(t){},i.StartRecorder=function(t){this.recorder=this.wx.getGameRecorder(),this.recorder.start()},i.stopRecordScreen=function(){this.recorder&&this.recorder.stop()},i.createMoreGamesBtn=function(){},i.showMoreGamesBtn=function(){},i.jumpToGame=function(t){},i.addColorBookmark=function(){},i.addSubscribeApp=function(){},i.vibrateShort=function(){null!==this.wx&&void 0!==this.wx&&this.wx.vibrateShort&&this.wx.vibrateShort()},i.vibrateLong=function(){null!==this.wx&&void 0!==this.wx&&this.wx.vibrateLong&&this.wx.vibrateLong()},i.recordClipRecorder=function(t){},i.pauseGameVideo=function(){},i.resumeGameVideo=function(){},i.getNativeAdInfo=function(t){},i.getHWNativeAdInfo=function(t){},i.reportNativeImageClick=function(t){},i.reportNativeImageShow=function(t){},i.loadNativeImage=function(){},i.getNativeIconAdInfo=function(t){},i.reportNativeIconClick=function(t){},i.reportNativeIconShow=function(t){},i.loadNativeIcon=function(){},i.showNavigateBoxPortal=function(){},i.showNavigateBoxBanner=function(){},i.hideNavigateBoxBanner=function(){},i.phoneVibrate=function(t){},i.reportAnalytics=function(t,i){},i.navigateToScene=function(t,i){},i.Share=function(t,i){},i.showNewNativeAd=function(){},i.hideNewNativeAd=function(){},i.showCustomBanner=function(){},i.hideCustomBanner=function(){},i.showCustomType12=function(t,i){},i.showADNewNativeType12=function(t,i){},i.ShowGameIconAd=function(){},i.HideGameIconAd=function(){},i.ShowHomeIconAd=function(){},i.HideHomeIconAd=function(){},i.ShowSideAd=function(){},i.HideSideAd=function(){},i.ShowMoreGamesAd=function(){},i.HideMoreGamesAd=function(){},i.ShowBannerNativeAd=function(){},i.HideBannerNativeAd=function(){},t}())||e);i._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./LogUtil.ts"],(function(e){"use strict";var t,n,o,r,i,s,a;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator,r=e.Sprite,i=e.Tween},function(e){s=e.UIBase},function(e){a=e.LogUtil}],execute:function(){var l;n._RF.push({},"dd229jF7XFM27VGYLfgrmHc","LoadingView",void 0);var c=o.ccclass;o.property,e("LoadingView",c("LoadingView")(l=function(e){function n(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this).progressSprite=void 0,t.progressTween=void 0,t.tweenCallBack=void 0,t}t(n,e);var o=n.prototype;return o.onLoad=function(){e.prototype.onLoad.call(this),this.progressSprite=this.allNodes["LoadProgress/ProgressBar"].getComponent(r),this.progressSprite.fillRange=.1},o.onEnable=function(){this.progressSprite.fillRange=.1},o.UpdateProgress=function(e){e>1&&(a.Log("设置进度值超过1"),e=1),this.progressSprite.fillRange=e},o.Show=function(){e.prototype.Show.call(this),this.node.setSiblingIndex(this.node.parent.children.length-1)},o.SetLoadingInterver=function(e,t){var n=this;null==this.progressTween&&(this.progressTween=new i(this.progressSprite).to(e,{fillRange:.95},{easing:"quintOut"}).call((function(){n.tweenCallBack&&n.tweenCallBack(),n.Hide()}))),this.tweenCallBack=t,this.progressTween.start()},n}(s))||l);n._RF.pop()}}}));

System.register("chunks:///_virtual/LogUtil.ts",["cc"],(function(o){"use strict";var n;return{setters:[function(o){n=o.cclegacy}],execute:function(){n._RF.push({},"801a7/YpNFNAoVdtJ2agzuY","LogUtil",void 0);var t=o("LogUtil",function(){function o(){}return o.InitLogUtil=function(n){o.isOpenLg=n},o.Log=function(){if(o.isOpenLg){for(var n=arguments.length,t=new Array(n),g=0;g<n;g++)t[g]=arguments[g];console.log(o.logTag+t)}},o.LogData=function(){if(o.isOpenLg){for(var n=arguments.length,t=new Array(n),g=0;g<n;g++)t[g]=arguments[g];console.log(o.logTag,t)}},o.Error=function(n){if(o.isOpenLg){var t=o.logTag+":"+n;console.error(t)}},o}());t.isOpenLg=!1,t.logTag="GameLog:",n._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./AdManager.ts","./AdsIdConfig.ts","./BridgeManager.ts","./BaiDuADApi.ts","./CloseADApi.ts","./HuaWeiADApi.ts","./InitAD.ts","./KSADApi.ts","./MeiZuADApi.ts","./PlatformAdApi.ts","./TiktokADApi.ts","./XmADApi.ts","./OppoADApi.ts","./QQADApi.ts","./MiniSDK.ts","./AdIconInfo.ts","./AdNativeInfo.ts","./VivoADApi.ts","./WXADApi.ts","./AdLogUtil.ts","./PrivacyViewUi.ts","./GameDataManager.ts","./UserDataManager.ts","./AdBridge.ts","./SkeletonItem.ts","./AssetManager.ts","./SoundManager.ts","./Singleton.ts","./PhysicalDebug.ts","./Dijktra.ts","./EventCenter.ts","./EventReceiverItem.ts","./ExcelManager.ts","./GameLaunch.ts","./JoyStick.ts","./FlyEffectManager.ts","./PopView.ts","./ScrollMovePage.ts","./TipManager.ts","./UIBase.ts","./UIManager.ts","./CSVParser.ts","./LogUtil.ts","./PathPointUtil.ts","./PoolManager.ts","./RandomTools.ts","./ShakeTool.ts","./StringHelper.ts","./TimeTools.ts","./VecTools.ts","./Vibrate.ts","./GameManager.ts","./AIBlue.ts","./AIDreamFace.ts","./AIFriend.ts","./AIGeneratePath.ts","./AIGreen.ts","./AIObuga.ts","./AIOrange.ts","./AIPathManager.ts","./BlueAni.ts","./FriendAni.ts","./GreenAni.ts","./ObugaAni.ts","./OrangeAni.ts","./SliderAni.ts","./Constants.ts","./GameCamera.ts","./PlayerController.ts","./PlayerMove.ts","./DirectArrow.ts","./FlashPlat.ts","./FollowItem.ts","./AbstractResourceControl.ts","./GameModeBase.ts","./CharacterAniControl.ts","./CharacterBase.ts","./CharacterMoveLayer.ts","./CharacterStateControl.ts","./CharacterStateRespose.ts","./ICharacterInput.ts","./SkeletonNodeScale.ts","./FriendManager.ts","./AIFriendInput.ts","./AIHostileFriend.ts","./FriendData.ts","./FriendDataItem.ts","./GameTip.ts","./HostileCamera.ts","./HostileMode.ts","./HostileModeControl.ts","./HostileModeResources.ts","./HostileModeView.ts","./IPortalCallBack.ts","./OutItem.ts","./OutItemControl.ts","./HostilePlayer.ts","./PlayInput.ts","./PlayerResposeState.ts","./PortalControl.ts","./PortalItem.ts","./CharacterBaseInfo.ts","./FriendInfo.ts","./SignInDataItem.ts","./SkinDataItem.ts","./SurvivalModeInfo.ts","./CageControl.ts","./CageItem.ts","./RescueAIBlue.ts","./RescueAIDreamFace.ts","./RescueAIGreen.ts","./RescueControl.ts","./RescueFriend.ts","./RescueMode.ts","./RescueModeResources.ts","./RescueResultView.ts","./RescueView.ts","./CollectTargetControl.ts","./CollectTargetItem.ts","./SurvivalControl.ts","./SurvivalMode.ts","./SurvivalModeResources.ts","./BoostView.ts","./GetSkinView.ts","./HomeView.ts","./HostileLoseView.ts","./LoadingView.ts","./MatchItem.ts","./MatchView.ts","./MoreTimeView.ts","./ReviveView.ts","./RewardView.ts","./SettingView.ts","./ShareView.ts","./SignInItem.ts","./SignInView.ts","./SkinItem.ts","./SkinView.ts","./SpinView.ts","./SurvivalLoseView.ts","./SurvivalModeView.ts","./TrySkinView.ts","./UISurvivalModeItem.ts","./UISurvivalModePanel.ts","./VictoryView.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MatchItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,r,n,o,s;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,r=t._decorator,n=t.Sprite,o=t.Label,s=t.Component}],execute:function(){var a;i._RF.push({},"54c1583JT5CAIQooh9YmQyz","MatchItem",void 0);var h=r.ccclass;r.property,t("MatchItem",h("MatchItem")(a=function(t){function i(){for(var e,i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))||this).bgSprite=void 0,e.playerSprite=void 0,e.userNameLabel=void 0,e.isInit=!1,e}e(i,t);var r=i.prototype;return r.onLoad=function(){this.FindChild()},r.FindChild=function(){this.isInit||(this.isInit=!0,this.bgSprite=this.node.getChildByPath("Bg").getComponent(n),this.playerSprite=this.node.getChildByPath("PlayerIcon").getComponent(n),this.userNameLabel=this.node.getChildByPath("UserName").getComponent(o))},r.RefreshItem=function(t,e,i){this.FindChild(),this.bgSprite.spriteFrame=t,this.playerSprite.spriteFrame=e,this.userNameLabel.string=i},i}(s))||a);i._RF.pop()}}}));

System.register("chunks:///_virtual/MatchView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UserDataManager.ts","./SoundManager.ts","./UIBase.ts","./RandomTools.ts","./Vibrate.ts","./Constants.ts","./CharacterBaseInfo.ts","./MatchItem.ts"],(function(t){"use strict";var e,a,n,i,c,h,s,o,r,l,m,u,d,p;return{setters:[function(t){e=t.inheritsLoose},function(t){a=t.cclegacy,n=t._decorator,i=t.Label,c=t.Sprite,h=t.instantiate},function(t){s=t.UserDataManager},function(t){o=t.SoundManager},function(t){r=t.UIBase},function(t){l=t.RandomTools},function(t){m=t.Vibrate},function(t){u=t.Constants},function(t){d=t.CharacterInfoHelper},function(t){p=t.MatchItem}],execute:function(){var f;a._RF.push({},"b3020RmbjpNMoJ50bympOc7","MatchView",void 0);var M=n.ccclass;n.property,t("MatchView",M("MatchView")(f=function(t){function a(){for(var e,a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))||this).matchTipLable=void 0,e.matchContentNode=void 0,e.tempUserItem=void 0,e.playerIconAltas=void 0,e.bgAltas=void 0,e.allMatchItem=void 0,e.matchCallBack=null,e.matchNum=0,e.totalNum=0,e.createMatchItemTime=.5,e.matchSuccessDelayTime=1.5,e.matchMaxTime=3.1,e}e(a,t);var n=a.prototype;return n.onLoad=function(){t.prototype.onLoad.call(this),this.FindChild()},n.FindChild=function(){this.allMatchItem=[],this.matchTipLable=this.allNodes["BottomNode/MatchTip"].getComponent(i),this.matchContentNode=this.allNodes.MatchContent,this.tempUserItem=this.allNodes["MatchContent/UserItem"],this.bgAltas=this.tempUserItem.getChildByPath("Bg").getComponent(c).spriteAtlas,this.playerIconAltas=this.tempUserItem.getChildByPath("PlayerIcon").getComponent(c).spriteAtlas},n.OnShow=function(){var t=this,e=arguments.length<=0?void 0:arguments[0];this.matchCallBack=arguments.length<=1?void 0:arguments[1];var a=e.GetAllFriendData();this.totalNum=a.length+1,this.matchNum=0,this.CreateMatchItem(),this.scheduleOnce((function(){t.UpdateMatchView(a)}),this.createMatchItemTime+.2)},n.UpdateMatchView=function(t){this.SetAllFriendMatchItem(t)},n.SetAllFriendMatchItem=function(t){for(var e=this,a=function(a){var n=l.RandomFloat(.5,e.matchMaxTime);e.scheduleOnce((function(){e.SetFriendMatchItem(t[a])}),n)},n=0;n<t.length;n++)a(n)},n.SetFriendMatchItem=function(t){var e=t.skinType,a=t.friendName;this.SetMatchItem(e,a,!1)},n.SetSelfMatchItem=function(){var t=s.Instance.GetCurrentSelectSkinType();this.SetMatchItem(t,"自己",!0)},n.OnAddNum=function(){var t=this;this.matchNum++,this.SetMatchTip("正在匹配中...     "+this.matchNum+"/"+this.totalNum),this.matchNum==this.totalNum&&(this.SetMatchTip("匹配成功,即将进入游戏!"),this.scheduleOnce((function(){t.matchCallBack&&(t.matchCallBack(),m.VibrateLong(),o.Instance.PlaySounds(u.soundUnlockSuccess))}),this.matchSuccessDelayTime))},n.SetMatchTip=function(t){this.matchTipLable&&(this.matchTipLable.string=t)},n.SetMatchItem=function(t,e,a){void 0===a&&(a=!1);var n=this.GetMatchItem(),i=this.GetPlayerIconSF(t),c=this.GetBgSpriteFrame(a);n.RefreshItem(c,i,e),this.OnAddNum()},n.CreateMatchItem=function(){for(var t=this,e=function(e){t.scheduleOnce((function(){var a=h(t.tempUserItem),n=a.addComponent(p);n.node.active=!0,t.matchContentNode.addChild(a),t.allMatchItem.push(n),0==e&&t.SetSelfMatchItem()}),1/t.totalNum)},a=0;a<this.totalNum;a++)e(a)},n.GetMatchItem=function(){return this.allMatchItem[this.matchNum]},n.GetBgSpriteFrame=function(t){return void 0===t&&(t=!1),t?this.bgAltas.getSpriteFrame("MatchSelfBg"):this.bgAltas.getSpriteFrame("MatchOtherBg")},n.GetPlayerIconSF=function(t){var e=d.Instance().GetSkinStr(t);return this.playerIconAltas.getSpriteFrame(e)},a}(r))||f);a._RF.pop()}}}));

System.register("chunks:///_virtual/MeiZuADApi.ts",["cc"],(function(t){"use strict";var n,e;return{setters:[function(t){n=t.cclegacy,e=t._decorator}],execute:function(){var o;n._RF.push({},"e2777ZwrP1Oo4ZW+Wk2+Buz","MeiZuADApi",void 0);var i=e.ccclass;e.property,t("default",i(o=function(){function t(){this.clipIndexList=void 0,this.videoPath=void 0,this.videoType=void 0,this.arg=void 0,this.SystemBannerData=null,this.SystemIntersData=null,this.VideoData=null,this.NativeBannerData=null,this.NativeIntersData=null,this.NativeIconData=null,this.JGGBoxData=null,this.BlockData=null,this.AdCustomIntersData=null,this.qg=window.qg,this.bannerAd=null,this._autoBannerClose=!1,this.interstitialAd=null,this.rewardedVideoAd=null,this.m_videoAdIsLoaded=!1,this.nativeAd=null,this.resTemp=null,this.systemInfo=null}var n=t.prototype;return n.setGroup=function(t){throw new Error("Method not implemented.")},n.recordClipRecorder=function(t){throw new Error("Method not implemented.")},n.pauseGameVideo=function(){throw new Error("Method not implemented.")},n.resumeGameVideo=function(){throw new Error("Method not implemented.")},n.showBanner=function(){throw new Error("Method not implemented.")},n.showVideo=function(t){throw new Error("Method not implemented.")},n.showInsertAd=function(){throw new Error("Method not implemented.")},n.getNativeAdInfo=function(t){throw new Error("Method not implemented.")},n.getHWNativeAdInfo=function(t){throw new Error("Method not implemented.")},n.reportNativeImageClick=function(t){throw new Error("Method not implemented.")},n.reportNativeImageShow=function(t){throw new Error("Method not implemented.")},n.loadNativeImage=function(){throw new Error("Method not implemented.")},n.getNativeIconAdInfo=function(t){throw new Error("Method not implemented.")},n.reportNativeIconClick=function(t){throw new Error("Method not implemented.")},n.reportNativeIconShow=function(t){throw new Error("Method not implemented.")},n.loadNativeIcon=function(){throw new Error("Method not implemented.")},n.showNavigateBoxPortal=function(){throw new Error("Method not implemented.")},n.showNavigateBoxBanner=function(){throw new Error("Method not implemented.")},n.hideNavigateBoxBanner=function(){throw new Error("Method not implemented.")},n.hasShortcutInstalled=function(t){throw new Error("Method not implemented.")},n.phoneVibrate=function(t){throw new Error("Method not implemented.")},n.onInit=function(t){null!==this.qg&&void 0!==this.qg?this.systemInfo=this.qg.getSystemInfoSync():this.qg=null,t&&t(),console.log("meizu ==> onInit ok  Tip:原生广告 1091版本开放,其他接口测试通过")},n.onLogin=function(){},n.onShare=function(t){},n.ShareVideo=function(t,n,e){},n.createBanner=function(){},n.hideBanner=function(t){void 0===t&&(t=!1),this.bannerAd&&(console.log("meizu平台 销毁横幅广告"),t||(this._autoBannerClose=!0),this.bannerAd.destroy(),this.bannerAd=null)},n.showVideoAward=function(){},n.showVideoFail=function(){},n.createInsertAd=function(){},n.createNativeAd=function(){},n.onNativeAdClick=function(t){this.nativeAd&&this.nativeAd.reportAdClick({adId:t})},n.onNativeReportAdShow=function(t){},n.createNativeIconAd=function(){},n.showNativeIconAd=function(){},n.onNativeIconAdClick=function(t){},n.createGridAd=function(t,n){},n.saveDataToCache=function(t,n){},n.readDataFromCache=function(t){},n.addDesktop=function(t){null!=this.qg&&null!=this.qg&&this.qg.installShortcut({success:function(n){t&&t(!0)},fail:function(n){t&&t(!1)},complete:function(){}})},n.StartRecorder=function(t){},n.stopRecordScreen=function(){},n.createMoreGamesBtn=function(){},n.showMoreGamesBtn=function(){},n.jumpToGame=function(t){},n.addColorBookmark=function(){},n.addSubscribeApp=function(){},n.vibrateShort=function(){null!==this.qg&&void 0!==this.qg&&this.qg.vibrateShort&&this.qg.vibrateShort()},n.vibrateLong=function(){null!==this.qg&&void 0!==this.qg&&this.qg.vibrateLong&&this.qg.vibrateLong()},n.reportAnalytics=function(t,n){},t}())||o);n._RF.pop()}}}));

System.register("chunks:///_virtual/MiniSDK.ts",["cc","./AdManager.ts","./AdsIdConfig.ts"],(function(o){"use strict";var e,t,n,c,l,s;return{setters:[function(o){e=o.cclegacy,t=o._decorator,n=o.sys},function(o){c=o.default},function(o){l=o.EPlatform,s=o.default}],execute:function(){var i,a;o("SDKPlatForm",void 0),e._RF.push({},"c069fY4zBlFtZ4TKTZMTYQA","MiniSDK",void 0);var r,g=t.ccclass;t.property;!function(o){o[o.Wechat=0]="Wechat",o[o.ByteBance=1]="ByteBance",o[o.QQ=2]="QQ",o[o.OV=3]="OV"}(r||(r=o("SDKPlatForm",{})));o("MiniSDK",g("MiniSDK")(((a=function(){function o(){}return o.Init=function(e){o.SDKPlatForm=e},o.getNetworkType=function(o){var e,t=c.getInstance().platform;if(t==l.VIVO||t==l.OPPO)null==(e=window.qg)||e.getNetworkType({success:function(e){t==l.VIVO?(console.log("MINIGAME ===> vivo network getNetworkType type:",e.type),"none"!=e.type?o&&o(!0):(console.log("MINIGAME ===> vivo 无网络连接"),o&&o(!1))):t==l.OPPO?(console.log("MINIGAME ===> oppo network getNetworkType type:",e.networkType),"none"!=e.networkType?o&&o(!0):o&&o(!1)):t==l.HUAWEI&&(console.log("MINIGAME ===> getNetworkType success networkType   "+e.networkType),"none"!=e.networkType?o&&o(!0):o&&o(!1))},fail:function(e){o&&o(!1),console.log("MINIGAME ===> network getNetworkType   ",e.errMsg)},complete:function(o){}});else if(t==l.HUAWEI){var n;null==(n=window.hbs)||n.getNetworkType({success:function(e){console.log("MINIGAME ===> getNetworkType success networkType   "+e.networkType),"none"!=e.networkType?o&&o(!0):o&&o(!1)},fail:function(e){o&&o(!1),console.log("MINIGAME ===> network getNetworkType   ",e.errMsg)},complete:function(o){}})}else o&&o(!0)},o.subscribeNetworkStatus=function(o){var e,t=c.getInstance().platform;if(t===l.VIVO)null==(e=window.qg)||e.subscribeNetworkStatus({callback:function(e){console.log("MINIGAME ===> vivo network status ,type:",e.type),"none"!=e.type?o&&o(!0):o&&o(!1)}});else if(t===l.OPPO){var n;null==(n=window.qg)||n.onNetworkStatusChange((function(e){console.log("MINIGAME ===> oppo network status ,isConnected:",e.isConnected,",networkType:",e.netWorkType),e.isConnected&&"none"!=e.netWorkType?o&&o(!0):o&&o(!1)}))}else t===l.HUAWEI?hbs.onNetworkStatusChange((function(e){console.log("MINIGAME ===> onNetworkStatusChange isConnected = "+e.isConnected+", networkType = "+e.networkType),e.isConnected&&"none"!=e.netWorkType?o&&o(!0):o&&o(!1)})):o&&o(!0)},o.showDialog=function(o){var e=c.getInstance().platform;if(e===l.VIVO){var t=new u;t.title=o._title,t.message=o._msg;var s=new f;s.text="确定",t.buttons.push(s),t.success=function(e){console.log("MINIGAME ===> dialog 成功回调：",e.index),0==e.index?o.callback1():1==e.index?o.callback2&&o.callback2():2==e.index&&o.callback3&&o.callback3()},t.cancel=function(){console.log("MINIGAME ===> dialog 取消回调：")},t.fail=function(o,e){console.log("MINIGAME ===> dialog 失败回调：",o,",====code",e)},n.platform===n.Platform.VIVO_MINI_GAME&&qg.showDialog(t)}else e===l.OPPO?qg.showModal({title:o._title,content:o._msg,success:function(e){e.confirm?(console.log("MINIGAME ===> 用户点击确定"),o.callback1&&o.callback1()):e.cancel&&(console.log("MINIGAME ===> 用户点击取消"),o.callback2&&o.callback2())}}):e===l.HUAWEI?(""!=o.showCancel&&null!=o.showCancel||(o.showCancel=!0),qg.showModal({title:o._title,content:o._msg,showCancel:o.showCancel,cancelText:o.cancelText||"取消",confirmText:o.confirmText||"确定",confirmColor:o.confirmColor||"#576B95",success:function(e){e?(console.log("MINIGAME ===> 用户点击确定"),o.callback1&&o.callback1()):(console.log("MINIGAME ===> 用户点击取消"),o.callback2&&o.callback2())}})):console.log("MINIGAME ===> other platform show dialog")},o.showToast=function(o,e){void 0===e&&(e=2e3);var t=c.getInstance().platform;t===l.VIVO?qg.showToast({message:o,duration:e}):t===l.OPPO||t===l.HUAWEI?qg.showToast({title:o,icon:"success",duration:e}):t===l.TikTok&&window.tt.showToast({title:o,duration:e})},o.onApplication=function(o){c.getInstance().platform===l.VIVO&&(qg.onShow((function(){console.log("MINIGAME ===> vivo game enter foreground"),o&&o(!0)})),qg.onHide((function(){console.log("MINIGAME ===> vivo game enter background"),o&&o(!1)})))},o.exitApplication=function(){s.platform==l.VIVO?qg.exitApplication():(s.platform==l.OPPO||s.platform==l.HUAWEI)&&qg.exitApplication({})},o}()).SDKPlatForm=void 0,i=a))||i);var u=o("DialogPanel",(function(){this.title="title",this.message="message",this.buttons=[],this.success=void 0,this.cancel=void 0,this.fail=void 0})),f=o("DailogButton",(function(){this.text="按钮",this.color="#33dd44"}));e._RF.pop()}}}));

System.register("chunks:///_virtual/MoreTimeView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AdManager.ts","./AdBridge.ts","./SoundManager.ts","./EventCenter.ts","./UIBase.ts","./Constants.ts"],(function(e){"use strict";var n,t,o,i,r,s,a,c,u,l;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,o=e._decorator,i=e.Input},function(e){r=e.default},function(e){s=e.AdBridge},function(e){a=e.SoundManager},function(e){c=e.EventCenter},function(e){u=e.UIBase},function(e){l=e.Constants}],execute:function(){var d;t._RF.push({},"bae6dLtm85ITJ1OMLgQSpAY","MoreTimeView",void 0);var f=o.ccclass;o.property,e("MoreTimeView",f("MoreTimeView")(d=function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var o=t.prototype;return o.onLoad=function(){e.prototype.onLoad.call(this),this.AddBtnListener("RewardBtn",this,this.OnClickRewardBtn),this.allNodes.CloseBtn.on(i.EventType.TOUCH_END,this.OnClickCloseBtn,this)},o.OnClickRewardBtn=function(){r.getInstance().reportAnalytics("reward_fail_getmoretime",{}),s.ShowRewardVideo((function(){a.Instance.PlaySounds(l.soundUnlockSuccess),c.Instance.TriggerEvent(l.Event_Player_GetMoreTime)}))},o.OnClickCloseBtn=function(){c.Instance.TriggerEvent(l.Event_Player_GetMoreTimeFail)},o.OnShow=function(){s.ShowMoreTimePanel()},t}(u))||d);t._RF.pop()}}}));

System.register("chunks:///_virtual/ObugaAni.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SkeletonItem.ts"],(function(t){"use strict";var e,n,i,a;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator},function(t){a=t.SkeletonItem}],execute:function(){var c;t("ObugaStatus",void 0),n._RF.push({},"d87b47qH4JBpLAAhDdVjIou","ObugaAni",void 0);var s,u,o=i.ccclass;i.property;!function(t){t.Idle="idle1",t.Seek="idle2",t.Attack="attack"}(s||(s={})),function(t){t[t.Idle=0]="Idle",t[t.Seek=1]="Seek",t[t.Attack=2]="Attack",t[t.Default=3]="Default"}(u||(u=t("ObugaStatus",{})));t("ObugaAni",o("ObugaAni")(c=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))||this).previousAniStatus=u.Default,e}e(n,t);var i=n.prototype;return i.ChangeObugaAniStatus=function(t){if(this.previousAniStatus!=t)switch(this.previousAniStatus=t,this.ClearTracks(),t){case u.Idle:this.PlayAni(s.Idle,!1,1);break;case u.Seek:this.AddAni(s.Seek,!1,0);break;case u.Attack:this.PlayAni(s.Attack,!1,1)}},i.SetHitCallBack=function(t){this.GetSkeleton().setEventListener((function(e,n){1==e.trackIndex&&t()}))},i.SetHitCompeteCallBack=function(t){this.GetSkeleton().setCompleteListener((function(e){1==e.trackIndex&&t()}))},n}(a))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/OppoADApi.ts",["cc","./AdLogUtil.ts","./AdsIdConfig.ts","./TipManager.ts"],(function(t){"use strict";var e,o,n,i,a;return{setters:[function(t){e=t.cclegacy,o=t._decorator},function(t){n=t.AdLogUtil},function(t){i=t.default},function(t){a=t.TipManager}],execute:function(){var s;e._RF.push({},"ad9da6ZfuFHK7FLF57FKQOo","OppoADApi",void 0);var d=o.ccclass;o.property,t("default",d(s=function(){function t(){this.customIntersAd=null,this.customIntersAd12=null,this.CuctomIntervalTime=!0,this.customAdTop=500,this.customAdWidth=700,this.SystemBannerData=null,this.SystemIntersData=null,this.VideoData=null,this.PassiveVideoData=null,this.NativeBannerData=null,this.NativeIntersData=null,this.NativeIconData=null,this.JGGBoxData=null,this.TIMingData=null,this.BlockData=null,this.AdCustomIntersData=null,this.AdCustomBannerData=null,this.AdCustomTypeData=[],this.ADNewNativeAdData=null,this.ADNewNativeTypeData=null,this.ADNewConfig=void 0,this.qg=window.qg,this.AdGroup=0,this.systemBannerAd=null,this.loadSucc_SystemBanner=!1,this.isShow_SystemBanner=!1,this.NUM_BannerUpdateTime=30,this.interval_updateBanner=null,this.interstitialAd=null,this.rewardedVideoAd=null,this.loadSucc_Video=!1,this.callback_Video=null,this.rewardedPassiveVideoAd=null,this.loadSucc_PassiveVideo=!1,this.callback_PassiveVideo=null,this.nativeRes=null,this.loadNativeRes=!1,this.nativeAd=null,this.nativeBannerInfo=null,this.loadSucc_NativeBanner=!1,this.isShow_NativeBanner=!1,this.node_nativeBanner=null,this.nativeImageAd=null,this.nativeImageInfo=null,this.loadSucc_NativeImage=!1,this.isShow_NativeImage=!1,this.nativeIconAd=null,this.nativeIconInfo=null,this.loadSucc_NativeIcon=!1,this.isShow_NativeIcon=!1,this.navigateBoxPortalAd=null,this.loadSucc_NavigateBoxPortal=!1,this.navigateBoxBannerAd=null,this.loadSucc_NavigateBoxBanner=!1,this.temp_hasShowBanner=!1,this.isShow_NavigateSettle=!1,this.systemInfo=null,this.clipIndexList=[],this.videoPath=void 0,this.VideoVendor_Pos=[],this.videoType=1,this.PassiveVideoVendor_Pos=[],this.CustomType12=[],this.CustomTypeVendor_Pos=[]}var e=t.prototype;return e.onInit=function(t){console.log("oppo platform load config success..."),n.Log("OPPO平台加载配置成功!"),null!==this.qg&&void 0!==this.qg?(this.systemInfo=this.qg.getSystemInfoSync(),console.log("MINIGAME ===> 设备信息.systemInfo===>",this.systemInfo),this.createAd()):this.qg=null,t&&t(),console.log("MINIGAME ===> oppo ===================> onInit  ok")},e.createAd=function(){n.Log("OPPO平台 createAd!"),this.SystemBannerData&&this.SystemBannerData.enabled&&""!=this.SystemBannerData.vendor_position&&this.createSystemBanner(),this.VideoData&&this.VideoData.enabled&&""!=this.VideoData.vendor_position&&this.createVideo(),this.JGGBoxData&&this.JGGBoxData.enabled&&""!=this.JGGBoxData.vendor_position&&this.createNavigateBoxPortal(),this.BlockData&&this.BlockData.enabled&&""!=this.BlockData.vendor_position&&this.createNavigateBoxBanner(),this.NativeBannerData&&this.NativeBannerData.enabled&&""!=this.NativeBannerData.vendor_position&&this.createNativeBanner(),this.NativeIntersData&&this.NativeIntersData.enabled&&""!=this.NativeIntersData.vendor_position&&this.createNativeImage(),this.NativeIconData&&this.NativeIconData.enabled&&""!=this.NativeIconData.vendor_position&&this.createNativeIcon(),this.AdCustomIntersData&&this.AdCustomIntersData.enabled&&""!=this.AdCustomIntersData.vendor_position&&this.createNativeCuston()},e.setGroup=function(t){this.AdGroup=t},e.onLogin=function(){},e.onShare=function(t){},e.recordClipRecorder=function(t){},e.pauseGameVideo=function(){},e.resumeGameVideo=function(){},e.ShareVideo=function(t,e,o){},e.createSystemBanner=function(){var t=this;n.Log("OPPO createSystemBanner: "+this.SystemBannerData.vendor_position),this.systemBannerAd=this.qg.createBannerAd({adUnitId:this.SystemBannerData.vendor_position,style:{}}),this.loadSucc_SystemBanner=!0,this.systemBannerAd.onError((function(t){n.Log("systemBannerAd onError:"+JSON.stringify(t))})),this.systemBannerAd.onHide((function(){n.Log("systemBannerAd onHide"),console.log("MINIGAME ===> ","OPPO 系统banner关闭",t.NUM_BannerUpdateTime+"S之后再次刷新")}))},e.showBanner=function(){n.Log("showBanner isLoadedBanner:"+this.loadSucc_SystemBanner),this.loadSucc_NativeBanner?this.showNativeBanner():this.loadSucc_SystemBanner&&this.showSystemBanner()},e.hideBanner=function(){n.Log("hideBanner"),this.hideSystemBanner(),this.hideNativeBanner()},e.showSystemBanner=function(){n.Log("showSystemBanner"),this.isShow_SystemBanner=!0,this.systemBannerAd.show()},e.hideSystemBanner=function(){n.Log("hideSystemBanner"),this.isShow_SystemBanner&&this.systemBannerAd&&(this.isShow_SystemBanner=!1,this.systemBannerAd.offHide(),this.systemBannerAd.hide())},e.updateBanner=function(){var t=this;n.Log("updateBanner"),this.interval_updateBanner&&clearInterval(this.interval_updateBanner),this.interval_updateBanner=setInterval((function(){t.loadSucc_NativeBanner?t.updateNativeBanner():t.loadSucc_SystemBanner&&t.updateSystemBanner()}),1e3*this.NUM_BannerUpdateTime)},e.updateSystemBanner=function(){this.hideSystemBanner(),this.hideNativeBanner(),this.showSystemBanner()},e.updateNativeBanner=function(){this.hideNativeBanner(),this.hideSystemBanner(),this.showNativeBanner()},e.createNativeCuston=function(){var t=this;n.Log("OPPO创建原生模板广告! createNativeCuston: "+this.AdCustomIntersData.vendor_position),this.customIntersAd&&(this.customIntersAd.offLoad(null),this.customIntersAd.offShow(null),this.customIntersAd.offError(null),this.customIntersAd.destroy(),this.customIntersAd=null),this.customIntersAd=this.qg.createCustomAd({adUnitId:this.AdCustomIntersData.vendor_position,style:{top:0,left:800,width:this.qg.getSystemInfoSync().screenWidth}}),this.customIntersAd.onLoad((function(){n.Log("原生模板广告加载成功回调 customIntersAd onLoad")})),this.customIntersAd.onError((function(e){n.Log("原生模板广告报错回调 customIntersAd onError:"+JSON.stringify(e)),setTimeout((function(){t.createNativeCuston()}),2e4)})),this.customIntersAd.onClick((function(t){n.Log("开启原生模板广告点击回调: code: "+t.code+",msg: '"+t.msg+"'")})),this.customIntersAd.onShow((function(){n.Log("成功展示回调 customIntersAd onShow")}))},e.showCustomInters=function(){if(n.Log("显示原生模板广告 showCustomInters"),this.customIntersAd){this.AdCustomIntersData.day_limits;n.Log("原生模板广告调用 show"),this.customIntersAd.show().then((function(){n.Log("OPPO 原生模板广告展示成功")})).catch((function(t){n.Log("OPPO 原生模板广告展示成功"+JSON.stringify(t))}))}},e.showCustomAd=function(){},e.hideCustomAd=function(){this.customIntersAd&&this.customIntersAd.hide()},e.createVideo=function(){var t=this;if(null!==this.qg&&void 0!==this.qg){n.Log("OPPO创建激励视频广告 createVideo");var e="";if(1==this.videoType){this.VideoVendor_Pos&&0!=this.VideoVendor_Pos.length||(this.VideoVendor_Pos=[],this.VideoVendor_Pos=i.getVendor_posAry(this.VideoData.vendor_position)),n.Log("createVideo  vendor_position:  "+this.VideoVendor_Pos),console.log(this.VideoVendor_Pos);var o=this.VideoVendor_Pos.shift();console.log(o),e=o}else if(2==this.videoType){this.PassiveVideoVendor_Pos&&0!=this.PassiveVideoVendor_Pos.length||(this.PassiveVideoVendor_Pos=[],this.PassiveVideoVendor_Pos=i.getVendor_posAry(this.PassiveVideoData.vendor_position)),n.Log("createVideo  PassiveVideoVendor_Pos:  "+this.PassiveVideoVendor_Pos),console.log(this.PassiveVideoVendor_Pos);var a=this.PassiveVideoVendor_Pos.shift();console.log(a),e=a}this.rewardedVideoAd=this.qg.createRewardedVideoAd({adUnitId:e}),this.rewardedVideoAd&&this.rewardedVideoAd.load(),this.rewardedVideoAd.onLoad((function(){console.log("MINIGAME ===> 激励视频广告 加载成功"),n.Log("OPPO 激励视频广告 加载成功 rewardedVideoAd onLoad"),t.loadSucc_Video=!0})),this.rewardedVideoAd.onError((function(e){console.log("MINIGAME ===>  激励视频 加载失败:code =====>:"+e.code+"message ======>:"+JSON.stringify(e)),n.Log("OPPO 激励视频 加载失败:code"+e.code+"msg:"+JSON.stringify(e)+" rewardedVideoAd onError"),t.callback_Video&&t.callback_Video(!1,"视频加载失败 code:"+e.code),t.loadSucc_Video=!1,t.rewardedVideoAd&&setTimeout((function(){t.rewardedVideoAd&&t.rewardedVideoAd.load()}),4e3)})),this.rewardedVideoAd.onClose((function(e){n.Log("rewardedVideoAd onClose: "+e.isEnded),e.isEnded?(n.Log("OPPO 激励视频广告完成，发放奖励"),t.callback_Video&&t.callback_Video(!0)):(n.Log("OPPO 激励视频广告关闭，不发放奖励"),t.callback_Video&&t.callback_Video(!1)),t.rewardedVideoAd.destroy(),setTimeout((function(){t.createVideo()}),100)}))}},e.showVideo=function(t){n.Log("showVideo"),this.rewardedVideoAd&&this.loadSucc_Video?(this.videoType=1,this.callback_Video=t,n.Log("showVideo 激励加载成功调用 rewardedVideoAd show 方法"),this.rewardedVideoAd.show(),this.loadSucc_Video=!1):(a.Instance.ShowTip("广告还未准备好,请稍后再试"),t(!1))},e.createPassiveVideo=function(){},e.showPassiveVideo=function(t){this.rewardedVideoAd&&this.loadSucc_Video?(this.videoType=2,this.callback_Video=t,n.Log("showVideo 激励加载成功调用 rewardedPassiveVideoAd show 方法"),this.rewardedVideoAd.show(),this.loadSucc_Video=!1):(a.Instance.ShowTip("广告还未准备好,请稍后再试"),t(!1))},e.showVideoAward=function(){},e.showVideoFail=function(){},e.createInsertAd=function(){},e.showInsertAd=function(){},e.createNavigateBoxPortal=function(){var t=this;n.Log("创建九宫格广告 createNavigateBoxPortal"),this.qg.getSystemInfoSync().platformVersionCode<1076?n.Log("OPPO 版本较低,不支持互推盒子广告"):(this.navigateBoxPortalAd=this.qg.createGamePortalAd({adUnitId:this.JGGBoxData.vendor_position}),this.navigateBoxPortalAd.onLoad((function(){n.Log("九宫格广告加载完成 navigateBoxPortalAd onLoad"),t.loadSucc_NavigateBoxPortal=!0})),this.navigateBoxPortalAd.onError((function(e){n.Log("九宫格广告加载失败 navigateBoxPortalAd onError:"+JSON.stringify(e)),t.loadSucc_NavigateBoxPortal=!1,setTimeout((function(){t.navigateBoxPortalAd.load()}),2e4)})),this.navigateBoxPortalAd.onClose((function(){n.Log("九宫格广告关闭回调 navigateBoxPortalAd onClose"),t.navigateBoxPortalAd.load()})),this.navigateBoxPortalAd.load())},e.showNavigateBoxPortal=function(){n.Log("九宫格广告显示 showNavigateBoxPortal"),this.loadSucc_NavigateBoxPortal?(this.hideBanner(),this.navigateBoxPortalAd&&this.navigateBoxPortalAd.show()):n.Log("九宫格广告未加载成功!")},e.createNavigateBoxBanner=function(){console.log("MINIGAME ===> ","--createNavigateBoxBanner--"),this.qg.getSystemInfoSync().platformVersionCode<1076?console.log("MINIGAME ===> ","OPPO 版本较低,不支持互推盒子广告"):(this.navigateBoxBannerAd=this.qg.createGameBannerAd({adUnitId:this.BlockData.vendor_position}),this.loadSucc_NavigateBoxBanner=!0,this.navigateBoxBannerAd.onError((function(t){console.log("MINIGAME ===> ","OPPO 互推盒子横幅广告出错:",JSON.stringify(t))})))},e.showNavigateBoxBanner=function(){this.isShow_NavigateSettle?console.log("MINIGAME ===> ","已经调用过showNavigateBoxBanner,请勿重复调用"):(this.isShow_NavigateSettle=!0,this.loadSucc_NavigateBoxBanner&&(this.hideBanner(),console.log("MINIGAME ===> ","showNavigateBoxBanner====================="),this.navigateBoxBannerAd.show()))},e.hideNavigateBoxBanner=function(){this.isShow_NavigateSettle&&(console.log("MINIGAME ===> ","hideNavigateBoxBanner====================="),this.isShow_NavigateSettle=!1,this.navigateBoxBannerAd&&this.navigateBoxBannerAd.hide())},e.loadNativeBannerRes=function(){},e.createNativeBanner=function(){},e.showNativeBanner=function(){},e.hideNativeBanner=function(){this.isShow_NativeBanner&&(console.log("MINIGAME ===> ","OPPO原生banner hideNativeBanner========================"),this.isShow_NativeBanner=!1,this.node_nativeBanner.active=!1,this.node_nativeBanner.removeFromParent(),this.node_nativeBanner=null,console.log("MINIGAME ===> ","OPPO原生banner hideNativeBanner========================end"))},e.showCustomBanner=function(){},e.hideCustomBanner=function(){},e.reportNativeBannerShow=function(t){console.log("MINIGAME ===> ","OPPO 该原生banner广告id上报展示",t),this.nativeAd.reportAdShow({adId:t})},e.reportNativeBannerClick=function(t){console.log("MINIGAME ===> ","OPPO 原生banner广告上报点击",t),this.nativeAd.reportAdClick({adId:t})},e.createNativeImage=function(){var t=this;console.log("MINIGAME ===> 原生大图","--createNativeBanner--"),this.nativeImageAd=this.qg.createNativeAd({posId:this.NativeIntersData.vendor_position}),this.loadSucc_NativeImage=!1,this.nativeImageInfo={adId:null,title:null,desc:null,Native_icon_url:null,Native_icon:null,Native_BigImage_url:null,Native_BigImage:null,dcr:this.NativeIntersData.dcr},this.nativeImageAd.onLoad((function(e){var o=0;null!=typeof e.adList&&0!=e.adList.length?(o=e.adList.length-1,console.log("MINIGAME ===> ","OPPO 原生大图广告加载成功：",JSON.stringify(e.adList[o])),t.nativeImageInfo.adId=String(e.adList[o].adId),t.nativeImageInfo.title=String(e.adList[o].title),t.nativeImageInfo.desc=String(e.adList[o].desc),e.adList&&""!=e.adList[o].icon&&(t.nativeImageInfo.Native_icon_url=e.adList[o].icon),e.adList&&e.adList[o].imgUrlList.length>0&&(t.nativeImageInfo.Native_BigImage_url=e.adList[o].imgUrlList[0]),t.loadSucc_NativeImage=!0,console.log("MINIGAME ===> ","OPPO 原生大图广告加载成功：")):console.log("MINIGAME ===> ","OPPO 原生大图广告列表为空 return")})),this.nativeImageAd.onError((function(e){console.log("MINIGAME ===> ","OPPO 原生大图广告加载失败：",JSON.stringify(e)),setTimeout((function(){t.nativeImageAd.load()}),2e4)})),this.nativeImageAd.load()},e.getNativeAdInfo=function(t){return this.loadSucc_NativeImage?(console.log("MINIGAME ===> ","获取自定义原生大图广告"),this.nativeImageInfo):(console.log("MINIGAME ===> ","自定义原生大图广告加载中...."),null)},e.getHWNativeAdInfo=function(t){},e.reportNativeImageShow=function(t){console.log("MINIGAME ===> ","OPPO 该原生大图广告id上报展示",t),this.nativeImageAd.reportAdShow({adId:t})},e.reportNativeImageClick=function(t){console.log("MINIGAME ===> ","OPPO 原生大图广告上报点击",t),this.nativeImageAd.reportAdClick({adId:t})},e.loadNativeImage=function(){this.nativeImageAd&&this.nativeImageAd.load()},e.createNativeIcon=function(){var t=this;console.log("MINIGAME ===> 原生icon","--createNativeBanner--"),this.nativeIconAd=this.qg.createNativeAd({posId:this.NativeIconData.vendor_position}),this.loadSucc_NativeIcon=!1,this.nativeIconInfo={adId:null,title:null,desc:null,Native_icon_url:null,Native_icon:null,Native_BigImage_url:null,Native_BigImage:null},this.nativeIconAd.onLoad((function(e){var o=0;null!=typeof e.adList&&0!=e.adList.length?(o=e.adList.length-1,console.log("MINIGAME ===> ","OPPO 原生icon广告加载成功：",JSON.stringify(e.adList[o])),""!=e.adList[o].icon&&e.adList[o].imgUrlList.length>0?console.log("MINIGAME ===> ","OPPO 原生icon广告同时存在原生ICON和大图"):console.log("MINIGAME ===> ","OPPO 原生icon广告只存在原生ICON或大图"),t.nativeIconInfo.adId=String(e.adList[o].adId),t.nativeIconInfo.title=String(e.adList[o].title),t.nativeIconInfo.desc=String(e.adList[o].desc),e.adList&&""!=e.adList[o].icon&&(t.nativeIconInfo.Native_icon_url=e.adList[o].icon),e.adList&&e.adList[o].imgUrlList.length>0&&(t.nativeIconInfo.Native_BigImage_url=e.adList[o].imgUrlList[0]),t.loadSucc_NativeIcon=!0,console.log("MINIGAME ===> ","OPPO 原生大图广告加载成功：")):console.log("MINIGAME ===> ","OPPO 原生icon广告列表为空 return")})),this.nativeIconAd.onError((function(e){console.log("MINIGAME ===> ","OPPO 原生icon广告加载失败：",JSON.stringify(e)),setTimeout((function(){t.nativeIconAd.load()}),2e4)})),this.nativeIconAd.load()},e.getNativeIconAdInfo=function(t){return this.loadSucc_NativeIcon?(console.log("MINIGAME ===> ","获取自定义原生Icon广告"),this.nativeIconInfo):(console.log("MINIGAME ===> ","自定义原生Icon广告加载中...."),null)},e.reportNativeIconShow=function(t){console.log("MINIGAME ===> ","OPPO 该原生Icon广告id上报展示",t),this.nativeIconAd.reportAdShow({adId:t})},e.reportNativeIconClick=function(t){console.log("MINIGAME ===> ","OPPO 原生Icon广告上报点击",t),this.nativeIconAd.reportAdClick({adId:t})},e.loadNativeIcon=function(){this.nativeIconAd&&this.nativeIconAd.load()},e.addDesktop=function(t){console.log("oppo addDesktop"),null!=this.qg&&null!=this.qg&&(console.log("oppo addDesktop qg is correct!"),this.qg.installShortcut({success:function(e){0==e?(t&&t(!0),console.log("创建成功")):(t&&t(!1),console.log("已存在桌面图标"))},fail:function(e){console.log("创建错误:"+e),console.log(e),(e&&"short already exist"==e.data||-1==e.code)&&t(-1)},complete:function(){}}))},e.hasShortcutInstalled=function(t){null!=this.qg&&null!=this.qg&&this.qg.hasShortcutInstalled({success:function(e){0==e?(console.log("MINIGAME ===> ","OPPO 不存在桌面图标"),t&&t(!0)):(console.log("MINIGAME ===> ","OPPO 存在桌面图标"),t&&t(!1))},fail:function(t){},complete:function(){}})},e.StartRecorder=function(t){},e.stopRecordScreen=function(){},e.createMoreGamesBtn=function(){},e.showMoreGamesBtn=function(){},e.jumpToGame=function(t){},e.addColorBookmark=function(){},e.addSubscribeApp=function(){},e.phoneVibrate=function(t){null!==this.qg&&void 0!==this.qg&&(t?this.qg.vibrateLong&&this.qg.vibrateLong():this.qg.vibrateShort&&this.qg.vibrateShort())},e.reportAnalytics=function(t,e){null!==this.qg&&void 0!==this.qg&&this.qg.reportMonitor(t,e)},e.showGridAd=function(){},e.hideGridAd=function(){},e.navigateToScene=function(t,e){},e.Share=function(t,e){},e.showNewNativeAd=function(){},e.hideNewNativeAd=function(){},e.showCustomType12=function(t,e){var o=this;if(n.Log("OPPO创建原生模板广告! createNativeCuston: "+this.AdCustomTypeData[t].vendor_position),this.qg.createCustomAd){this.CustomType12[t]&&(this.CustomType12[t].offLoad(null),this.CustomType12[t].offShow(null),this.CustomType12[t].offError(null),this.CustomType12[t].destroy(),this.CustomType12[t]=null),this.CustomTypeVendor_Pos[t]&&0!=this.CustomTypeVendor_Pos[t].length||(this.CustomTypeVendor_Pos[t]=[],this.CustomTypeVendor_Pos[t]=i.getVendor_posAry(this.AdCustomTypeData[t].vendor_position));var a=this.CustomTypeVendor_Pos[t].shift();n.Log("showCustomType12  vendor_position:"+this.AdCustomTypeData[t].vendor_position),this.CustomType12[t]=this.qg.createCustomAd({adUnitId:a,style:{top:0,left:800,width:this.qg.getSystemInfoSync().screenWidth}}),this.CustomType12[t].onLoad((function(){n.Log(t+"原生模板12广告加载成功回调 CustomType12[type] onLoad  type:"+t)})),this.CustomType12[t].onError((function(e){n.Log(t+"原生模板12广告报错回调 CustomType12[type] onError:"+JSON.stringify(e)),setTimeout((function(){o.createNativeCuston()}),2e4)})),this.CustomType12[t].onShow((function(){n.Log("成功展示回调12 CustomType12[type] onShow  type:"+t)})),this.CustomType12[t].show().then((function(){n.Log("OPPO 原生模板12广告展示成功  type:"+t)})).catch((function(e){n.Log("OPPO 原生模板12广告展示成功  type:"+t+JSON.stringify(e))}))}},e.hideCustomType12=function(t){this.CustomType12[t]&&this.CustomType12[t].hide()},e.showADNewNativeType12=function(t,e){},e.hideCustomIconAd=function(){},e.showCustomIconAd=function(){},e.ShowGameIconAd=function(){},e.HideGameIconAd=function(){},e.ShowHomeIconAd=function(){},e.HideHomeIconAd=function(){},e.ShowSideAd=function(){},e.HideSideAd=function(){},e.ShowMoreGamesAd=function(){},e.HideMoreGamesAd=function(){},e.ShowBannerNativeAd=function(){},e.HideBannerNativeAd=function(){},t}())||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/OrangeAni.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SkeletonItem.ts"],(function(t){"use strict";var e,n,a,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,a=t._decorator},function(t){i=t.SkeletonItem}],execute:function(){var c;t("OrangeStatus",void 0),n._RF.push({},"27e70Y1WalNx6S7TvYaPba0","OrangeAni",void 0);var r,s,u=a.ccclass;a.property;!function(t){t.Idle="idle",t.ReadyAttack="maul",t.Attack="power_punch",t.AttackLoop="Punch_loop",t.Run="run"}(r||(r={})),function(t){t[t.Idle=0]="Idle",t[t.Run=1]="Run",t[t.Attack=2]="Attack",t[t.Default=3]="Default"}(s||(s=t("OrangeStatus",{})));t("OrangeAni",u("OrangeAni")(c=function(t){function n(){for(var e,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))||this).previousAniStatus=s.Default,e}e(n,t);var a=n.prototype;return a.ChangeAniStatus=function(t){if(this.previousAniStatus!=t)switch(this.previousAniStatus=t,t){case s.Idle:this.PlayAni(r.Idle,!0,1);break;case s.Run:this.ClearTracks(),this.PlayAni(r.Run,!0,1);break;case s.Attack:this.ClearTracks(),this.AddAni(r.ReadyAttack,!1,0),this.AddAni(r.Attack,!1,0)}},a.SetHitCallBack=function(t){this.GetSkeleton().setEventListener((function(e,n){3==e.trackIndex&&t()}))},a.SetHitCompeteCallBack=function(t){this.GetSkeleton().setCompleteListener((function(e){3==e.trackIndex&&t()}))},n}(i))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/OutItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,r,n,u;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy,n=t._decorator,u=t.Component}],execute:function(){var o;r._RF.push({},"58069n4E7hBiKSx1Xrbr0+9","OutItem",void 0);var c=n.ccclass;n.property,t("OutItem",c("OutItem")(o=function(t){function r(){return t.apply(this,arguments)||this}e(r,t);var n=r.prototype;return n.start=function(){},n.update=function(t){},r}(u))||o);r._RF.pop()}}}));

System.register("chunks:///_virtual/OutItemControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundManager.ts","./EventCenter.ts","./Constants.ts"],(function(t){"use strict";var e,n,o,u,r,s,i,a,c,f;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,u=t.Vec3,r=t.sp,s=t.instantiate,i=t.Component},function(t){a=t.SoundManager},function(t){c=t.EventCenter},function(t){f=t.Constants}],execute:function(){var m;n._RF.push({},"96bf5u/6epJU52f64rYvaKA","OutItemControl",void 0);var l=o.ccclass;o.property,t("OutItemControl",l("OutItemControl")(m=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),u=0;u<n;u++)o[u]=arguments[u];return(e=t.call.apply(t,[this].concat(o))||this).outItemPrefab=void 0,e.outItemParentNode=void 0,e.unuseOutItemArr=void 0,e}e(n,t);var o=n.prototype;return o.onEnable=function(){c.Instance.AddEventListener(f.Event_HostileGame_Effect_OutItem,this.PlayEffectOutItem,this)},o.onDisable=function(){c.Instance.RemoveEventListener(f.Event_HostileGame_Effect_OutItem,this.PlayEffectOutItem,this)},o.InitOutItem=function(t,e){this.unuseOutItemArr=new Array,this.outItemPrefab=t,this.outItemParentNode=e},o.PlayEffectOutItem=function(t,e){var n=this,o=this.SpawnOutItem();o.active=!0,o.worldPosition=new u(t,e,0),o.getComponent(r.Skeleton).setAnimation(3,"ZUHE",!1),a.Instance.PlaySounds(f.soundHitSausageEffect),this.scheduleOnce((function(){n.UnSpawnOutItem(o)}),2)},o.SpawnOutItem=function(){var t;return this.unuseOutItemArr.length>0?t=this.unuseOutItemArr.pop():(t=s(this.outItemPrefab),this.outItemParentNode.addChild(t)),t},o.UnSpawnOutItem=function(t){this.unuseOutItemArr.push(t)},n}(i))||m);n._RF.pop()}}}));

System.register("chunks:///_virtual/PathPointUtil.ts",["cc","./LogUtil.ts","./RandomTools.ts"],(function(t){"use strict";var n,o,i,r,e;return{setters:[function(t){n=t.cclegacy,o=t._decorator,i=t.Vec2},function(t){r=t.LogUtil},function(t){e=t.RandomTools}],execute:function(){var c;n._RF.push({},"64deaChsBVBMZ7bRknonIpv","PathPointUtil",void 0);var a=o.ccclass;o.property,t("PathPointUtil",a("PathPointUtil")(c=function(){function t(){}return t.GetPointPath=function(t,n){if(t){var o=t.children.length;0==o&&r.Error("BluePathPointRoot point data is null,please check!");var c=0;o>1&&(c=e.RandomInt(o));for(var a=t.children[c],l=0;l<a.children.length;l++){var s=a.children[l].worldPosition;n.push(new i(s.x,s.y))}}},t}())||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/PhysicalDebug.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var s,t,n,c,o,i;return{setters:[function(e){s=e.inheritsLoose},function(e){t=e.cclegacy,n=e._decorator,c=e.PhysicsSystem2D,o=e.EPhysics2DDrawFlags,i=e.Component}],execute:function(){var r;t._RF.push({},"ea611nidtBMwKBWfyjLCQHU","PhysicalDebug",void 0);var a=n.ccclass;n.property,e("PhysicalDebug",a("PhysicalDebug")(r=function(e){function t(){return e.apply(this,arguments)||this}return s(t,e),t.prototype.onLoad=function(){console.log("开启调试物理"),c.instance.enable=!0,c.instance.debugDrawFlags=o.All},t}(i))||r);t._RF.pop()}}}));

System.register("chunks:///_virtual/PlatformAdApi.ts",["cc"],(function(){"use strict";var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"9f026PgSIZMt5bdGm0RuaOv","PlatformAdApi",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundManager.ts","./EventCenter.ts","./RandomTools.ts","./FriendAni.ts","./Constants.ts","./CharacterBaseInfo.ts","./FollowItem.ts","./CollectTargetItem.ts","./DirectArrow.ts","./Vibrate.ts"],(function(e){"use strict";var t,i,n,o,s,r,a,h,c,l,d,u,v,m,g,S,p,C,y,f,T,I,A;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy,n=e._decorator,o=e.Vec2,s=e.tween,r=e.sp,a=e.RigidBody2D,h=e.CircleCollider2D,c=e.Contact2DType,l=e.Sprite,d=e.v3,u=e.Component},function(e){v=e.SoundManager},function(e){m=e.EventCenter},function(e){g=e.RandomTools},function(e){S=e.FriendStatus,p=e.FriendAni},function(e){C=e.Constants},function(e){y=e.CharacterInfoHelper},function(e){f=e.FollowItem},function(e){T=e.CollectTargetItem},function(e){I=e.DirectArrow},function(e){A=e.Vibrate}],execute:function(){var R;i._RF.push({},"1fd1bDZ2YVLsIk7dsaPfILH","PlayerController",void 0);var w=n.ccclass;n.property,e("PlayerController",w("PlayerController")(R=function(e){function i(){for(var t,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).playerRig=void 0,t.playerCollider=void 0,t.collectTargetItem=void 0,t.joyStick=void 0,t.skeleton=void 0,t.skeletonNode=void 0,t.collectTargetPicNode=void 0,t.collectTargetPicSprite=void 0,t.isGameOver=!1,t.characterAni=void 0,t.templinearVelocity=void 0,t.moveSpeed=10,t.configSpeed=10,t.hideReduceTime=5,t.isMove=void 0,t.isHide=void 0,t.isReturn=void 0,t.isHit=void 0,t.shadowFollow=void 0,t.directArrow=void 0,t.collectTargetControl=void 0,t.platCenterPos=void 0,t.isUp=!1,t.isDown=!1,t}t(i,e);var n=i.prototype;return n.SetIsMove=function(e){this.isMove=e,this.MakeStatus()},n.SetIsHide=function(e){this.isHide=e,this.ChangeHideStatus(),this.MakeStatus()},n.SetIsReturn=function(e){this.isReturn=e,this.MakeStatus()},n.SetIsHit=function(e){this.isHit=e,this.MakeStatus()},n.CanCatch=function(){return!this.isHide&&!this.isGameOver},n.ChangeHideStatus=function(){this.isHide?(this.moveSpeed=this.configSpeed/this.hideReduceTime,this.isReturn&&this.ShowCollectTarget(!1)):(this.moveSpeed=this.configSpeed,this.isReturn&&this.ShowCollectTarget(!0))},n.ShowCollectTarget=function(e){this.collectTargetPicNode.active=e},n.BeCatch=function(e,t){this.isGameOver||(A.VibrateLong(),v.Instance.PlaySounds(C.soundBehit+1),this.isGameOver=!0,this.playerRig.linearVelocity=o.ZERO,this.characterAni.ChangeFriendAniStatus(S.Behit),s(this.node).to(.01,{worldPosition:e}).start(),this.collectTargetItem&&(this.collectTargetItem.UnCollectingItem(t),this.isReturn=!1,this.ShowCollectTarget(!1)),this.collectTargetItem=null)},n.ChangeSkin=function(e){this.characterAni&&this.characterAni.ChangeSkin(y.skinType[e])},n.PlayHitAni=function(){A.VibrateLong();var e=g.RandomIntRegion(1,4);v.Instance.PlaySounds(C.soundPunch+e),this.characterAni.ChangeFriendAniStatus(S.Behit)},n.onLoad=function(){this.FindChild()},n.onEnable=function(){m.Instance.AddEventListener(C.Event_Player_HideClick,this.OnClickHideBtn,this),m.Instance.AddEventListener(C.Event_Game_Fail,this.OnGameFail,this),m.Instance.AddEventListener(C.Event_Game_Victory,this.OnGameVictory,this),m.Instance.AddEventListener(C.Event_Game_TimeUp,this.OnGameTimeUp,this),m.Instance.AddEventListener(C.Event_Player_GetMoreTime,this.OnGetMoreTime,this),m.Instance.AddEventListener(C.Event_Player_GetMoreSpeed,this.OnGetMoreSpeed,this)},n.onDisable=function(){m.Instance.RemoveEventListener(C.Event_Player_HideClick,this.OnClickHideBtn,this),m.Instance.RemoveEventListener(C.Event_Game_Fail,this.OnGameFail,this),m.Instance.RemoveEventListener(C.Event_Game_Victory,this.OnGameVictory,this),m.Instance.RemoveEventListener(C.Event_Game_TimeUp,this.OnGameTimeUp,this),m.Instance.RemoveEventListener(C.Event_Player_GetMoreTime,this.OnGetMoreTime,this),m.Instance.RemoveEventListener(C.Event_Player_GetMoreSpeed,this.OnGetMoreSpeed,this)},n.OnClickHideBtn=function(){this.isGameOver||(this.isHide=!this.isHide,this.SetIsHide(this.isHide))},n.OnGetMoreTime=function(){this.isGameOver=!1,this.isReturn?this.ShowTargetArrow(!0):this.ShowTargetArrow()},n.OnPlayerRevive=function(){this.isGameOver=!1,this.node.active=!0},n.OnGetMoreSpeed=function(){this.configSpeed=this.configSpeed+C.getMoreSpeedValue,this.moveSpeed=this.configSpeed,this.ChangeHideStatus()},n.OnGameTimeUp=function(){this.isGameOver=!0,this.playerRig.linearVelocity=o.ZERO},n.OnGameFail=function(){this.isGameOver=!0,this.playerRig.linearVelocity=o.ZERO},n.OnGameVictory=function(){this.isGameOver=!0,this.playerRig.linearVelocity=o.ZERO,this.characterAni.ChangeFriendAniStatus(S.Victory)},n.FindChild=function(){this.skeletonNode=this.node.getChildByPath("FriendSkeleton"),this.skeleton=this.skeletonNode.getComponent(r.Skeleton),this.playerRig=this.node.getComponent(a),this.playerCollider=this.node.getComponent(h),this.playerCollider.on(c.BEGIN_CONTACT,this.onBeginContact,this),this.collectTargetPicNode=this.node.getChildByPath("FriendSkeleton/TargetNode/Pic"),this.collectTargetPicSprite=this.collectTargetPicNode.getComponent(l);var e=this.node.parent.parent.getChildByPath("Arrow");this.directArrow=e.addComponent(I)},n.onBeginContact=function(e,t,i){if(t)switch(t.tag){case C.Collicer_Tag_TargetItem:this.DetectTargetItem(t);break;case C.Collicer_Tag_Platform:this.DetectPlatCenter(t)}},n.DetectTargetItem=function(e){var t=this;if(!this.isReturn){var i=e.node.getComponent(T);i&&i.CanCollect()&&(this.ShowTargetArrow(!0),A.VibrateShort(),this.collectTargetItem=i,this.isReturn=!0,this.collectTargetItem.CollectingItem(this.collectTargetPicNode),v.Instance.PlaySounds(C.soundPickItem),setTimeout((function(){t.ShowCollectTarget(!0)}),0))}},n.DetectPlatCenter=function(e){if(!this.isGameOver&&this.isReturn){m.Instance.TriggerEvent(C.Event_Game_FinishTarget,"self",1);var t=d(e.node.worldPosition.x+g.RandomFloat(-100,100),e.node.worldPosition.y+g.RandomFloat(-80,80),0);this.collectTargetItem.FinishCollect(t),this.collectTargetItem=null,this.ShowCollectTarget(!1),this.isReturn=!1,this.directArrow.StopDirect()}},n.InitPlayer=function(e,t,i,n,s,r,a,h){this.joyStick=e,this.moveSpeed=t,this.configSpeed=t,this.ShowCollectTarget(!1),this.collectTargetPicSprite.spriteFrame=s,this.characterAni=this.node.getComponent(p),null!=this.characterAni&&null!=this.characterAni||(this.characterAni=this.node.addComponent(p)),this.characterAni.InitSkeleton(this.skeleton);var c=this.moveSpeed*C.playerWalkAniRatio,l=this.moveSpeed*C.playerReturnWalkAniRatio;this.characterAni.SetWalkAndReturnAniSpeed(c,l),this.characterAni.ChangeFriendAniStatus(S.Idle),this.characterAni.ChangeSkin(y.skinType[i]),this.characterAni.SetHideAni(n),this.templinearVelocity=new o,this.isMove=!1,this.isHide=!1,this.isReturn=!1,this.isHit=!1,this.shadowFollow=this.node.addComponent(f),this.shadowFollow.SetNeedFollowNode(r),this.collectTargetControl=a,this.platCenterPos=h,this.ShowTargetArrow()},n.ShowTargetArrow=function(e){var t;void 0===e&&(e=!1),(t=e?this.platCenterPos:this.collectTargetControl.GetUnCollectItemPos())&&this.directArrow.SetDirectNode(t,this.node)},n.update=function(e){if(!this.isGameOver&&null!=this.joyStick&&null!=this.joyStick){var t=this.joyStick.Vertical(),i=this.joyStick.Horizontal();if(0==t||0==i)return this.playerRig.linearVelocity=o.ZERO,void this.SetIsMove(!1);this.skeletonNode.scale=i>0?C.rightScale:C.leftScale,t>0?this.isUp||(this.node.setSiblingIndex(0),this.isUp=!0,this.isDown=!1):this.isDown||(this.node.setSiblingIndex(100),this.isDown=!0,this.isUp=!1),this.templinearVelocity.set(i*this.moveSpeed,t*this.moveSpeed),this.playerRig.linearVelocity=this.templinearVelocity,this.SetIsMove(!0)}},n.MakeStatus=function(){this.characterAni.MakeStrategy(this.isMove,this.isHide,this.isReturn,this.isHit)},i}(u))||R);i._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerMove.ts",["cc","./SoundManager.ts"],(function(e){"use strict";var t,i,o,s;return{setters:[function(e){t=e.cclegacy,i=e._decorator,o=e.Vec2},function(e){s=e.SoundManager}],execute:function(){var n;t._RF.push({},"7380brg3D9DzbHMuhNmcDod","PlayerMove",void 0);var r=i.ccclass;i.property,e("PlayerMove",r("PlayerMove")(n=function(){function e(){this.playerRig=void 0,this.moveSpeed=15,this.templinearVelocity=void 0,this.isMoveStep=!1,this.isAI=!0}var t=e.prototype;return t.UpdatePlayerMove=function(e,t){this.isAI||this.isMoveStep||(this.isMoveStep=!0,s.Instance.PlayStep()),0!=t&&0!=e?(this.templinearVelocity.set(e*this.moveSpeed,t*this.moveSpeed),this.playerRig.linearVelocity=this.templinearVelocity):this.playerRig.linearVelocity=o.ZERO},t.StopMove=function(){this.isAI||(s.Instance.StopStep(),this.isMoveStep=!1),this.playerRig.linearVelocity=o.ZERO},t.InitPlayMove=function(e,t,i){void 0===t&&(t=10),this.isAI=i,this.templinearVelocity=new o,this.playerRig=e,this.moveSpeed=t},e}())||n);t._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerResposeState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CharacterStateRespose.ts"],(function(e){"use strict";var t,s,r,a;return{setters:[function(e){t=e.inheritsLoose},function(e){s=e.cclegacy,r=e._decorator},function(e){a=e.CharacterStateRespose}],execute:function(){var o;s._RF.push({},"3f6f3GilEZC2Y9T8fgm6WZZ","PlayerResposeState",void 0);var n=r.ccclass;r.property,e("PlayerResposeState",n("PlayerResposeState")(o=function(e){function s(){return e.apply(this,arguments)||this}t(s,e);var r=s.prototype;return r.update=function(e){this.MakeState()},r.lateUpdate=function(e){this.ResposeState()},s}(a))||o);s._RF.pop()}}}));

System.register("chunks:///_virtual/PlayInput.ts",["cc"],(function(t){"use strict";var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"34d705pIf1K7pYM5o7rHGRI","PlayInput",void 0);t("PlayInput",function(){function t(t){this.joyStick=void 0,this.joyStick=t}var i=t.prototype;return i.GetInputX=function(){return this.joyStick?this.joyStick.Horizontal():0},i.GetInputY=function(){return this.joyStick?this.joyStick.Vertical():0},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/PoolManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Singleton.ts","./LogUtil.ts"],(function(a){"use strict";var e,o,t,n,r,s,p,i;return{setters:[function(a){e=a.inheritsLoose,o=a.createForOfIteratorHelperLoose},function(a){t=a.cclegacy,n=a._decorator,r=a.instantiate,s=a.NodePool},function(a){p=a.Singleton},function(a){i=a.LogUtil}],execute:function(){var l;t._RF.push({},"b9ba5PbD1NBSpWFDug8y4oa","PoolManager",void 0);var u=n.ccclass;n.property,a("PoolManager",u("PoolManager")(l=function(a){function t(){for(var e,o=arguments.length,t=new Array(o),n=0;n<o;n++)t[n]=arguments[n];return(e=a.call.apply(a,[this].concat(t))||this).prefabsMap=new Map,e.poolsMap=new Map,e}e(t,a);var n=t.prototype;return n.Spawn=function(a){if(this.prefabsMap.has(a)){var e=this.poolsMap[a].get();if(null==e){var o=this.prefabsMap[a];e=r(o)}return e}i.Log("对象池:"+a+"未注册填充,请先初始化.")},n.UnSpawn=function(a,e){this.prefabsMap.has(a)?this.poolsMap[a].put(e):i.Log("对象池:"+a+"未注册填充,请先初始化.")},n.Register=function(a,e){this.prefabsMap.has(a)||(this.prefabsMap.set(a,e),this.poolsMap.set(a,new s(a)))},n.ReleaseAll=function(){for(var a,e=o(this.poolsMap.values());!(a=e()).done;)for(var t,n=a.value,r=o(n.values());!(t=r()).done;){t.value.clear()}},t}(p))||l);t._RF.pop()}}}));

System.register("chunks:///_virtual/PopView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts"],(function(e){"use strict";var t,n,i,o,s,c,l,a;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e._decorator,o=e.Label,s=e.Input,c=e.Tween,l=e.Vec3},function(e){a=e.UIBase}],execute:function(){var p;n._RF.push({},"a600ap4V+tIyYANL4cHXWMx","PopView",void 0);var r=i.ccclass;i.property,e("PopView",r("PopView")(p=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).titleLable=void 0,t.contentLable=void 0,t.popTween=void 0,t.startScaleVec3=new l(.1,.1,.1),t.endScaleVec3=new l(1,1,1),t}t(n,e);var i=n.prototype;return i.onLoad=function(){e.prototype.onLoad.call(this),this.titleLable=this.allNodes["OutLineBg/Title"].getComponent(o),this.contentLable=this.allNodes["OutLineBg/Content"].getComponent(o),this.allNodes["OutLineBg/CloseBtn"].on(s.EventType.TOUCH_END,this.OnClickCloseBtn,this)},i.OnClickCloseBtn=function(){this.HidePopTip()},i.ShowPopTip=function(e,t){this.node.active=!1,this.node.setSiblingIndex(this.node.parent.children.length-1),this.titleLable.string=e,this.contentLable.string=t,this.node.scale=this.startScaleVec3,this.node.active=!0,null==this.popTween&&(this.popTween=new c(this.node).to(.2,{scale:this.endScaleVec3},{easing:"backOut"})),this.popTween.start()},i.HidePopTip=function(){this.node.active=!1},n}(a))||p);n._RF.pop()}}}));

System.register("chunks:///_virtual/PortalControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RandomTools.ts","./PortalItem.ts"],(function(t){"use strict";var o,r,l,a,e,n;return{setters:[function(t){o=t.inheritsLoose},function(t){r=t.cclegacy,l=t._decorator,a=t.Component},function(t){e=t.RandomTools},function(t){n=t.PortalItem}],execute:function(){var i;r._RF.push({},"84120aGJwRE46V6AeDxNS8U","PortalControl",void 0);var P=l.ccclass;l.property,t("PortalControl",P("PortalControl")(i=function(t){function r(){for(var o,r=arguments.length,l=new Array(r),a=0;a<r;a++)l[a]=arguments[a];return(o=t.call.apply(t,[this].concat(l))||this).allPortalWorldPoint=void 0,o.startPortalItem=void 0,o.targetPortalItem=void 0,o}o(r,t);var l=r.prototype;return l.onLoad=function(){this.GetPortalWolrdPoint(),this.InitItem()},l.GetPortalWolrdPoint=function(){var t=this.node.getChildByPath("PortalPoint");if(t){this.allPortalWorldPoint=[];for(var o=0;o<t.children.length;o++)this.allPortalWorldPoint.push(t.children[o].worldPosition)}},l.InitItem=function(){var t=this.node.getChildByPath("PortalNode"),o=t.getChildByPath("StartPortal"),r=t.getChildByPath("EndPortal");this.startPortalItem=o.addComponent(n),this.targetPortalItem=r.addComponent(n)},l.SetRandomPortal=function(){this.SetPortalWorldPos(),this.ShowPortalItem(!0)},l.SetPortalWorldPos=function(){var t=e.RandomIntRegion(0,this.allPortalWorldPoint.length-1),o=e.RandomIntRegion(0,this.allPortalWorldPoint.length-1);if(t!=o){var r=this.allPortalWorldPoint[t],l=this.allPortalWorldPoint[o];this.startPortalItem.node.worldPosition=r,this.targetPortalItem.node.worldPosition=l,this.SetTargetPortalItemWorldPos(r,l)}else this.SetPortalWorldPos()},l.SetTargetPortalItemWorldPos=function(t,o){this.startPortalItem.SetTargetWordPos(o),this.targetPortalItem.SetTargetWordPos(t)},l.ShowPortalItem=function(t){this.startPortalItem.node.active=t,this.targetPortalItem.node.active=t},r}(a))||i);r._RF.pop()}}}));

System.register("chunks:///_virtual/PortalItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./CharacterBase.ts"],(function(t){"use strict";var e,o,r,n,i,a,l,c;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,r=t._decorator,n=t.Collider2D,i=t.Contact2DType,a=t.Component},function(t){l=t.Constants},function(t){c=t.CharacterBase}],execute:function(){var s;o._RF.push({},"2f4b1xJC3NDfJQL1EJ1dNHJ","PortalItem",void 0);var g=r.ccclass;r.property,t("PortalItem",g("PortalItem")(s=function(t){function o(){for(var e,o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))||this).triggerCollider=void 0,e.targetWorldPos=void 0,e}e(o,t);var r=o.prototype;return r.onLoad=function(){this.triggerCollider=this.getComponent(n),this.triggerCollider.on(i.BEGIN_CONTACT,this.OnDetectBeginContact,this),this.triggerCollider.on(i.END_CONTACT,this.OnDetectEndContact,this)},r.SetTargetWordPos=function(t){this.targetWorldPos=t},r.OnDetectBeginContact=function(t,e,o){if(e&&(e.tag==l.Collicer_Tag_Friend||e.tag==l.Collicer_Tag_Player)){var r=e.getComponent(c);if(r.IsInPortal())return;this.targetWorldPos&&r.EnterPortal(this.targetWorldPos)}},r.OnDetectEndContact=function(t,e,o){e&&(e.tag!=l.Collicer_Tag_Friend&&e.tag!=l.Collicer_Tag_Player||e.getComponent(c).ExitPortal())},o}(a))||s);o._RF.pop()}}}));

System.register("chunks:///_virtual/PrivacyViewUi.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventCenter.ts","./AdManager.ts"],(function(e){"use strict";var t,i,r,n,a,o,c,s,l,u,v,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,c=e.Prefab,s=e.Node,l=e.instantiate,u=e.Component},function(e){v=e.EventCenter},function(e){p=e.default}],execute:function(){var f,y,P,b,d,g,h;a._RF.push({},"8fd23Lx78BJj7wfottyAsMl","PrivacyViewUi",void 0);var w=o.ccclass,m=o.property;e("PrivacyViewUi",(f=w("PrivacyViewUi"),y=m(c),P=m(s),f((g=t((d=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,r(t,"privacyPrefab",g,n(t)),r(t,"ovLabels",h,n(t)),t}i(t,e);var a=t.prototype;return a.showPrivacyView=function(){var e=l(this.privacyPrefab);e.parent=this.node,e.setPosition(0,0,0)},a.surePrivacy=function(){localStorage.setItem("akPrivacy","1"),v.Instance.TriggerEvent("AccetPrivacy"),this.node.active=!1},a.noPrivacy=function(){p.getInstance().exitApplication(),console.log("退出游戏")},a.closePrivacy=function(){this.node.active=!1},t}(u)).prototype,"privacyPrefab",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=t(d.prototype,"ovLabels",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=d))||b));a._RF.pop()}}}));

System.register("chunks:///_virtual/QQADApi.ts",["cc"],(function(n){"use strict";var t,o;return{setters:[function(n){t=n.cclegacy,o=n._decorator}],execute:function(){var e;t._RF.push({},"0e80byLubtFF6PrCBvYRYjR","QQADApi",void 0);var i=o.ccclass;o.property,n("default",i(e=function(){function n(){this.clipIndexList=void 0,this.videoPath=void 0,this.arg=void 0,this.SystemBannerData=null,this.SystemIntersData=null,this.VideoData=null,this.NativeBannerData=null,this.NativeIntersData=null,this.NativeIconData=null,this.JGGBoxData=null,this.BlockData=null,this.AdCustomIntersData=null,this.qq=window.qq,this.bannerAd=null,this._autoBannerClose=!1,this.interstitialAd=null,this.rewardedVideoAd=null,this.m_videoAdIsLoaded=!1,this.title="快来人啊大西瓜据点被攻占啦",this.shareUrl="https://micro.dragon.efunent.com/web5_jqm/CubeWarfare/qq/data/share.jpg",this.appBoxAd=null,this.systemInfo=null}var t=n.prototype;return t.setGroup=function(n){},t.onInit=function(n){null!==this.qq&&void 0!==this.qq?(this.qq.showShareMenu({showShareItems:["qq","qzone","wechatFriends","wechatMoment"]}),this.systemInfo=this.qq.getSystemInfoSync(),this.createVideo()):this.qq=null,n&&n(),console.log("qq ===================> onInit OK")},t.onLogin=function(){},t.onShare=function(n){null!=this.qq&&null!=this.qq&&(console.log("qq平台 分享"),this.qq.shareAppMessage({title:this.title,imageUrl:this.shareUrl,success:function(){n&&n(1)},fail:function(){n&&n(0)}}))},t.ShareVideo=function(n,t,o){},t.createBanner=function(){},t.showBanner=function(){var n=this;if(null!=this.SystemBannerData&&null!=this.SystemBannerData&&null!==this.qq&&void 0!==this.qq){this.hideBanner(!0),this._autoBannerClose=!1,console.log("qq平台 创建横幅广告");this.bannerAd=this.qq.createBannerAd({adUnitId:this.SystemBannerData.vendor_position,style:{top:0,left:0,height:168.75,width:300}}),this.bannerAd.onResize((function(t){n.bannerAd.style.top=n.systemInfo.windowHeight-t.height,n.bannerAd.style.left=(n.systemInfo.windowWidth-t.width)/2,n.bannerAd.show().then((function(){console.log("广告显示成功")})).catch((function(n){console.log("广告显示失败",JSON.stringify(n))}))})),this.bannerAd.onError((function(n){console.log("Banner ad error",JSON.stringify(n))}))}},t.hideBanner=function(n){console.log("qq平台 允许banner和插屏同时存在，不是必要可以不调用"),this.bannerAd&&(this.bannerAd.hide(),this.bannerAd.destroy())},t.createVideo=function(){var n=this;null!=this.VideoData&&null!=this.VideoData&&null!==this.qq&&void 0!==this.qq&&(this.rewardedVideoAd&&(this.rewardedVideoAd.destroy(),this.rewardedVideoAd=null),console.log("qq平台 创建激励视频广告"),this.rewardedVideoAd=this.qq.createRewardedVideoAd({adUnitId:this.VideoData.vendor_position}),this.rewardedVideoAd.onLoad((function(){console.log("激励视频广告 加载成功"),n.m_videoAdIsLoaded=!0})),this.rewardedVideoAd.onError((function(t){console.log("qqH5GameAPI 激励视频 加载失败:code =====>:"+t.code+"message ======>:"+JSON.stringify(t)),n.m_videoAdIsLoaded=!1})),this.rewardedVideoAd.load())},t.showVideo=function(n){var t=this;if(this.rewardedVideoAd&&this.m_videoAdIsLoaded){this.rewardedVideoAd.show();this.rewardedVideoAd.onClose((function o(e){e.isEnded?(console.log("激励视频广告完成，发放奖励"),n&&n(!0),t.rewardedVideoAd.load()):(console.log("激励视频广告取消关闭，不发放奖励"),n&&n(!1),t.rewardedVideoAd.load()),t.rewardedVideoAd.offClose(o)}))}else n&&n(!1),this.createVideo()},t.showVideoAward=function(){},t.showVideoFail=function(){},t.createInsertAd=function(){},t.showInsertAd=function(){},t.createNativeAd=function(){},t.showNativeAd=function(){},t.onNativeAdClick=function(n){},t.onNativeReportAdShow=function(n){},t.createNativeIconAd=function(){},t.showNativeIconAd=function(){},t.onNativeIconAdClick=function(n){},t.createGridAd=function(){},t.saveDataToCache=function(n,t){},t.readDataFromCache=function(n){},t.addDesktop=function(n){null!=this.qq&&null!=this.qq&&this.qq.saveAppToDesktop({success:function(t){0==t?n&&n(2):n&&n(1)},fail:function(t){n&&n(0)},complete:function(){n&&n(2)}})},t.hasShortcutInstalled=function(n){},t.StartRecorder=function(n){},t.stopRecordScreen=function(){},t.createMoreGamesBtn=function(){},t.showMoreGamesBtn=function(){},t.jumpToGame=function(n){},t.addColorBookmark=function(n){null!=this.qq&&null!=this.qq&&(console.log("qq 添加彩签"),this.qq.addColorSign({success:function(t){console.log("添加彩签成功 ",t),n&&n(1)},fail:function(t){console.log("添加彩签失败",t),n&&n(0)},complete:function(t){console.log("添加彩签 complete: ",t),n&&n(2)}}))},t.addSubscribeApp=function(n){null!=this.qq&&null!=this.qq&&(console.log("qq 添加订阅"),this.qq.subscribeAppMsg({subscribe:!0,success:function(t){console.log("qq 订阅成功"),n&&n(1)},fail:function(t){console.log("qq 订阅失败"),n&&n(0)}}))},t.vibrateShort=function(){null!=this.qq&&null!=this.qq&&this.qq.vibrateShort&&this.qq.vibrateShort()},t.vibrateLong=function(){null!=this.qq&&null!=this.qq&&this.qq.vibrateLong&&this.qq.vibrateLong()},t.reportAnalytics=function(n,t){},t.recordClipRecorder=function(n){},t.pauseGameVideo=function(){},t.resumeGameVideo=function(){},t.getNativeAdInfo=function(n){},t.getHWNativeAdInfo=function(n){},t.reportNativeImageClick=function(n){},t.reportNativeImageShow=function(n){},t.loadNativeImage=function(){},t.getNativeIconAdInfo=function(n){},t.reportNativeIconClick=function(n){},t.reportNativeIconShow=function(n){},t.loadNativeIcon=function(){},t.showNavigateBoxPortal=function(){},t.showNavigateBoxBanner=function(){},t.hideNavigateBoxBanner=function(){},t.phoneVibrate=function(n){},t.showCustomAd=function(){},t.hideCustomAd=function(){},t.showGridAd=function(){},t.hideGridAd=function(){},n}())||e);t._RF.pop()}}}));

System.register("chunks:///_virtual/RandomTools.ts",["cc"],(function(n){"use strict";var o;return{setters:[function(n){o=n.cclegacy}],execute:function(){o._RF.push({},"73bb63AIqZJ0Zc6JY2g+62m","RandomTools",void 0);n("RandomTools",function(){function n(){}return n.RandomArray=function(n){for(var o=[].concat(n),t=o.length,r=0;r<t;r++){var a,u=Math.floor(Math.random()*t);a=o[u],o[u]=o[r],o[r]=a}return o},n.RandomStringArray=function(n){for(var o=n.split(""),t=o.length,r=0;r<t;r++){var a,u=Math.floor(Math.random()*t);a=o[u],o[u]=o[r],o[r]=a}return o},n.RandomInt=function(n){return Math.floor(Math.random()*n)},n.RandomIntRegion=function(n,o){return Math.floor(Math.random()*(o-n+1))+n},n.RandomFloat=function(n,o){return Math.random()*(n-o)+o},n}());o._RF.pop()}}}));

System.register("chunks:///_virtual/RescueAIBlue.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AIBlue.ts","./Constants.ts","./RescueFriend.ts"],(function(e){"use strict";var t,n,c,o,s,u;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,c=e._decorator},function(e){o=e.AIBlue},function(e){s=e.Constants},function(e){u=e.RescueFriend}],execute:function(){var i;n._RF.push({},"9849acY6sNLObMi6Jlcz4MR","RescueAIBlue",void 0);var r=c.ccclass;c.property,e("RescueAIBlue",r("RescueAIBlue")(i=function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var c=n.prototype;return c.OnDetectBeginContact=function(t,n,c){var o=!0;n.tag==s.Collicer_Tag_Friend&&(o=n.getComponent(u).isBeRescued);o&&e.prototype.OnDetectBeginContact.call(this,t,n,c)},c.OnDetectEndContact=function(t,n,c){var o=!0;n.tag==s.Collicer_Tag_Friend&&(o=n.getComponent(u).isBeRescued);o&&e.prototype.OnDetectEndContact.call(this,t,n,c)},n}(o))||i);n._RF.pop()}}}));

System.register("chunks:///_virtual/RescueAIDreamFace.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AIDreamFace.ts","./Constants.ts","./RescueFriend.ts"],(function(e){"use strict";var t,n,c,r,s,o;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,c=e._decorator},function(e){r=e.AIDreamFace},function(e){s=e.Constants},function(e){o=e.RescueFriend}],execute:function(){var a;n._RF.push({},"f7336FixTRO4rx4v2vrDtD4","RescueAIDreamFace",void 0);var i=c.ccclass;c.property,e("RescueAIDreamFace",i("RescueAIDreamFace")(a=function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n.prototype.OnBeginContact=function(t,n,c){var r=!0;n.tag==s.Collicer_Tag_Friend&&(r=n.getComponent(o).isBeRescued);r&&e.prototype.OnBeginContact.call(this,t,n,c)},n}(r))||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/RescueAIGreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AIGreen.ts","./Constants.ts","./RescueFriend.ts"],(function(e){"use strict";var n,t,r,c,s,o;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,r=e._decorator},function(e){c=e.AIGreen},function(e){s=e.Constants},function(e){o=e.RescueFriend}],execute:function(){var i;t._RF.push({},"0d873NtZDVE9Jg7eLa2Z8j5","RescueAIGreen",void 0);var u=r.ccclass;r.property,e("RescueAIGreen",u("RescueAIGreen")(i=function(e){function t(){return e.apply(this,arguments)||this}return n(t,e),t.prototype.OnBeginContact=function(n,t,r){var c=!0;t.tag==s.Collicer_Tag_Friend&&(c=t.getComponent(o).isBeRescued);c&&e.prototype.OnBeginContact.call(this,n,t,r)},t}(c))||i);t._RF.pop()}}}));

System.register("chunks:///_virtual/RescueControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameDataManager.ts","./AdBridge.ts","./AssetManager.ts","./SoundManager.ts","./EventCenter.ts","./UIManager.ts","./LogUtil.ts","./PathPointUtil.ts","./RandomTools.ts","./VecTools.ts","./GameManager.ts","./BoostView.ts","./ReviveView.ts","./TrySkinView.ts","./AIObuga.ts","./AIOrange.ts","./Constants.ts","./PlayerController.ts","./FlashPlat.ts","./CharacterBaseInfo.ts","./FriendInfo.ts","./CollectTargetControl.ts","./CageControl.ts","./RescueAIBlue.ts","./RescueAIDreamFace.ts","./RescueAIGreen.ts","./RescueFriend.ts","./RescueView.ts"],(function(e){"use strict";var t,n,i,a,o,s,r,h,l,c,d,m,u,P,v,g,C,f,I,G,y,T,p,S,N,R,E,w,B,O,F,A,_,b,D,M,U,L,k,V,x,H;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e._decorator,a=e.director,o=e.sp,s=e.instantiate,r=e.Vec3,h=e.tween,l=e.Component},function(e){c=e.GameDataManager},function(e){d=e.AdBridge},function(e){m=e.AssetManager},function(e){u=e.SoundManager},function(e){P=e.EventCenter},function(e){v=e.UIManager,g=e.UITpye},function(e){C=e.LogUtil},function(e){f=e.PathPointUtil},function(e){I=e.RandomTools},function(e){G=e.Vec2To3,y=e.Vec3To2},function(e){T=e.GameManager},function(e){p=e.BoostView},function(e){S=e.ReviveView},function(e){N=e.TrySkinView},function(e){R=e.AIObuga},function(e){E=e.AIOrange},function(e){w=e.Constants},function(e){B=e.PlayerController},function(e){O=e.FlashPlat},function(e){F=e.SkinType,A=e.CharacterType,_=e.CharacterInfoHelper},function(e){b=e.FriendInfo},function(e){D=e.CollectTargetControl,M=e.CollectTargetType},function(e){U=e.CageControl},function(e){L=e.RescueAIBlue},function(e){k=e.RescueAIDreamFace},function(e){V=e.RescueAIGreen},function(e){x=e.RescueFriend},function(e){H=e.RescueView}],execute:function(){var j;n._RF.push({},"aadedReXKFAGbCXLrodnLCH","RescueControl",void 0);var X=i.ccclass;i.property,e("RescueControl",X("RescueControl")(j=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this).rescueView=void 0,t.joyStick=void 0,t.playerController=void 0,t.collectTargetControl=void 0,t.bluePathPointRootName="BluePathPointRoot",t.bluePathPointRoot=void 0,t.bluePathPoints=void 0,t.friendPathPointRootName="FriendPathPointRoot",t.friendPathPointRoot=void 0,t.friendPathPoints=void 0,t.obugaPathPointRootName="ObugaPathPointRoot",t.obugaPathPointRoot=void 0,t.obugaPathPoints=void 0,t.greenPathPointRootName="GreenPathPointRoot",t.greenPathPointRoot=void 0,t.greenPathPoints=void 0,t.targetItemPointNodeName="TargetItemPointNode",t.targetItemPointNode=void 0,t.targetItemPoints=void 0,t.bossPointNodeName="BossPointNode",t.bossPointNode=void 0,t.bossPointPoints=void 0,t.platCenterPos=void 0,t.platCenterNode=void 0,t.startHousePos=void 0,t.randomCreateFriendRadius=200,t.playerCollectNum=0,t.currentCollectNum=0,t.targetCollectNum=3,t.dropTargetNum=0,t.collectType=M.Box,t.isGameOver=!1,t.gameModeBase=void 0,t.userIconIndex=0,t.playerUserInfoIndex=0,t.readyTime=0,t.readyCountTime=0,t.gameTime=0,t.remainGameTime=0,t.gameOverCountTime=0,t.flashPlat=void 0,t.leftCollectEffSke=void 0,t.rightCollectEffSke=void 0,t.platCollectNode=void 0,t.collectIndex=0,t.rewardTimeUpNum=0,t.rewardReviveNum=0,t.cageControl=void 0,t.rescueFriendNum=0,t.levelInfo=void 0,t.isDispear=!1,t.aiBlue=void 0,t.shadowNode=void 0,t.tempShadow=void 0,t.userNameNode=void 0,t.tempLabel=void 0,t.allFriend=void 0,t}t(n,e);var i=n.prototype;return i.onEnable=function(){P.Instance.AddEventListener(w.Event_Game_FinishTarget,this.OnFinishTarget,this),P.Instance.AddEventListener(w.Event_Game_Exit,this.OnGameExit,this),P.Instance.AddEventListener(w.Event_Game_Victory,this.OnGameVictory,this),P.Instance.AddEventListener(w.Event_Game_Fail,this.OnGameFail,this),P.Instance.AddEventListener(w.Event_Player_GetMoreTime,this.OnGetMoreTime,this),P.Instance.AddEventListener(w.Event_Player_GetMoreTimeFail,this.OnGetMoreTimeFail,this),P.Instance.AddEventListener(w.Event_Player_BeCatch,this.OnPlayerBeCatch,this),P.Instance.AddEventListener(w.Event_Player_Revive,this.OnPlayerRevive,this),P.Instance.AddEventListener(w.Event_Player_TrySkin,this.OnPlayerTrySkin,this),P.Instance.AddEventListener(w.Event_Game_SetGameTime,this.OnGameSetGameTime,this),P.Instance.AddEventListener(w.Event_Game_RescueFriend,this.OnGameRescueFriend,this)},i.onDisable=function(){this.RemoveListener()},i.RemoveListener=function(){P.Instance.RemoveEventListener(w.Event_Game_FinishTarget,this.OnFinishTarget,this),P.Instance.RemoveEventListener(w.Event_Game_Exit,this.OnGameExit,this),P.Instance.RemoveEventListener(w.Event_Game_Victory,this.OnGameVictory,this),P.Instance.RemoveEventListener(w.Event_Game_Fail,this.OnGameFail,this),P.Instance.RemoveEventListener(w.Event_Player_GetMoreTime,this.OnGetMoreTime,this),P.Instance.RemoveEventListener(w.Event_Player_GetMoreTimeFail,this.OnGetMoreTimeFail,this),P.Instance.RemoveEventListener(w.Event_Player_BeCatch,this.OnPlayerBeCatch,this),P.Instance.RemoveEventListener(w.Event_Player_Revive,this.OnPlayerRevive,this),P.Instance.RemoveEventListener(w.Event_Player_TrySkin,this.OnPlayerTrySkin,this),P.Instance.RemoveEventListener(w.Event_Game_SetGameTime,this.OnGameSetGameTime,this),P.Instance.RemoveEventListener(w.Event_Game_RescueFriend,this.OnGameRescueFriend,this)},i.OnGameRescueFriend=function(e){this.rescueFriendNum++},i.OnGameSetGameTime=function(){this.SetGameTime(this.levelInfo.readyTime,this.levelInfo.readyCountTime,this.levelInfo.gameTime,this.levelInfo.gameOverCountTime,this.levelInfo.gameTime),this.scheduleOnce((function(){v.Instance.ShowUI(w.gameUIABName,w.boostViewAssetPath,p,g.Pop,!0,!1)}),.5)},i.OnPlayerTrySkin=function(){this.playerController&&this.playerController.ChangeSkin(F.SpiderMan)},i.OnGetMoreTime=function(){this.GetMoreTime(),a.resume(),v.Instance.HideUI(w.moreTimeViewAssetPath,!0,!0)},i.OnGetMoreTimeFail=function(){a.resume(),P.Instance.TriggerEvent(w.Event_Game_Fail),v.Instance.HideUI(w.moreTimeViewAssetPath,!0,!0)},i.OnPlayerBeCatch=function(){this.rewardReviveNum<w.rewardCanGetReviveNum?(v.Instance.ShowUI(w.gameUIABName,w.reviveTimeAssetPath,S,g.Normal,!0),this.rewardReviveNum++):P.Instance.TriggerEvent(w.Event_Game_Fail)},i.OnPlayerRevive=function(){this.playerController.OnPlayerRevive()},i.OnGameVictory=function(){this.CancelCountDownSchedule(),u.Instance.StopMusicBg(),this.gameModeBase.GameSuccess()},i.OnGameFail=function(){T.Instance.GetGameCamera().MoveToPlatform(this.aiBlue.node.worldPosition,null),this.CancelCountDownSchedule(),u.Instance.StopMusicBg(),this.gameModeBase.GameFail()},i.OnGameExit=function(){this.rescueView.node.active=!1,this.node.active=!1,v.Instance.HideUI(w.rescueViewAssetPath,!1,!0),T.Instance.GetGameCamera().StopFollow(),this.node.destroy(),this.gameModeBase.ExitGame()},i.OnFinishTarget=function(e,t){var n=this;(this.platCollectNode&&this.collectIndex<this.platCollectNode.children.length&&(this.platCollectNode.children[this.collectIndex++].active=!0),this.currentCollectNum+=t,this.flashPlat.FlashPlat(),"self"==e&&this.playerCollectNum++,P.Instance.TriggerEvent(w.Event_Game_UIRefreshCollectNum,this.currentCollectNum),this.currentCollectNum==this.targetCollectNum)&&(this.isGameOver||(this.isGameOver=!0,P.Instance.TriggerEvent(w.Event_Game_Victory,this.playerCollectNum),this.CancelCountDownSchedule(),T.Instance.GetGameCamera().MoveToPlatform(this.platCenterNode.worldPosition,(function(){n.ShowVictoryEffect()}))))},i.ShowVictoryEffect=function(){var e=this;u.Instance.PlaySounds(w.soundGoalComplete);var t=this.node.getChildByPath("PlatGQ");if(t){var n=t.getComponent(o.Skeleton);t.active=!0,n.setAnimation(2,"gq2",!1)}this.scheduleOnce((function(){var t=e.node.getChildByPath("PlatLZ");if(t){t.active=!0;var n=t.getComponent(o.Skeleton);t.setSiblingIndex(1e3),n.setAnimation(3,"lizi",!0)}}),2)},i.ShowCollectEffect=function(){(null==this.leftCollectEffSke||this.rightCollectEffSke)&&(this.leftCollectEffSke=this.node.getChildByPath("CollectEffectLeft").getComponent(o.Skeleton),this.rightCollectEffSke=this.node.getChildByPath("CollectEffectRight").getComponent(o.Skeleton)),this.leftCollectEffSke.node.setSiblingIndex(1e3),this.rightCollectEffSke.node.setSiblingIndex(1e3),this.leftCollectEffSke.setAnimation(1,"animation",!1),this.rightCollectEffSke.setAnimation(1,"animation",!1)},i.InitGame=function(e,t,n,i,a){var o;this.levelInfo=t,this.rewardReviveNum=0,this.rewardTimeUpNum=0,this.playerCollectNum=0,this.currentCollectNum=0,this.targetCollectNum=t.collectTargetNum,this.dropTargetNum=t.dropPackageNum,this.collectType=t.collectTargetType,this.cageControl=this.node.addComponent(U),this.cageControl.InitCage(),this.gameModeBase=e,this.InitStartHouse(),this.GetGamePointData(),this.CreateCollectItem(),this.SetGameUI(t),o=this.GetUserTargetSF(this.collectType),this.SetFriendData(t,n,o),this.SetPlayerData(n,i,a,o),this.SetGameBoss(t,n),this.collectIndex=0,v.Instance.ShowUI(w.gameUIABName,w.getSkinViewAssetPath,N,g.Pop,!0,!1),d.closeBannerNative(),this.CatchYourFriend()},i.GetUserTargetSF=function(e){var t="GameCollectTargetPic/"+e+"/spriteFrame";return m.Instance.GetAssets("GameAsset",t)},i.CreateCollectItem=function(){var e,t="CollectTargetPrefab/"+this.collectType;e=m.Instance.GetAssets("GameAsset",t),this.InitTargetItem(this.dropTargetNum,this.collectType,e)},i.SetGameUI=function(e){this.rescueView=v.Instance.ShowUI(w.gameUIABName,w.rescueViewAssetPath,H),this.joyStick=this.rescueView.GetJoyStick(),this.rescueView.InitGameUI(e)},i.SetGameTime=function(e,t,n,i,a){var o=this;this.readyTime=e,this.readyCountTime=t,this.gameTime=n,this.gameOverCountTime=i,this.remainGameTime=parseInt(a),this.schedule((function(){o.readyTime--,P.Instance.TriggerEvent(w.Event_Game_ReadyCountDown,o.readyTime,o.readyCountTime),0==o.readyTime&&(o.OpenTheDoor(1),P.Instance.TriggerEvent(w.Event_Game_Start),d.OnSurviveModeStart(),o.StarGameCountDown(o.gameTime)),o.readyTime<o.readyCountTime&&o.DispearTarget()}),1,this.readyTime)},i.StarGameCountDown=function(e){this.schedule(this.RemainCount,1,e)},i.RemainCount=function(){this.remainGameTime--,P.Instance.TriggerEvent(w.Event_Game_CountTime,this.remainGameTime,this.gameOverCountTime),0==this.remainGameTime&&(this.rewardTimeUpNum<w.rewardCanGetTimeUpNum?(P.Instance.TriggerEvent(w.Event_Game_TimeUp),this.rewardTimeUpNum++):P.Instance.TriggerEvent(w.Event_Game_Fail,1))},i.CancelCountDownSchedule=function(){this.unschedule(this.RemainCount),this.unschedule(this.StarGameCountDown)},i.GetMoreTime=function(){this.CancelCountDownSchedule(),this.remainGameTime=this.remainGameTime+w.getMoreTimeValue,this.readyTime>0?this.remainGameTime=this.remainGameTime-1:this.StarGameCountDown(this.remainGameTime)},i.DispearTarget=function(){if(!this.isDispear){this.isDispear=!0,this.platCollectNode=this.node.getChildByPath("PlatCollect");for(var e=0;e<this.platCollectNode.children.length;e++)this.platCollectNode.children[e].active=!1}},i.SetGameBoss=function(e,t){switch(e.levelIndex){case 1:this.SetBlueData(t);break;case 2:this.SetObugaData(t),this.SetBlueData(t);break;case 3:this.SetObugaData(t),this.SetBlueData(t),this.SetGreenData(t);break;case 4:case 5:this.SetObugaData(t),this.SetBlueData(t),this.SetGreenData(t),this.SetDreamFaceData(t)}},i.SetPlayerData=function(e,t,n,i){var a=e.filter((function(e){return e.characterType==A.Player}));if(a&&a.length>0){var o=a[0].patrolMoveSpeed,s=m.Instance.GetAssets("GameAsset","Character/Player");this.InitPlayer(o,t,n,s,i),this.InitGameCamera(this.playerController.node)}},i.SetFriendData=function(e,t,n){var i=t.filter((function(e){return e.characterType==A.TeamMate}));if(i&&i.length>0){var a=e.teammatesNum,o=i[0].patrolMoveSpeed,s=i[0].chaseMoveSpeed,r=i[0].aiCalcInterval,h=m.Instance.GetAssets("GameAsset","Character/Friend");this.InitFriends(a,h,n,o,s,r)}},i.SetBlueData=function(e){var t=e.filter((function(e){return e.characterType==A.BlueBoss}));if(t&&t.length>0){var n=m.Instance.GetAssets("GameAsset","Character/BlueMonster");this.InitBlue(n,t[0].detectArea,t[0].chaseMoveSpeed,t[0].patrolMoveSpeed,t[0].aiCalcInterval)}},i.SetObugaData=function(e){var t=e.filter((function(e){return e.characterType==A.ObungaBoss}));if(t&&t.length>0){var n=m.Instance.GetAssets("GameAsset","Character/Obuga");if(this.obugaPathPoints&&this.obugaPathPoints.length>0)for(var i=0;i<this.obugaPathPoints.length;i++){var a=s(n),o=a.addComponent(R);this.node.addChild(a),o.InitObuga(t[0].detectArea,G(this.obugaPathPoints[i]))}}},i.SetGreenData=function(e){var t=e.filter((function(e){return e.characterType==A.GreenBoss}));if(t&&t.length>0){var n=m.Instance.GetAssets("GameAsset","Character/GreenMonster");if(this.greenPathPoints&&this.greenPathPoints.length>0){var i=s(n),a=i.addComponent(V);this.node.addChild(i),a.InitGreen(this.greenPathPoints,t[0].patrolMoveSpeed)}}},i.SetDreamFaceData=function(e){var t=e.filter((function(e){return e.characterType==A.DreamFace}));if(t&&t.length>0){var n=m.Instance.GetAssets("GameAsset","Character/DreamFace");if(this.greenPathPoints&&this.greenPathPoints.length>0){var i=s(n),a=i.addComponent(k);this.node.addChild(i),a.InitGreen(this.greenPathPoints,t[0].patrolMoveSpeed)}}},i.SetOrangeData=function(e){var t=e.filter((function(e){return e.characterType==A.OrangeBoss}));if(t&&t.length>0){var n=m.Instance.GetAssets("GameAsset","Character/Orange");if(this.greenPathPoints&&this.greenPathPoints.length>0){var i=s(n),a=i.addComponent(E);this.node.addChild(i),a.InitOrange(this.greenPathPoints,t[0].detectArea,t[0].chaseMoveSpeed,t[0].patrolMoveSpeed,t[0].aiCalcInterval)}}},i.InitStartHouse=function(){this.startHousePos=this.node.getChildByPath("StartHouse").worldPosition,this.platCenterNode=this.node.getChildByPath("StartHouse/PlatCenter"),null!=this.platCenterNode&&null!=this.platCenterNode?(this.flashPlat=this.platCenterNode.addComponent(O),this.platCenterPos=y(this.platCenterNode.worldPosition)):C.Error("platcenter node not find!")},i.OpenTheDoor=function(e){u.Instance.PlaySounds(w.soundOpenDoor);var t=this.node.getChildByPath("StartHouse/DoorRight"),n=this.node.getChildByPath("StartHouse/DoorLeft"),i=this.node.getChildByPath("StartHouse/DoorCenter"),a=new r(t.worldPosition.x,t.worldPosition.y+220,0);this.scheduleOnce((function(){h(t).to(e,{worldPosition:a}).call((function(){t.active=!1})).start()}),.1);var o=new r(n.worldPosition.x,n.worldPosition.y+220,0);this.scheduleOnce((function(){h(n).to(e,{worldPosition:o}).call((function(){t.active=!1})).start()}),.2);var s=new r(i.worldPosition.x-230,i.worldPosition.y,0);this.scheduleOnce((function(){h(i).to(e,{worldPosition:s}).call((function(){t.active=!1})).start()}),.3)},i.InitPlayer=function(e,t,n,i,a){var o=_.Instance().GetSkinStr(t);this.playerUserInfoIndex=this.userIconIndex,this.rescueView.RefreshUserIcon(this.playerUserInfoIndex,o);var r=s(i);if(this.node.getChildByPath("FriendNode").addChild(r),this.playerController=r.addComponent(B),this.playerController){var h=this.GetShadowUnuseNode();this.playerController.InitPlayer(this.joyStick,e,t,n,a,h,this.collectTargetControl,this.platCenterPos)}this.playerController.node.worldPosition=this.startHousePos},i.InitBlue=function(e,t,n,i,a){var o=s(e);this.aiBlue=o.addComponent(L),this.node.addChild(o),this.aiBlue.InitBlue(this.bluePathPoints,t,n,i,a)},i.InitFriends=function(e,t,n,i,a,o){void 0===i&&(i=300),void 0===a&&(a=50),void 0===o&&(o=100);var h=t,l=c.Instance.GetUserName(e);if(!(l.length<e)){var d=this.node.getChildByPath("FriendNode");this.allFriend=[];for(var m=0;m<e;m++){var u=s(h),P=u.addComponent(x);d.addChild(u);var v=I.RandomInt(_.skinType.length);this.allFriend.push(P);var g=I.RandomInt(_.Instance().hideAniType.length),C=new b(m,l[m],v,g,i,a,o),f=_.Instance().GetSkinStr(v);this.rescueView.RefreshUserIcon(this.userIconIndex++,f);var G=this.GetShadowUnuseNode(),y=this.GetUnuseUserNameLabel();P.InitAIFriend(C,this.platCenterPos,this.platCenterPos,this.friendPathPoints,this.collectTargetControl,n,G,y);var T=I.RandomInt(this.randomCreateFriendRadius)*Math.random();u.worldPosition=new r(this.startHousePos.x+T,this.startHousePos.y+T,0)}}},i.InitTargetItem=function(e,t,n){this.collectTargetControl=this.node.addComponent(D),this.collectTargetControl.InitCollectItem(this.targetItemPoints,e,t,n)},i.InitGameCamera=function(e){T.Instance.GetGameCamera().InitGameCam(e)},i.GetShadowUnuseNode=function(){null!=this.shadowNode&&null!=this.shadowNode||(this.shadowNode=this.node.getChildByPath("ShadowNode"),this.tempShadow=this.shadowNode.getChildByPath("Shadow"));var e=s(this.tempShadow);return this.shadowNode.addChild(e),e},i.GetUnuseUserNameLabel=function(){null!=this.userNameNode&&null!=this.userNameNode||(this.userNameNode=this.node.getChildByPath("UserNameNode"),this.tempLabel=this.userNameNode.getChildByPath("Label"));var e=s(this.tempLabel);return this.userNameNode.addChild(e),e},i.FindPathPointRootNode=function(){this.bluePathPointRoot=this.node.getChildByPath(this.bluePathPointRootName),this.obugaPathPointRoot=this.node.getChildByPath(this.obugaPathPointRootName),this.greenPathPointRoot=this.node.getChildByPath(this.greenPathPointRootName),this.friendPathPointRoot=this.node.getChildByPath(this.friendPathPointRootName),this.targetItemPointNode=this.node.getChildByPath(this.targetItemPointNodeName),this.bossPointNode=this.node.getChildByPath(this.bossPointNodeName)},i.GetGamePointData=function(){this.FindPathPointRootNode(),this.bluePathPoints=[],f.GetPointPath(this.bluePathPointRoot,this.bluePathPoints),this.obugaPathPoints=[],f.GetPointPath(this.obugaPathPointRoot,this.obugaPathPoints),this.greenPathPoints=[],f.GetPointPath(this.greenPathPointRoot,this.greenPathPoints),this.friendPathPoints=[],f.GetPointPath(this.friendPathPointRoot,this.friendPathPoints),this.targetItemPoints=[],f.GetPointPath(this.targetItemPointNode,this.targetItemPoints),this.bossPointPoints=[],f.GetPointPath(this.bossPointNode,this.bossPointPoints)},i.CatchYourFriend=function(){var e=[],t=this.node.getChildByPath("RescuePoint");f.GetPointPath(t,e);for(var n=I.RandomArray(e),i=0;i<this.allFriend.length;i++)this.allFriend[i].OnBeCatchOut(n[i].x,n[i].y,i),this.cageControl.SetOneCageItemPos(n[i].x,n[i].y,this.allFriend[i])},n}(l))||j);n._RF.pop()}}}));

System.register("chunks:///_virtual/RescueFriend.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventCenter.ts","./AIFriend.ts","./FriendAni.ts","./Constants.ts"],(function(e){"use strict";var t,n,i,s,r,a,c,o;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e._decorator,s=e.Vec3},function(e){r=e.EventCenter},function(e){a=e.AIFriend},function(e){c=e.FriendStatus},function(e){o=e.Constants}],execute:function(){var h;n._RF.push({},"5ad736J5xpCSbjtyEEMGMjs","RescueFriend",void 0);var u=i.ccclass;i.property,e("RescueFriend",u("RescueFriend")(h=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))||this).isBeRescued=!1,t}t(n,e);var i=n.prototype;return i.onEnable=function(){r.Instance.AddEventListener(o.Event_Game_Victory,this.OnGameVictory,this),r.Instance.AddEventListener(o.Event_Game_Fail,this.OnGameFail,this),r.Instance.AddEventListener(o.Event_Game_FirendFail,this.OnGameFirendFail,this),r.Instance.AddEventListener(o.Event_Game_TimeUp,this.OnGameTimeUp,this),r.Instance.AddEventListener(o.Event_Player_GetMoreTime,this.OnGetMoreTime,this)},i.onDisable=function(){r.Instance.RemoveEventListener(o.Event_Game_Victory,this.OnGameVictory,this),r.Instance.RemoveEventListener(o.Event_Game_Fail,this.OnGameFail,this),r.Instance.RemoveEventListener(o.Event_Game_FirendFail,this.OnGameFirendFail,this),r.Instance.RemoveEventListener(o.Event_Game_TimeUp,this.OnGameTimeUp,this),r.Instance.RemoveEventListener(o.Event_Player_GetMoreTime,this.OnGetMoreTime,this)},i.OnGetMoreTime=function(){this.isBeRescued&&e.prototype.OnGetMoreTime.call(this)},i.DetectMonster=function(t){this.isBeRescued&&e.prototype.DetectMonster.call(this,t)},i.OnBeRescue=function(){this.isBeRescued||(this.isBeRescued=!0,this.isGameOver=!1,this.StartAIExplorePath())},i.OnBeCatchOut=function(e,t,n){var i=this;this.scheduleOnce((function(){i.node.worldPosition=new s(e,t,0),i.isGameOver=!0,i.StopNoise(),i.friendAni.ChangeFriendAniStatus(c.HelpMe),r.Instance.TriggerEvent(o.Event_Game_BeCatchFriend,i.GetFriendInfo())}),.3*n)},n}(a))||h);n._RF.pop()}}}));

System.register("chunks:///_virtual/RescueMode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UserDataManager.ts","./AdBridge.ts","./AssetManager.ts","./SoundManager.ts","./UIManager.ts","./GameManager.ts","./HomeView.ts","./LoadingView.ts","./AIPathManager.ts","./Constants.ts","./GameModeBase.ts","./RescueControl.ts","./RescueModeResources.ts"],(function(e){"use strict";var n,t,a,o,s,i,r,c,u,d,l,f,g,m,h,M,I;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,a=e._decorator,o=e.instantiate},function(e){s=e.UserDataManager},function(e){i=e.AdBridge},function(e){r=e.AssetManager},function(e){c=e.SoundManager},function(e){u=e.UIManager},function(e){d=e.GameManager},function(e){l=e.HomeView},function(e){f=e.LoadingView},function(e){g=e.AIPathManager},function(e){m=e.Constants},function(e){h=e.GameModeBase},function(e){M=e.RescueControl},function(e){I=e.RescueModeResources}],execute:function(){var v;t._RF.push({},"f4ab747dfZDqabvA91EhbgW","RescueMode",void 0);var A=a.ccclass;a.property,e("RescueMode",A("RescueMode")(v=function(e){function t(){for(var n,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(n=e.call.apply(e,[this].concat(a))||this).abstractResourceControl=void 0,n.survivalModeInfo=void 0,n.gameABName="RescueAsset",n.mapPath="Map/Map",n}n(t,e);var a=t.prototype;return a.InitGame=function(){for(var e=this,n=arguments.length,t=new Array(n),a=0;a<n;a++)t[a]=arguments[a];var s=t[0];this.survivalModeInfo=t[1],this.abstractResourceControl=new I;var i=u.Instance.ShowUI(m.loadingABName,m.loadingAssetPath,f);this.abstractResourceControl.PreLoadAssetBundle(this.LoadProgress.bind(this),(function(){setTimeout((function(){var n=r.Instance.GetAssets(e.gameABName,e.mapPath),a=d.Instance.GetGameRoot(),u=o(n);a.addChild(u),u.addComponent(M).InitGame(e,e.survivalModeInfo,s,t[2],t[3]),i.Hide(),c.Instance.PlayMusicBg(m.musicGameBg)}),m.loadingintoGameDelayTime)}))},a.LoadProgress=function(e,n){u.Instance.ShowUI(m.loadingABName,m.loadingAssetPath,f).UpdateProgress(e/n)},a.LoadCompleteCallBack=function(){},a.StartGame=function(){},a.GameSuccess=function(){s.Instance.SetResultNum(this.survivalModeInfo.levelIndex,!0)},a.GameFail=function(){s.Instance.SetResultNum(this.survivalModeInfo.levelIndex,!1)},a.ExitGame=function(){g.Instance.ClearTask(),setTimeout((function(){u.Instance.ShowUI(m.loadingABName,m.loadingAssetPath,f).SetLoadingInterver(3,(function(){u.Instance.ShowUI(m.homeABName,m.homePanelAssetPath,l)}))}),.1),i.ExitGame()},t}(h))||v);t._RF.pop()}}}));

System.register("chunks:///_virtual/RescueModeResources.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AbstractResourceControl.ts"],(function(e){"use strict";var r,o,u,s,n,a,t;return{setters:[function(e){r=e.inheritsLoose},function(e){o=e.cclegacy,u=e._decorator,s=e.Prefab,n=e.AudioClip,a=e.SpriteFrame},function(e){t=e.AbstractResourceControl}],execute:function(){var c;o._RF.push({},"4a55c2T+j5DXJphzErRR5fA","RescueModeResources",void 0);var i=u.ccclass;u.property,e("RescueModeResources",i("RescueModeResources")(c=function(e){function o(){for(var r,o=arguments.length,u=new Array(o),t=0;t<o;t++)u[t]=arguments[t];return(r=e.call.apply(e,[this].concat(u))||this).resPkg={GameUI:[{assetType:s,urls:[,"Prefabs/RescueView","Prefabs/RescueResultView","Prefabs/GetMoreTimeView","Prefabs/BoostView","Prefabs/GetSkinView","Prefabs/ReviveTime"]}],Audio:[{assetType:n,urls:["Music/GameBG","Sound/UnLock","Sound/Speak1","Sound/Speak2","Sound/Speak3","Sound/WarningTime","Sound/OpenDoor","Sound/PickItem","Sound/Punch1","Sound/Punch2","Sound/Punch3","Sound/Punch4","Sound/GoalComplete","Sound/Win","Sound/Lose","Sound/ScareBlue","Sound/ScareDreamFace","Sound/ScareGreen","Sound/ScareObunga","Sound/Help1","Sound/Help2","Sound/Help3","Sound/Behit1","Sound/Behit2","Sound/Behit3","Sound/Behit4"]}],RescueAsset:[{assetType:s,urls:["Map/Map"]}],GameAsset:[{assetType:s,urls:[,"Character/BlueMonster","Character/Friend","Character/Player","Character/GreenMonster","Character/DreamFace","CollectTargetPrefab/CoinBox"]},{assetType:a,urls:[,"GameCollectTargetPic/CoinBox/spriteFrame"]}]},r}return r(o,e),o}(t))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/RescueResultView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UserDataManager.ts","./AdBridge.ts","./SoundManager.ts","./EventCenter.ts","./FlyEffectManager.ts","./TipManager.ts","./UIBase.ts","./UIManager.ts","./Vibrate.ts","./SliderAni.ts","./Constants.ts"],(function(e){"use strict";var n,i,t,s,o,a,l,r,u,c,d,h,m,N,C,f;return{setters:[function(e){n=e.inheritsLoose},function(e){i=e.cclegacy,t=e._decorator,s=e.Label,o=e.Input},function(e){a=e.UserDataManager},function(e){l=e.AdBridge},function(e){r=e.SoundManager},function(e){u=e.EventCenter},function(e){c=e.FlyEffectManager},function(e){d=e.TipManager},function(e){h=e.UIBase},function(e){m=e.UIManager},function(e){N=e.Vibrate},function(e){C=e.SliderAni},function(e){f=e.Constants}],execute:function(){var R;i._RF.push({},"616ceUPic9CLKYCPfR/+Lj+","RescueResultView",void 0);var w=t.ccclass;t.property,e("RescueResultView",w("RescueResultView")(R=function(e){function i(){for(var n,i=arguments.length,t=new Array(i),s=0;s<i;s++)t[s]=arguments[s];return(n=e.call.apply(e,[this].concat(t))||this).arrowNode=void 0,n.coinNumLabel=void 0,n.rewardLable=void 0,n.currentRewardTimes=1,n.sliderAni=void 0,n.flyStartPointNode=void 0,n.flyCoinPointNode=void 0,n.flyDiamondPointNode=void 0,n.allCoinNumLabel=void 0,n.allDiamondNumLabel=void 0,n.isGetResultReward=!1,n.rescueLable=void 0,n.coinBoxNumLabel=void 0,n.boxCoinNumTipLabel=void 0,n.successRewardCoinNum=0,n.rescueNum=0,n.collectCoinBoxNum=0,n}n(i,e);var t=i.prototype;return t.onLoad=function(){e.prototype.onLoad.call(this),this.FindChild()},t.FindChild=function(){this.arrowNode=this.allNodes.Arrow,this.coinNumLabel=this.allNodes.CoinNum.getComponent(s),this.rewardLable=this.allNodes["GetRewardBtn/RewardLable"].getComponent(s),this.AddBtnListener("GetRewardBtn",this,this.OnClickVictoryReward),this.sliderAni=this.arrowNode.addComponent(C),this.sliderAni.InitSlider(this.OnSliderEvent.bind(this)),this.allNodes.HomeBtn.on(o.EventType.TOUCH_END,this.OnClickHomeBtn,this),this.flyStartPointNode=this.allNodes.GetRewardBtn,this.flyCoinPointNode=this.allNodes["CoinUI/CoinImg"],this.flyDiamondPointNode=this.allNodes["RubyUI/Ruby"],this.allCoinNumLabel=this.allNodes["CoinUI/CoinNum"].getComponent(s),this.allDiamondNumLabel=this.allNodes["RubyUI/RubyNum"].getComponent(s),this.rescueLable=this.allNodes.RescueLable.getComponent(s),this.coinBoxNumLabel=this.allNodes.CoinBoxNumLabel.getComponent(s),this.boxCoinNumTipLabel=this.allNodes.BoxCoinNumTip.getComponent(s),this.AddBtnListener("BackHomeBtn",this,this.OnBackHomeBtn)},t.OnBackHomeBtn=function(){r.Instance.PlaySounds(f.soundBtnClick),this.isGetResultReward||(a.Instance.AddCoinNum(this.successRewardCoinNum),d.Instance.ShowTip("恭喜获得 "+this.successRewardCoinNum+" 金币!")),m.Instance.HideUI(f.rescueResultViewAssetPath,!1,!0),u.Instance.TriggerEvent(f.Event_Game_Exit)},t.onEnable=function(){u.Instance.AddEventListener(f.Event_Game_UIRefreshCoinDiaomond,this.OnUIRefreshCoinDiaomond,this)},t.onDisable=function(){u.Instance.RemoveEventListener(f.Event_Game_UIRefreshCoinDiaomond,this.OnUIRefreshCoinDiaomond,this)},t.OnShow=function(){this.rescueNum=arguments.length<=0?void 0:arguments[0],this.collectCoinBoxNum=arguments.length<=1?void 0:arguments[1],this.successRewardCoinNum=50*this.collectCoinBoxNum,this.ShowVictoryPanel(this.successRewardCoinNum,this.rescueNum),l.OnRescueModeShow()},t.ShowVictoryPanel=function(e,n){r.Instance.PlaySounds(f.soundWin),this.RefreshAllCoinNum(),this.RefreshAllDiamondNum(),this.coinNumLabel.string=e+"",this.rescueLable.string="解救任务 ("+n+"/9)",this.coinBoxNumLabel.string="搬宝箱  ("+this.collectCoinBoxNum+"/8)",this.boxCoinNumTipLabel.string="金币(50 x"+this.collectCoinBoxNum+" )"},t.OnSliderEvent=function(e){this.currentRewardTimes=e,this.rewardLable&&(this.rewardLable.string="获得 "+this.successRewardCoinNum*e,N.VibrateShort())},t.OnClickHomeBtn=function(){r.Instance.PlaySounds(f.soundBtnClick),this.isGetResultReward||a.Instance.AddCoinNum(this.successRewardCoinNum),m.Instance.HideUI(f.rescueResultViewAssetPath,!1,!0),u.Instance.TriggerEvent(f.Event_Game_Exit),d.Instance.ShowTip("恭喜获得 "+this.successRewardCoinNum+" 金币!")},t.OnClickVictoryReward=function(){var e=this;if(r.Instance.PlaySounds(f.soundBtnClick),this.sliderAni.PauseAni(),0!=this.successRewardCoinNum){var n=this.currentRewardTimes*this.successRewardCoinNum;l.ShowRewardVideo((function(){e.isGetResultReward=!0,r.Instance.PlaySounds(f.soundUnlockSuccess),a.Instance.AddCoinNum(n),c.Instance.FlyEffect(e.flyStartPointNode.worldPosition,e.flyCoinPointNode.worldPosition,n,!0,(function(){e.RefreshAllCoinNum(),e.scheduleOnce((function(){m.Instance.HideUI(f.rescueResultViewAssetPath,!1,!0),u.Instance.TriggerEvent(f.Event_Game_Exit)}),.5)}))}))}else d.Instance.ShowTip("无奖励，不能观看激励!")},t.OnUIRefreshCoinDiaomond=function(){this.RefreshAllCoinNum(),this.RefreshAllDiamondNum()},t.RefreshAllCoinNum=function(){var e=a.Instance.GetCoinNum();this.allCoinNumLabel&&(this.allCoinNumLabel.string=e+"")},t.RefreshAllDiamondNum=function(){var e=a.Instance.GetDiamondNum();this.allDiamondNumLabel&&(this.allDiamondNumLabel.string=e+"")},i}(h))||R);i._RF.pop()}}}));

System.register("chunks:///_virtual/RescueView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AdBridge.ts","./SoundManager.ts","./EventCenter.ts","./JoyStick.ts","./UIBase.ts","./UIManager.ts","./RandomTools.ts","./Vibrate.ts","./MoreTimeView.ts","./SettingView.ts","./Constants.ts","./RescueResultView.ts"],(function(e){"use strict";var t,i,n,s,a,o,r,h,l,c,m,d,u,v,f,T,I,p,g,U,G,N,R,L;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy,n=e._decorator,s=e.Label,a=e.Sprite,o=e.Vec3,r=e.tween,h=e.director,l=e.instantiate,c=e.Color,m=e.Tween},function(e){d=e.AdBridge},function(e){u=e.SoundManager},function(e){v=e.EventCenter},function(e){f=e.JoyStick},function(e){T=e.UIBase},function(e){I=e.UIManager,p=e.UITpye},function(e){g=e.RandomTools},function(e){U=e.Vibrate},function(e){G=e.MoreTimeView},function(e){N=e.SettingView},function(e){R=e.Constants},function(e){L=e.RescueResultView}],execute:function(){var C;i._RF.push({},"7b516ryoVVJhZjYYkTfBSCj","RescueView",void 0);var O=n.ccclass;n.property,e("RescueView",O("RescueView")(C=function(e){function i(){for(var t,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(t=e.call.apply(e,[this].concat(n))||this).joyStick=void 0,t.startTimeNode=void 0,t.startTimeLable=void 0,t.findTargetNode=void 0,t.timeNode=void 0,t.timeLable=void 0,t.gameTipNode=void 0,t.gameTipLabel=void 0,t.gameTipArr=void 0,t.isFinishGameTipTween=!0,t.userPicInfoPanel=void 0,t.tempUserInfo=void 0,t.userTextInfoPanel=void 0,t.tempUserInfoLabel=void 0,t.allUserPicSprite=void 0,t.allUserFailNode=void 0,t.allUserLockNode=void 0,t.allUserLabel=void 0,t.userPicAvatarAtlas=void 0,t.uiCollectTargetAtlas=void 0,t.timeUpNode=void 0,t.isGameOver=!1,t.victoryDelayShowTime=6,t.failDelayShowTime=2,t.levelInfo=void 0,t.isGetResultReward=!1,t.collectedNum=0,t.targetCollectNum=void 0,t.successRewardCoinNum=0,t.rescueNumLabel=void 0,t.coinBoxNumLabel=void 0,t.rescueNum=0,t.collectCoinBoxNum=0,t}t(i,e);var n=i.prototype;return n.onLoad=function(){e.prototype.onLoad.call(this),this.FindChild()},n.FindChild=function(){this.AddBtnListener("HideBtn",this,this.OnClickHideBtn),this.AddBtnListener("SettingBtn",this,this.OnClickSettingBtn),this.startTimeNode=this.allNodes["TimePanel/StartTime"],this.startTimeLable=this.allNodes["TimePanel/StartTime/Label"].getComponent(s),this.findTargetNode=this.allNodes["TimePanel/FindTarget"],this.timeNode=this.allNodes.TimeBg,this.timeLable=this.allNodes.Time.getComponent(s),this.gameTipNode=this.allNodes.GameTip,this.gameTipLabel=this.allNodes["GameTip/Label"].getComponent(s),this.userPicInfoPanel=this.allNodes.UserPicInfoPanel,this.tempUserInfo=this.allNodes["UserPicInfoPanel/UserInfo"],this.userTextInfoPanel=this.allNodes.UserTextInfoPanel,this.tempUserInfoLabel=this.allNodes["UserTextInfoPanel/UserInfoLabel"],this.userPicAvatarAtlas=this.tempUserInfo.getComponent(a).spriteAtlas,this.timeUpNode=this.allNodes.TimeUp,this.rescueNumLabel=this.allNodes.RescueNum.getComponent(s),this.coinBoxNumLabel=this.allNodes.CoinBoxNum.getComponent(s)},n.onEnable=function(){v.Instance.AddEventListener(R.Event_Game_ReadyCountDown,this.OnGameReadyCountDown,this),v.Instance.AddEventListener(R.Event_Game_CountTime,this.OnGameCountTime,this),v.Instance.AddEventListener(R.Event_Game_Start,this.OnGameStart,this),v.Instance.AddEventListener(R.Event_Game_Victory,this.OnGameVictory,this),v.Instance.AddEventListener(R.Event_Game_Fail,this.OnGameFail,this),v.Instance.AddEventListener(R.Event_Game_TimeUp,this.OnGameTimeUp,this),v.Instance.AddEventListener(R.Event_Game_HandTarget,this.OnGameHandTarget,this),v.Instance.AddEventListener(R.Event_Game_HandTargetOut,this.OnGameHandTargetOut,this),v.Instance.AddEventListener(R.Event_Game_FinishTarget,this.OnGameFinishTarget,this),v.Instance.AddEventListener(R.Event_Game_FirendFail,this.OnGameFirendFail,this),v.Instance.AddEventListener(R.Event_Game_RescueFriend,this.OnRescueFriend,this),v.Instance.AddEventListener(R.Event_Game_BeCatchFriend,this.OnBeCatchFriend,this)},n.onDisable=function(){this.RemoveListener()},n.onDestroy=function(){this.RemoveListener()},n.RemoveListener=function(){v.Instance.RemoveEventListener(R.Event_Game_ReadyCountDown,this.OnGameReadyCountDown,this),v.Instance.RemoveEventListener(R.Event_Game_CountTime,this.OnGameCountTime,this),v.Instance.RemoveEventListener(R.Event_Game_Start,this.OnGameStart,this),v.Instance.RemoveEventListener(R.Event_Game_Victory,this.OnGameVictory,this),v.Instance.RemoveEventListener(R.Event_Game_Fail,this.OnGameFail,this),v.Instance.RemoveEventListener(R.Event_Game_TimeUp,this.OnGameTimeUp,this),v.Instance.RemoveEventListener(R.Event_Game_HandTarget,this.OnGameHandTarget,this),v.Instance.RemoveEventListener(R.Event_Game_HandTargetOut,this.OnGameHandTargetOut,this),v.Instance.RemoveEventListener(R.Event_Game_FinishTarget,this.OnGameFinishTarget,this),v.Instance.RemoveEventListener(R.Event_Game_FirendFail,this.OnGameFirendFail,this),v.Instance.RemoveEventListener(R.Event_Game_RescueFriend,this.OnRescueFriend,this),v.Instance.RemoveEventListener(R.Event_Game_BeCatchFriend,this.OnBeCatchFriend,this)},n.ShowFaiCharacter=function(){this.levelInfo.levelIndex},n.OnGameReadyCountDown=function(e,t){this.RefreshGameReadyCountDown(e,t)},n.TimeFormat=function(e){return"0".repeat(2-String(Math.floor(e/60)).length)+Math.floor(e/60)+":"+"0".repeat(2-String(Math.floor(e%60)).length)+Math.floor(e%60)},n.OnGameCountTime=function(e,t){var i,n=e<t;i=e<=0?"00:00":this.TimeFormat(e),this.RefreshGameTimeCountDown(i,n)},n.OnGameStart=function(){var e=this;this.isGameOver=!1,I.Instance.HideUI(R.boostViewAssetPath,!0,!0),this.scheduleOnce((function(){e.startTimeNode.active=!1,e.findTargetNode.active=!1,e.timeNode.active=!0,e.timeLable.node.active=!0}),1)},n.OnGameVictory=function(e){var t=this;this.isGameOver||(this.isGameOver=!0,this.scheduleOnce((function(){t.successRewardCoinNum=e*R.collectBoxRewardCoinNum+t.levelInfo.successGetCoinNum,I.Instance.ShowUI(R.gameUIABName,R.rescueResultViewAssetPath,L,p.Normal,!0,t.rescueNum,t.collectCoinBoxNum)}),this.victoryDelayShowTime))},n.OnGameFail=function(){this.isGameOver||(this.isGameOver=!0,this.ShowFailPanel(),this.ShowFaiCharacter())},n.OnGameTimeUp=function(){var e=this;this.timeUpNode.scale=o.ZERO,this.timeUpNode.active=!0,r(this.timeUpNode).delay(this.failDelayShowTime).call((function(){e.timeUpNode.active=!1,I.Instance.ShowUI(R.gameUIABName,R.moreTimeViewAssetPath,G,p.Pop,!0),e.scheduleOnce((function(){h.pause()}),.2)})).start()},n.OnGameHandTarget=function(e,t){this.RefreshUserInfoUI(e,t)},n.OnGameHandTargetOut=function(e){this.RefreshUserInfoUI(e,0)},n.OnBeCatchFriend=function(e){this.RefreshUserBelockUI(e.friendId)},n.OnRescueFriend=function(e){this.RefreshUserUnlockUI(e.friendId);var t=R.soundWee+g.RandomIntRegion(1,3);u.Instance.PlaySounds(t),this.rescueNum++,this.OnRefreshRescueNumUI(this.rescueNum)},n.OnRefreshRescueNumUI=function(e){this.rescueNumLabel.string="营救同伴："+e+"/9"},n.OnRefreshCoinBoxUI=function(e){this.coinBoxNumLabel.string="收集宝箱："+e+"/8"},n.OnGameFirendFail=function(e){this.RefreshUserInfoUI(e.friendId,0,!0)},n.OnGameFinishTarget=function(e,t){"self"==e?this.ShowGameTip("+50金币"):this.ShowGameTip(e+" 帮你收集了50金币!"),this.collectCoinBoxNum++,this.OnRefreshCoinBoxUI(this.collectCoinBoxNum)},n.ShowFailPanel=function(){u.Instance.PlaySounds(R.soundLose),I.Instance.ShowUI(R.gameUIABName,R.rescueResultViewAssetPath,L,p.Normal,!0,this.rescueNum,this.collectCoinBoxNum)},n.InitGameUI=function(e){this.isGetResultReward=!1,this.levelInfo=e,this.targetCollectNum=e.collectTargetNum,this.startTimeNode.active=!0,this.gameTipArr=[],this.InitUserInfoUI(e.teammatesNum+1)},n.RefreshUserIcon=function(e,t){var i=this.userPicAvatarAtlas.getSpriteFrame(t);this.allUserPicSprite[e].spriteFrame=i},n.InitUserInfoUI=function(e){this.allUserPicSprite=[],this.allUserFailNode=[],this.allUserLockNode=[],this.allUserLabel=[];for(var t=0;t<e;t++){var i=l(this.tempUserInfo);this.userPicInfoPanel.addChild(i);var n=i.getChildByPath("Pic").getComponent(a),o=i.getChildByPath("FailPic"),r=i.getChildByPath("Lock");this.allUserPicSprite.push(n),this.allUserFailNode.push(o),this.allUserLockNode.push(r),i.active=!0;var h=l(this.tempUserInfoLabel);this.userTextInfoPanel.addChild(h);var c=h.getComponent(s);this.allUserLabel.push(c),h.active=!0}},n.RefreshUserUnlockUI=function(e){this.allUserLockNode[e].active=!1},n.RefreshUserBelockUI=function(e){this.allUserLockNode[e].active=!0},n.RefreshUserInfoUI=function(e,t,i){void 0===i&&(i=!1),i?(this.allUserFailNode[e].active=!0,this.allUserLabel[e].string="0"):this.allUserLabel[e].string=t+""},n.RefreshGameReadyCountDown=function(e,t){e<t&&(u.Instance.PlaySounds(R.soundWarnTime),U.VibrateShort()),this.startTimeLable.string=e+"s"},n.RefreshGameTimeCountDown=function(e,t){void 0===t&&(t=!1),this.timeLable.string=e,t&&(u.Instance.PlaySounds(R.soundWarnTime),U.VibrateShort(),this.timeLable.color=c.RED)},n.ShowGameTip=function(e){this.gameTipArr.push(e),this.ShowGameTipTween()},n.ShowGameTipTween=function(){var e=this;if(this.isFinishGameTipTween){var t=this.gameTipArr.shift();null!=t&&null!=t&&(this.isFinishGameTipTween=!1,this.gameTipNode.scale=o.ZERO,this.gameTipNode.active=!0,this.gameTipLabel.string=t,r(this.gameTipNode).to(.3,{scale:o.ONE}).delay(2).set({active:!1}).call((function(){e.isFinishGameTipTween=!0,e.ShowGameTipTween()})).start())}},n.StopGameTipTween=function(){m.stopAllByTarget(this.gameTipNode)},n.OnClickSettingBtn=function(){u.Instance.PlaySounds(R.soundBtnClick),I.Instance.ShowUI(R.commonABName,R.settingPanelAssetPath,N,p.Pop,!0,!0),d.OnGameClickSetting()},n.OnClickHideBtn=function(){v.Instance.TriggerEvent(R.Event_Player_HideClick)},n.GetJoyStick=function(){var e="JoyStickView/JoyStick";return this.joyStick=this.allNodes[e].getComponent(f),null!=this.joyStick&&null!=this.joyStick||(this.joyStick=this.allNodes[e].addComponent(f)),this.joyStick},i}(T))||C);i._RF.pop()}}}));

System.register("chunks:///_virtual/ReviveView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AdManager.ts","./AdBridge.ts","./SoundManager.ts","./EventCenter.ts","./UIBase.ts","./UIManager.ts","./Constants.ts"],(function(e){"use strict";var n,t,i,s,a,o,r,c,u,l,v,d;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,i=e._decorator,s=e.Label,a=e.Input},function(e){o=e.default},function(e){r=e.AdBridge},function(e){c=e.SoundManager},function(e){u=e.EventCenter},function(e){l=e.UIBase},function(e){v=e.UIManager},function(e){d=e.Constants}],execute:function(){var h;t._RF.push({},"ad282l2px9HnrhAOQ9TViRw","ReviveView",void 0);var f=i.ccclass;i.property,e("ReviveView",f("ReviveView")(h=function(e){function t(){for(var n,t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return(n=e.call.apply(e,[this].concat(i))||this).countLable=void 0,n}n(t,e);var i=t.prototype;return i.onLoad=function(){e.prototype.onLoad.call(this),this.FindChild()},i.FindChild=function(){this.countLable=this.allNodes.CountLabel.getComponent(s),this.AddBtnListener("RewardBtn",this,this.OnClickRewardBtn),this.allNodes.CloseBtn.on(a.EventType.TOUCH_END,this.OnClicCloseBtn,this),this.countLable.string=""+d.reviveCountTime},i.OnShow=function(){this.StartCount(),r.ShowRevivePanel()},i.OnHide=function(e){this.unscheduleAllCallbacks(),r.HideRevivePanel()},i.StartCount=function(){var e=this,n=d.reviveCountTime;this.schedule((function(){n--,e.countLable.string=n+"",-1==n&&(v.Instance.HideUI(d.reviveTimeAssetPath,!1,!0),u.Instance.TriggerEvent(d.Event_Game_Fail))}),1,n)},i.OnClickRewardBtn=function(){o.getInstance().reportAnalytics("reward_fail_revive",{}),r.ShowRewardVideo((function(){c.Instance.PlaySounds(d.soundUnlockSuccess),u.Instance.TriggerEvent(d.Event_Player_Revive),v.Instance.HideUI(d.reviveTimeAssetPath,!1,!0)}))},i.OnClicCloseBtn=function(){v.Instance.HideUI(d.reviveTimeAssetPath,!1,!0),u.Instance.TriggerEvent(d.Event_Game_Fail)},t}(l))||h);t._RF.pop()}}}));

System.register("chunks:///_virtual/RewardView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AdBridge.ts","./UIBase.ts"],(function(t){"use strict";var e,o,i,n,a,l,d;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,i=t._decorator,n=t.Label,a=t.Input},function(t){l=t.AdBridge},function(t){d=t.UIBase}],execute:function(){var r;o._RF.push({},"449eewai4lH0KY8gY2SJtco","RewardView",void 0);var s=i.ccclass;i.property,t("RewardView",s("RewardView")(r=function(t){function o(){for(var e,o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))||this).titleLable=void 0,e.normalLable=void 0,e.normalBtnNode=void 0,e.diamondNode=void 0,e.coinNode=void 0,e.rewardBtnNode=void 0,e.rewardBtnLable=void 0,e.addNumLabel=void 0,e.previousCallBack=void 0,e.normalBtnCallBack=void 0,e}e(o,t);var i=o.prototype;return i.onLoad=function(){t.prototype.onLoad.call(this),this.FindChild()},i.FindChild=function(){this.titleLable=this.allNodes.TitleLable.getComponent(n),this.normalLable=this.allNodes["NormalBtn/NormalBtnLable"].getComponent(n),this.addNumLabel=this.allNodes.AddNumLabel.getComponent(n),this.normalBtnNode=this.allNodes.NormalBtn,this.diamondNode=this.allNodes.Diamond,this.coinNode=this.allNodes.Coin,this.rewardBtnNode=this.allNodes.RewardBtn,this.rewardBtnLable=this.allNodes["RewardBtn/Label"].getComponent(n)},i.OnShow=function(e,o,i,n,a){void 0===a&&(a="领取 x2"),t.prototype.OnShow.call(this,e,o,i),this.titleLable.string=e,this.normalLable.string=o,this.diamondNode.active=!i,this.coinNode.active=i,this.addNumLabel.string="+"+n,this.rewardBtnLable.string=a,l.OnShowRewardView()},i.OnHide=function(t){l.OnHideRewardView(),l.OnHideReviveView()},i.SetAllBtnListener=function(t,e){this.previousCallBack&&this.rewardBtnNode.off(a.EventType.TOUCH_END,this.previousCallBack),this.normalBtnCallBack&&this.normalBtnNode.off(a.EventType.TOUCH_END,this.normalBtnCallBack),t&&(this.previousCallBack=t,this.rewardBtnNode.on(a.EventType.TOUCH_END,t)),e&&(this.normalBtnCallBack=e,this.normalBtnNode.on(a.EventType.TOUCH_END,e))},i.GetCoinWorldPos=function(){return this.coinNode.worldPosition},i.GetDiamondWorldPos=function(){return this.diamondNode.worldPosition},o}(d))||r);o._RF.pop()}}}));

System.register("chunks:///_virtual/ScrollMovePage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts"],(function(t){"use strict";var e,o,n,i,s,c,h;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,n=t.Input,i=t.Tween,s=t.Vec2,c=t.Vec3},function(t){h=t.UIBase}],execute:function(){o._RF.push({},"593e3qfH61ESY0dX1wsLR/K","ScrollMovePage",void 0);t("ScrollMovePage",function(t){function o(){for(var e,o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))||this).startPos=0,e.checkPos=new s,e.tempMoveLeftPos=new c,e.tempMoveRightPos=new c,e.moveDir=0,e.moveLeftTween=void 0,e.moveRightTween=void 0,e.tweenDua=.2,e.contentNode=void 0,e.contentPosY=0,e.moveEndCallBack=void 0,e}e(o,t);var h=o.prototype;return h.onLoad=function(){t.prototype.onLoad.call(this),this.FindChild()},h.FindChild=function(){this.contentNode=this.allNodes["view/content"],this.contentPosY=this.contentNode.position.y,this.tempMoveLeftPos.set(210,this.contentPosY,0),this.tempMoveRightPos.set(-210,this.contentPosY,0)},h.InitMovePage=function(t){this.moveEndCallBack=t},h.TouchHandler=function(t){switch(t.getType()){case n.EventType.TOUCH_START:this.startPos=t.getLocationX(),this.checkPos=t.getLocation();case n.EventType.TOUCH_MOVE:var e=t.getLocationX(),o=e-this.startPos;this.moveDir=o>0?1:2,this.startPos=e;break;case n.EventType.TOUCH_END:var i=t.getLocationX()-this.checkPos.x;Math.abs(i)>100?1==this.moveDir?this.MoveRight():2==this.moveDir&&this.MoveLeft():i>0?this.MoveLeft():this.MoveRight()}},h.MoveRight=function(){var t=this;null==this.moveRightTween&&(this.moveRightTween=new i(this.contentNode).to(this.tweenDua,{position:this.tempMoveRightPos}).call((function(){t.moveEndCallBack&&t.moveEndCallBack(!0)}))),this.moveRightTween.start()},h.MoveLeft=function(){var t=this;null==this.moveLeftTween&&(this.moveLeftTween=new i(this.contentNode).to(this.tweenDua,{position:this.tempMoveLeftPos}).call((function(){t.moveEndCallBack&&t.moveEndCallBack(!1)}))),this.moveLeftTween.start()},o}(h));o._RF.pop()}}}));

System.register("chunks:///_virtual/SettingView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UserDataManager.ts","./AdBridge.ts","./SoundManager.ts","./EventCenter.ts","./UIBase.ts","./UIManager.ts","./Constants.ts","./AdsIdConfig.ts"],(function(t){"use strict";var n,i,e,s,a,o,c,u,r,d,l,f;return{setters:[function(t){n=t.inheritsLoose},function(t){i=t.cclegacy,e=t._decorator},function(t){s=t.UserDataManager},function(t){a=t.AdBridge},function(t){o=t.SoundManager},function(t){c=t.EventCenter},function(t){u=t.UIBase},function(t){r=t.UIManager},function(t){d=t.Constants},function(t){l=t.default,f=t.EPlatform}],execute:function(){var h;i._RF.push({},"dd216NRJnFB4I1ezG9cn3bu","SettingView",void 0);var B=e.ccclass;e.property,t("SettingView",B("SettingView")(h=function(t){function i(){for(var n,i=arguments.length,e=new Array(i),s=0;s<i;s++)e[s]=arguments[s];return(n=t.call.apply(t,[this].concat(e))||this).soundOff=void 0,n.musicOff=void 0,n.vibrationOff=void 0,n.homeBtnNode=void 0,n.continueBtnNode=void 0,n}n(i,t);var e=i.prototype;return e.onLoad=function(){t.prototype.onLoad.call(this),this.FindChild()},e.FindChild=function(){this.soundOff=this.allNodes["Sound/Off"],this.musicOff=this.allNodes["Music/Off"],this.vibrationOff=this.allNodes["Vibration/Off"],this.homeBtnNode=this.allNodes.HomePage,this.continueBtnNode=this.allNodes.ContinueGame,this.AddBtnListener("Sound",this,this.OnClickSoundBtn),this.AddBtnListener("Music",this,this.OnClickMusicBtn),this.AddBtnListener("Vibration",this,this.OnClickVibrationBtn),this.AddBtnListener("HomePage",this,this.OnClickHomePageBtn),this.AddBtnListener("ContinueGame",this,this.OnClickContinueGameBtn),this.AddBtnListener("CloseBtn",this,this.OnClickCloseBtn),l.platform!=f.OPPO&&l.platform!=f.VIVO||(this.allNodes.kefuLabel.active=!0)},e.OnShow=function(n){t.prototype.OnShow.call(this,n);var i=s.Instance.GetMusicStatus();this.musicOff.active=!i;var e=s.Instance.GetSoundStatus();this.soundOff.active=!e;var a=s.Instance.GetVibrateStatus();this.vibrationOff.active=!a,n?this.ShowGameBtn(!0):this.ShowGameBtn(!1)},e.ShowGameBtn=function(t){this.homeBtnNode.active=t,this.continueBtnNode.active=t},e.OnClickSoundBtn=function(){var t=s.Instance.SetSoundStatus();this.soundOff.active=!t},e.OnClickMusicBtn=function(){var t=s.Instance.SetMusicStatus();this.musicOff.active=!t,t?o.Instance.ResumeMusicBg():o.Instance.StopMusicBg()},e.OnClickVibrationBtn=function(){var t=s.Instance.SetVibrateStatus();this.vibrationOff.active=!t},e.OnClickHomePageBtn=function(){r.Instance.HideUI(d.settingPanelAssetPath,!0),o.Instance.PlaySounds(d.soundBtnClick),c.Instance.TriggerEvent(d.Event_Game_Exit),a.OnGameClickHomeBtn()},e.OnClickContinueGameBtn=function(){o.Instance.PlaySounds(d.soundBtnClick),r.Instance.HideUI(d.settingPanelAssetPath,!0),a.OnGameClickContinueBtn()},e.OnClickCloseBtn=function(){o.Instance.PlaySounds(d.soundBtnClick),r.Instance.HideUI(d.settingPanelAssetPath,!0),s.Instance.SaveUserData(),a.OnClickSettingCloseBtn()},i}(u))||h);i._RF.pop()}}}));

System.register("chunks:///_virtual/ShakeTool.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"06b9fGxqyxIBLnHVEebVBBy","ShakeTool",void 0);e("ShakeTool",function(){function e(){}return e.ShakeNode=function(e,t){},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/ShareView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AdManager.ts","./UserDataManager.ts","./EventCenter.ts","./TipManager.ts","./UIBase.ts","./UIManager.ts","./Constants.ts"],(function(n){"use strict";var t,e,a,i,s,o,r,c,h,l,u;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,a=n._decorator,i=n.Input},function(n){s=n.default},function(n){o=n.UserDataManager},function(n){r=n.EventCenter},function(n){c=n.TipManager},function(n){h=n.UIBase},function(n){l=n.UIManager},function(n){u=n.Constants}],execute:function(){var p;e._RF.push({},"c4450iYYRNCgYmspK4gGinc","ShareView",void 0);var d=a.ccclass;a.property,n("ShareView",d("ShareView")(p=function(n){function e(){for(var t,e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];return(t=n.call.apply(n,[this].concat(a))||this).tt=window.tt,t}t(e,n);var a=e.prototype;return a.onLoad=function(){n.prototype.onLoad.call(this),this.allNodes.CloseBtn.on(i.EventType.TOUCH_END,this.OnClickCloseBtn,this),this.allNodes.ShareBtn.on(i.EventType.TOUCH_END,this.OnClickShareBtn,this),this.allNodes.SharePic.on(i.EventType.TOUCH_END,this.OnClickShareBtn,this)},a.HidePopTip=function(){this.node.active=!1},a.OnClickShareBtn=function(){s.getInstance().ShareVideo("狼人杀：潜行大师","tt9194e7290eab990602",this.ShareCallback.bind(this)),l.Instance.HideUI(u.shareAssetPath,!0,!0)},a.OnClickCloseBtn=function(){l.Instance.HideUI(u.shareAssetPath,!0,!0)},a.ShareCallback=function(n){1==n?(c.Instance.ShowTip("恭喜您获得1颗宝石，200金币!"),o.Instance.AddCoinNum(200),o.Instance.AddDiamondNum(1),r.Instance.TriggerEvent(u.Event_Game_UIRefreshCoinDiaomond)):c.Instance.ShowTip("分享失败，不能获得奖励!")},e}(h))||p);e._RF.pop()}}}));

System.register("chunks:///_virtual/SignInDataItem.ts",["cc"],(function(t){"use strict";var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"5bc04GHqMhEUKVSwT3zqKvT","SignInDataItem",void 0);t("SignInDataItem",(function(t,n,i){this.signInDay=void 0,this.signRewardType=void 0,this.rewardNum=void 0,this.signInDay=parseInt(t),this.signRewardType=parseInt(n),this.rewardNum=parseInt(i)}));n._RF.pop()}}}));

System.register("chunks:///_virtual/SignInItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CharacterBaseInfo.ts","./SignInView.ts"],(function(e){"use strict";var t,i,n,o,c,a,d,s;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy,n=e._decorator,o=e.Label,c=e.Sprite,a=e.Component},function(e){d=e.CharacterInfoHelper},function(e){s=e.SignRewardType}],execute:function(){var h;i._RF.push({},"1f162+8v0FHzo1dmou11X+x","SignInItem",void 0);var r=n.ccclass;n.property,e("SignInItem",r("SignInItem")(h=function(e){function i(){for(var t,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).selectNode=void 0,t.dayLable=void 0,t.getNumLable=void 0,t.coinPicNode=void 0,t.diamondPicNode=void 0,t.collectedPicNode=void 0,t.isInit=!1,t}t(i,e);var n=i.prototype;return n.onLoad=function(){this.FindChild()},n.FindChild=function(){this.isInit||(this.isInit=!0,this.selectNode=this.node.getChildByPath("Select"),this.coinPicNode=this.node.getChildByPath("Coin"),this.diamondPicNode=this.node.getChildByPath("Diamond"),this.collectedPicNode=this.node.getChildByPath("Collected"),this.dayLable=this.node.getChildByPath("DayLabel").getComponent(o),this.getNumLable=this.node.getChildByPath("GetNumLabel").getComponent(o))},n.RefreshSignInItem=function(e,t,i,n,o){if(this.FindChild(),this.dayLable.string="第"+(e+1)+"天",this.node.active=!0,this.selectNode.active=!!t,this.collectedPicNode.active=!!i,6!=e)switch(n){case s.Coin:this.coinPicNode.active=!0,this.diamondPicNode.active=!1,this.getNumLable.string="+"+o;break;case s.Diamond:this.coinPicNode.active=!1,this.diamondPicNode.active=!0,this.getNumLable.string="+"+o;break;case s.Character:var a=this.node.getChildByPath("Character"),h=a.getComponent(c),r=d.Instance().GetSkinStr(o);h.spriteFrame=h.spriteAtlas.getSpriteFrame(r),a.active=!0,this.coinPicNode.active=!1,this.diamondPicNode.active=!1,this.getNumLable.node.active=!1}},n.GetCoinWorldPos=function(){return this.node.worldPosition},i}(a))||h);i._RF.pop()}}}));

System.register("chunks:///_virtual/SignInView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AdManager.ts","./GameDataManager.ts","./UserDataManager.ts","./AdBridge.ts","./SoundManager.ts","./EventCenter.ts","./TipManager.ts","./UIBase.ts","./UIManager.ts","./Constants.ts","./SignInItem.ts"],(function(n){"use strict";var t,e,i,a,s,r,o,d,I,c,g,h,u,y,l,m;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,i=n._decorator,a=n.instantiate,s=n.Input},function(n){r=n.default},function(n){o=n.GameDataManager},function(n){d=n.UserDataManager},function(n){I=n.AdBridge},function(n){c=n.SoundManager},function(n){g=n.EventCenter},function(n){h=n.TipManager},function(n){u=n.UIBase},function(n){y=n.UIManager},function(n){l=n.Constants},function(n){m=n.SignInItem}],execute:function(){var S;n("SignRewardType",void 0),e._RF.push({},"8cd16SArWRI1p29ko2fxlY9","SignInView",void 0);var w,C=i.ccclass;i.property;!function(n){n[n.Coin=0]="Coin",n[n.Diamond=1]="Diamond",n[n.Character=2]="Character"}(w||(w=n("SignRewardType",{})));n("SignInView",C("SignInView")(S=function(n){function e(){for(var t,e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return(t=n.call.apply(n,[this].concat(i))||this).rewardBtn=void 0,t.normalBtn=void 0,t.day7Node=void 0,t.signLayoutNode=void 0,t.tempSignInItem=void 0,t.signInItemArr=void 0,t.signInData=void 0,t.todaySignRewardType=void 0,t.todayRewardNum=void 0,t.todayIndex=0,t.day7GetCoinNum=1e3,t.day7GetDiamondNum=20,t}t(e,n);var i=e.prototype;return i.onLoad=function(){n.prototype.onLoad.call(this),this.FindChild()},i.FindChild=function(){this.rewardBtn=this.allNodes.RewardBtn,this.normalBtn=this.allNodes.NormalBtn,this.day7Node=this.allNodes.Day7,this.signLayoutNode=this.allNodes.SignLayout,this.tempSignInItem=this.allNodes["SignLayout/SignInItem"],this.AddBtnListener("CloseBtn",this,this.OnClickCloseBtn),this.CreateItem()},i.CreateItem=function(){this.signInItemArr=[];for(var n=0;n<6;n++){var t=a(this.tempSignInItem);this.signLayoutNode.addChild(t);var e=t.addComponent(m);this.signInItemArr.push(e),t.active=!0}var i=this.day7Node.addComponent(m);this.signInItemArr.push(i)},i.OnShow=function(){this.RefreshSignInUI(),I.OnShowSignInView()},i.OnHide=function(n){I.OnHideSignInView()},i.OnClickCloseBtn=function(){c.Instance.PlaySounds(l.soundBtnClick),y.Instance.HideUI(l.signInViewAssetPath,!0,!0),I.OnClickSignInCloseBtn()},i.RefreshSignInUI=function(){var n=o.Instance.GetSignInData();this.signInData=n;var t,e=d.Instance.IsSignInToday(),i=d.Instance.GetSignedInDayNum();if(e){t=i-1,this.SetGetClickBtn(!0);for(var a=0;a<n.length;a++)a<t?this.signInItemArr[a].RefreshSignInItem(a,!1,!0,n[a].signRewardType,n[a].rewardNum):a==t?(this.signInItemArr[a].RefreshSignInItem(a,!0,!0,n[a].signRewardType,n[a].rewardNum),e||this.signInItemArr[a].RefreshSignInItem(a,!0,!1,n[a].signRewardType,n[a].rewardNum)):this.signInItemArr[a].RefreshSignInItem(a,!1,!1,n[a].signRewardType,n[a].rewardNum)}else{t=i,this.todayIndex=t,t>=7?this.SetGetClickBtn(!0,6):this.SetGetClickBtn(!1,t);for(var s=0;s<n.length;s++)s<t?this.signInItemArr[s].RefreshSignInItem(s,!1,!0,n[s].signRewardType,n[s].rewardNum):s==t?this.signInItemArr[s].RefreshSignInItem(s,!0,!1,n[s].signRewardType,n[s].rewardNum):this.signInItemArr[s].RefreshSignInItem(s,!1,!1,n[s].signRewardType,n[s].rewardNum)}},i.SetGetClickBtn=function(n,t){void 0===t&&(t=0),c.Instance.PlaySounds(l.soundBtnClick),this.rewardBtn.active=!n,this.normalBtn.active=!n,n||(this.todaySignRewardType=this.signInData[t].signRewardType,this.todaySignRewardType==w.Character&&(this.rewardBtn.active=!1),this.todayRewardNum=this.signInData[t].rewardNum,this.signInData[t].signRewardType==w.Character&&(this.rewardBtn.active=!1),6==t?(this.rewardBtn.on(s.EventType.TOUCH_END,this.OnDay7ClickReward,this),this.normalBtn.on(s.EventType.TOUCH_END,this.OnDay7ClickGet,this)):(this.rewardBtn.on(s.EventType.TOUCH_END,this.ClickRewardGetBtn,this),this.normalBtn.on(s.EventType.TOUCH_END,this.ClickNormalGetBtn,this)))},i.OnDay7ClickReward=function(){var n=this;r.getInstance().reportAnalytics("reward_sign",{}),I.ShowRewardVideo((function(){c.Instance.PlaySounds(l.soundUnlockSuccess),n.Day7GetReward(2)}))},i.OnDay7ClickGet=function(){this.Day7GetReward()},i.Day7GetReward=function(n){void 0===n&&(n=1);var t=this.day7GetCoinNum*n,e=this.day7GetDiamondNum*n;d.Instance.AddDiamondNum(t),g.Instance.TriggerEvent(l.Event_UIHome_FlyCoin,this.signInItemArr[this.todayIndex].GetCoinWorldPos(),t),d.Instance.AddDiamondNum(e),g.Instance.TriggerEvent(l.Event_UIHome_FlyDiamond,this.signInItemArr[this.todayIndex].GetCoinWorldPos(),e),d.Instance.SetSignInToday(),y.Instance.HideUI(l.signInViewAssetPath,!0,!0)},i.ClickRewardGetBtn=function(){var n=this;switch(c.Instance.PlaySounds(l.soundBtnClick),this.todaySignRewardType){case w.Coin:r.getInstance().reportAnalytics("reward_sign",{}),I.ShowRewardVideo((function(){c.Instance.PlaySounds(l.soundUnlockSuccess);var t=2*n.todayRewardNum;g.Instance.TriggerEvent(l.Event_UIHome_FlyCoin,n.signInItemArr[n.todayIndex].GetCoinWorldPos(),t),d.Instance.SetSignInToday(),d.Instance.AddCoinNum(t),y.Instance.HideUI(l.signInViewAssetPath,!0,!0),c.Instance.PlaySounds(l.soundUnlockSuccess)}));break;case w.Diamond:r.getInstance().reportAnalytics("reward_sign",{}),I.ShowRewardVideo((function(){var t=2*n.todayRewardNum;d.Instance.AddDiamondNum(t),g.Instance.TriggerEvent(l.Event_UIHome_FlyDiamond,n.signInItemArr[n.todayIndex].GetCoinWorldPos(),t),d.Instance.SetSignInToday(),y.Instance.HideUI(l.signInViewAssetPath,!0,!0),c.Instance.PlaySounds(l.soundUnlockSuccess)}));break;case w.Character:}},i.ClickNormalGetBtn=function(){switch(c.Instance.PlaySounds(l.soundBtnClick),this.todaySignRewardType){case w.Coin:var n=this.todayRewardNum;d.Instance.AddCoinNum(n),g.Instance.TriggerEvent(l.Event_UIHome_FlyCoin,this.signInItemArr[this.todayIndex].GetCoinWorldPos(),n);break;case w.Diamond:var t=this.todayRewardNum;d.Instance.AddDiamondNum(t),g.Instance.TriggerEvent(l.Event_UIHome_FlyDiamond,this.signInItemArr[this.todayIndex].GetCoinWorldPos(),t);break;case w.Character:var e=o.Instance.GetSkinData().filter((function(n){return 2==n.getSkinWay}));e&&(d.Instance.UnLockSkin(e[0].skinType),d.Instance.SetCurrentSelectSkinType(e[0].skinType),h.Instance.ShowTip("恭喜您获得皮肤!"))}d.Instance.SetSignInToday(),y.Instance.HideUI(l.signInViewAssetPath,!0,!0)},e}(u))||S);e._RF.pop()}}}));

System.register("chunks:///_virtual/Singleton.ts",["cc"],(function(n){"use strict";var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"0ea2cyrksBJ6Ke95PU9c2EY","Singleton",void 0);n("Singleton",function(){function n(){}return n.Instance=function(){return this.instance||(this.instance=new this),this.instance},n.Recycle=function(){this.instance=null},n}());t._RF.pop()}}}));

System.register("chunks:///_virtual/SkeletonItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LogUtil.ts","./StringHelper.ts"],(function(e){"use strict";var n,t,i,s,l,o;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,i=e._decorator,s=e.Component},function(e){l=e.LogUtil},function(e){o=e.StringHelper}],execute:function(){var r;t._RF.push({},"dc904Rd1ytATbo0n5ZG2iqY","SkeletonItem",void 0);var a=i.ccclass;i.property,e("SkeletonItem",a("SkeletonItem")(r=function(e){function t(){for(var n,t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return(n=e.call.apply(e,[this].concat(i))||this).skeleton=void 0,n.spineAniMap=void 0,n.spineSkinMap=void 0,n}n(t,e);var i=t.prototype;return i.InitSkeleton=function(e){this.skeleton=e,this.spineAniMap=this.skeleton.skeletonData.getAnimsEnum(),this.spineSkinMap=this.skeleton.skeletonData.getSkinsEnum()},i.GetSkeleton=function(){return null!=this.skeleton&&null!=this.skeleton||l.Error("Not Set Skeleton"),this.skeleton},i.PlayAni=function(e,n,t,i){if(void 0===n&&(n=!1),void 0===t&&(t=1),void 0===i&&(i=null),l.Log("播放动画:"+e),null!=this.skeleton&&null!=this.skeleton)if(o.isEmptyStr(e))l.Error("spine ani name is null!");else{var s=this.spineAniMap[e];if(null!=s&&null!=s){l.Log("动画名称:"+e+" index: "+s+" isLoop: "+n),this.skeleton.clearTracks();var r=this.skeleton.setAnimation(s,e,n);return this.skeleton.timeScale=t,i&&this.skeleton.setCompleteListener(i),r}l.Error("spine ani:<"+e+"> not find!")}else l.Error("please init skeleton item first!")},i.ClearTracks=function(){this.skeleton&&this.skeleton.clearTracks()},i.AddAni=function(e,n,t){if(void 0===n&&(n=!1),void 0===t&&(t=0),null!=this.skeleton&&null!=this.skeleton)if(o.isEmptyStr(e))l.Error("spine ani name is null!");else{var i=this.spineAniMap[e];if(null!=i&&null!=i)return this.skeleton.addAnimation(i,e,n,t);l.Error("spine ani:<"+e+"> not find!")}else l.Error("please init skeleton item first!")},i.ChangeSkin=function(e){if(l.Log("ChangeSkin:",e),null!=this.skeleton&&null!=this.skeleton){var n=this.spineSkinMap[e];null!=n&&null!=n?this.skeleton.setSkin(e):l.Error("spine skin name:<"+e+"> not find!")}else l.Error("please init skeleton item first!")},i.ChangeAniSpeed=function(e){null!=this.skeleton&&null!=this.skeleton?this.skeleton.timeScale=e:l.Error("please init skeleton item first!")},t}(s))||r);t._RF.pop()}}}));

System.register("chunks:///_virtual/SkeletonNodeScale.ts",["cc","./Constants.ts"],(function(e){"use strict";var t,o,n;return{setters:[function(e){t=e.cclegacy,o=e._decorator},function(e){n=e.Constants}],execute:function(){var s;t._RF.push({},"8f93cE6F4RGeIPf2SO/JEzn","SkeletonNodeScale",void 0);var c=o.ccclass;o.property,e("SkeletonNodeScale",c("SkeletonNodeScale")(s=function(){function e(){this.skeletonNode=void 0}var t=e.prototype;return t.Init=function(e){this.skeletonNode=e},t.UpdateSkeletonNodeScale=function(e){0!=e&&this.skeletonNode&&(this.skeletonNode.scale=e>0?n.hostileRightScale:n.hostileLeftScale)},t.GetSkeletonNodeDirX=function(){return this.skeletonNode&&this.skeletonNode.scale.x<0?-1:1},e}())||s);t._RF.pop()}}}));

System.register("chunks:///_virtual/SkinDataItem.ts",["cc"],(function(t){"use strict";var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"81342CRDbpJKL7Prj4wiGCp","SkinDataItem",void 0);t("SkinDataItem",(function(t,i,e,s){this.skinType=void 0,this.skinName=void 0,this.getSkinWay=void 0,this.getNeedNum=void 0,this.skinType=parseInt(t),this.skinName=i,this.getSkinWay=parseInt(e),this.getNeedNum=parseInt(s)}));i._RF.pop()}}}));

System.register("chunks:///_virtual/SkinItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundManager.ts","./RandomTools.ts","./Constants.ts","./CharacterBaseInfo.ts"],(function(t){"use strict";var i,e,s,n,c,o,a,l,h,r;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,s=t._decorator,n=t.Sprite,c=t.Input,o=t.Component},function(t){a=t.SoundManager},function(t){l=t.RandomTools},function(t){h=t.Constants},function(t){r=t.CharacterInfoHelper}],execute:function(){var d;e._RF.push({},"e6eedlw6DBFMoOoQ0AHahlz","SkinItem",void 0);var u=s.ccclass;s.property,t("SkinItem",u("SkinItem")(d=function(t){function e(){for(var i,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return(i=t.call.apply(t,[this].concat(s))||this).skinDataItem=void 0,i.selectBgNode=void 0,i.selectIcon=void 0,i.lockStatusNode=void 0,i.skinPic=void 0,i.spriteAtlas=void 0,i.clickCallBackFunc=void 0,i.isInit=!1,i}i(e,t);var s=e.prototype;return s.FindChild=function(){this.isInit||(this.isInit=!0,this.selectBgNode=this.node.getChildByPath("SelectBg"),this.selectIcon=this.selectBgNode.getChildByPath("SelectIcon"),this.lockStatusNode=this.node.getChildByPath("LockStatus"),this.skinPic=this.node.getChildByPath("Pic").getComponent(n),this.spriteAtlas=this.skinPic.spriteAtlas,this.node.on(c.EventType.TOUCH_END,this.OnClickSelf,this))},s.RefreshUI=function(t,i,e,s){this.FindChild(),this.skinDataItem=i,this.clickCallBackFunc=s,this.skinDataItem.skinType==e?this.selectBgNode.active=!0:this.selectBgNode.active=!1,this.lockStatusNode.active=t,this.selectIcon.active=!t;var n=r.Instance().GetSkinStr(this.skinDataItem.skinType);this.skinPic.spriteFrame=this.spriteAtlas.getSpriteFrame(n),this.node.active=!0,h.isHuaweiTest&&-1==this.skinDataItem.getSkinWay&&(this.node.active=!1)},s.OnClickSelf=function(){var t=l.RandomIntRegion(1,6);a.Instance.PlaySounds(h.soundWee+t),this.clickCallBackFunc&&this.clickCallBackFunc(this.skinDataItem)},e}(o))||d);e._RF.pop()}}}));

System.register("chunks:///_virtual/SkinView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AdManager.ts","./GameDataManager.ts","./UserDataManager.ts","./AdBridge.ts","./SoundManager.ts","./EventCenter.ts","./ScrollMovePage.ts","./TipManager.ts","./UIBase.ts","./UIManager.ts","./FriendAni.ts","./Constants.ts","./CharacterBaseInfo.ts","./SkinItem.ts"],(function(t){"use strict";var n,e,i,s,a,o,c,r,h,l,d,u,k,S,p,v,I,f,B,y,C;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,i=t._decorator,s=t.Label,a=t.sp,o=t.Input,c=t.instantiate},function(t){r=t.default},function(t){h=t.GameDataManager},function(t){l=t.UserDataManager},function(t){d=t.AdBridge},function(t){u=t.SoundManager},function(t){k=t.EventCenter},function(t){S=t.ScrollMovePage},function(t){p=t.TipManager},function(t){v=t.UIBase},function(t){I=t.UIManager},function(t){f=t.FriendAni},function(t){B=t.Constants},function(t){y=t.CharacterInfoHelper},function(t){C=t.SkinItem}],execute:function(){var g;e._RF.push({},"404b6A+VvBHepHZKvOOrirt","SkinView",void 0);var m=i.ccclass;i.property,t("SkinView",m("SkinView")(g=function(t){function e(){for(var n,e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];return(n=t.call.apply(t,[this].concat(i))||this).skinDatas=void 0,n.contentNode=void 0,n.tempSkinItem=void 0,n.btnGroup=void 0,n.buyBtn=void 0,n.buyBtnLable=void 0,n.rewardBtn=void 0,n.coinIconNode=void 0,n.diamondIconNode=void 0,n.tipLable=void 0,n.friendAni=void 0,n.skinItems=void 0,n.selectSkinType=void 0,n.isCoinBuy=!0,n.needNum=0,n.currentSelectSkinData=void 0,n.scrollMovePage=void 0,n.isInit=!1,n}n(e,t);var i=e.prototype;return i.onLoad=function(){t.prototype.onLoad.call(this),this.FindChild()},i.FindChild=function(){if(!this.isInit){this.isInit=!0,this.contentNode=this.allNodes["Content/ScrollView/view/content"],this.tempSkinItem=this.contentNode.getChildByPath("SkinItem"),this.scrollMovePage=this.allNodes["Content/ScrollView"].addComponent(S),this.scrollMovePage.InitMovePage(null),this.AddBtnListener("CloseBtn",this,this.OnClickCloseBtn),this.tipLable=this.allNodes.Tip.getComponent(s),this.btnGroup=this.allNodes.BtnGroup,this.buyBtn=this.allNodes["BtnGroup/BuyBtn"],this.buyBtnLable=this.allNodes["BtnGroup/BuyBtn/BuyBtnLabel"].getComponent(s),this.rewardBtn=this.allNodes["BtnGroup/RewardBtn"],this.AddBtnListener("BtnGroup/RewardBtn",this,this.OnClickRewardBtn),this.coinIconNode=this.allNodes["BtnGroup/BuyBtn/CoinIcon"],this.diamondIconNode=this.allNodes["BtnGroup/BuyBtn/DiamondIcon"],this.friendAni=this.allNodes["CharacterNode/CharacterNode"].addComponent(f);var t=this.friendAni.node.getComponent(a.Skeleton);this.friendAni.InitSkeleton(t),this.friendAni.PlayDanceAni(),this.buyBtn.on(o.EventType.TOUCH_END,this.OnClickBuyBtn.bind(this),this),this.AddBtnListener("LeftBtn",this,this.OnClickLeftBtn),this.AddBtnListener("RightBtn",this,this.OnClickRightBtn)}},i.OnClickRewardBtn=function(){var t=this;r.getInstance().reportAnalytics("reward_unlockskin",{}),d.ShowRewardVideo((function(){t.UnLockSkin()}))},i.OnClickLeftBtn=function(){this.scrollMovePage&&this.scrollMovePage.MoveLeft()},i.OnClickRightBtn=function(){this.scrollMovePage&&this.scrollMovePage.MoveRight()},i.OnShow=function(){this.InitUI(),d.ShowSkinPanel()},i.OnHide=function(t){var n=l.Instance.GetCurrentSelectSkinType();k.Instance.TriggerEvent(B.Event_UIHome_RefreshSkin,n)},i.InitUI=function(){var t=this;this.FindChild(),this.skinItems=[],this.skinDatas=h.Instance.GetSkinData();var n=l.Instance.GetSkinStatus();this.selectSkinType=l.Instance.GetCurrentSelectSkinType();for(var e=0;e<this.skinDatas.length;e++){var i=c(this.tempSkinItem);this.contentNode.addChild(i);var s=i.addComponent(C);this.skinItems.push(s);var a=!0;n[e]&&(a=!1),s.RefreshUI(a,this.skinDatas[e],this.selectSkinType,(function(n){t.SkinItemClickCallBack(n)}))}this.RefreshCharacterInfoPanel(this.skinDatas[this.selectSkinType]),this.friendAni.ChangeSkin(y.skinType[this.selectSkinType])},i.ResetUI=function(){for(var t=this,n=l.Instance.GetSkinStatus(),e=0;e<this.skinItems.length;e++){var i=!0;n[e]&&(i=!1),this.skinItems[e].RefreshUI(i,this.skinDatas[e],this.selectSkinType,(function(n){t.SkinItemClickCallBack(n)}))}this.RefreshCharacterInfoPanel(this.currentSelectSkinData)},i.SkinItemClickCallBack=function(t){this.selectSkinType=t.skinType,this.friendAni.ChangeSkin(y.skinType[t.skinType]),this.RefreshCharacterInfoPanel(t),this.currentSelectSkinData=t,l.Instance.GetSkinStatus()[this.currentSelectSkinData.skinType]&&l.Instance.SetCurrentSelectSkinType(this.currentSelectSkinData.skinType),this.ResetUI()},i.RefreshCharacterInfoPanel=function(t){var n=l.Instance.GetSkinStatus()[t.skinType],e=t.getSkinWay;switch(this.tipLable.node.active=!1,e){case 0:n?this.btnGroup.active=!1:(this.btnGroup.active=!0,this.buyBtn.active=!0,this.rewardBtn.active=!1,this.buyBtnLable.string=t.getNeedNum+"",this.coinIconNode.active=!0,this.diamondIconNode.active=!1,this.isCoinBuy=!0,this.needNum=t.getNeedNum);break;case 1:n?this.btnGroup.active=!1:(this.btnGroup.active=!0,this.rewardBtn.active=!1,this.buyBtnLable.string=t.getNeedNum+"",this.coinIconNode.active=!1,this.diamondIconNode.active=!0,this.isCoinBuy=!1,this.needNum=t.getNeedNum);break;case 2:this.btnGroup.active=!1,this.tipLable.string="可通过签到获得此皮肤!",this.tipLable.node.active=!0;break;case 3:this.btnGroup.active=!1,this.tipLable.string="可通过幸运转盘获得此皮肤!",this.tipLable.node.active=!0;break;case 4:this.btnGroup.active=!1;break;case 5:if(n)this.btnGroup.active=!1;else{var i=l.Instance.GetAllWinNum(),s=Math.floor(i*B.getAddRewardSkinValue/100),a=h.Instance.GetSkinData().filter((function(t){return 5==t.getSkinWay})),o=a.indexOf(t);if(o<=s){this.btnGroup.active=!0,this.buyBtn.active=!1,this.rewardBtn.active=!0;var c=a[o];this.selectSkinType=c.skinType}else this.btnGroup.active=!1,this.tipLable.string="在游戏过程中获取!",this.tipLable.node.active=!0}break;case 6:n?this.btnGroup.active=!1:(this.btnGroup.active=!0,this.buyBtn.active=!1,this.rewardBtn.active=!0,this.selectSkinType=t.skinType)}},i.OnClickBuyBtn=function(){(u.Instance.PlaySounds(B.soundBtnClick),this.isCoinBuy)?l.Instance.ReduceCoinNum(this.needNum)?(this.UnLockSkin(),u.Instance.PlaySounds(B.soundUnlockSuccess),k.Instance.TriggerEvent(B.Event_UIHome_RefreshCoinNum)):p.Instance.ShowTip("金币不足!"):l.Instance.ReduceDiamondNum(this.needNum)?(this.UnLockSkin(),u.Instance.PlaySounds(B.soundUnlockSuccess),k.Instance.TriggerEvent(B.Event_UIHome_RefreshDiamondNum)):p.Instance.ShowTip("钻石不足!")},i.UnLockSkin=function(){p.Instance.ShowTip("恭喜您解锁皮肤!"),u.Instance.PlaySounds(B.soundUnlockSuccess),l.Instance.UnLockSkin(this.selectSkinType),l.Instance.SetCurrentSelectSkinType(this.selectSkinType),this.friendAni.ChangeSkin(y.skinType[this.selectSkinType]),this.ResetUI()},i.OnClickCloseBtn=function(){u.Instance.PlaySounds(B.soundBtnClick),I.Instance.HideUI(B.skinViewAssetPath,!0,!0),d.OnClickSkinCloseBtn()},e}(v))||g);e._RF.pop()}}}));

System.register("chunks:///_virtual/SliderAni.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var t,e,i,a,o;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,i=n._decorator,a=n.Animation,o=n.Component}],execute:function(){var c;e._RF.push({},"aab54BvksFKOI8F5vliffpR","SliderAni",void 0);var l=i.ccclass;i.property,n("SliderAni",l("SliderAni")(c=function(n){function e(){for(var t,e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return(t=n.call.apply(n,[this].concat(i))||this).animation=void 0,t.eventCallBack=void 0,t}t(e,n);var i=e.prototype;return i.onLoad=function(){this.animation=this.getComponent(a)},i.InitSlider=function(n){this.eventCallBack=n},i.PauseAni=function(){this.animation.pause()},i.Reward2=function(){this.eventCallBack&&this.eventCallBack(2)},i.Reward3=function(){this.eventCallBack&&this.eventCallBack(3)},i.Reward4=function(){this.eventCallBack&&this.eventCallBack(4)},i.Reward5=function(){this.eventCallBack&&this.eventCallBack(5)},e}(o))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/SoundManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UserDataManager.ts","./Constants.ts","./AssetManager.ts","./LogUtil.ts"],(function(t){"use strict";var i,o,u,e,s,n,c,a,l;return{setters:[function(t){i=t.inheritsLoose},function(t){o=t.cclegacy,u=t._decorator,e=t.AudioSource,s=t.Component},function(t){n=t.UserDataManager},function(t){c=t.Constants},function(t){a=t.AssetManager},function(t){l=t.LogUtil}],execute:function(){var r,d;o._RF.push({},"e54b18fAmVKJqzJ3AwTdISW","SoundManager",void 0);var p=u.ccclass;u.property,t("SoundManager",p("SoundManager")(((d=function(t){function o(){for(var i,o=arguments.length,u=new Array(o),e=0;e<o;e++)u[e]=arguments[e];return(i=t.call.apply(t,[this].concat(u))||this).allEffectAudioSource=void 0,i.musicBgAudioSource=void 0,i.stepAudioSource=void 0,i.abName=void 0,i.clipRootPath=void 0,i.musicRootPath=void 0,i.stepAudioClip=void 0,i}i(o,t);var u=o.prototype;return u.onLoad=function(){null==o.Instance?o.Instance=this:this.destroy()},u.Init=function(t,i,o){this.abName=t,this.musicRootPath=i,this.clipRootPath=o,null!=this.musicBgAudioSource&&null!=this.musicBgAudioSource||(this.musicBgAudioSource=this.node.addComponent(e),this.stepAudioSource=this.node.addComponent(e))},u.PlayMusicBg=function(t){l.Log("播放背景音乐:"+t);var i=this.GetAudioClip(t,!0);i&&(this.musicBgAudioSource.stop(),this.musicBgAudioSource.clip=i,this.musicBgAudioSource.loop=!0),n.Instance.GetMusicStatus()&&this.musicBgAudioSource.play()},u.ResumeMusicBg=function(){this.musicBgAudioSource&&this.musicBgAudioSource.play()},u.StopMusicBg=function(){this.musicBgAudioSource&&this.musicBgAudioSource.pause()},u.PlaySounds=function(t){if(l.Log("播放音效:"+t),n.Instance.GetSoundStatus()){var i=this.GetAudioClip(t);if(i){var o=this.GetFreeAudioSource();o.clip=i,o.play()}}},u.StopSounds=function(){if(null!=this.allEffectAudioSource)for(var t=0;t<this.allEffectAudioSource.length;t++)this.allEffectAudioSource[t].playing&&(this.allEffectAudioSource[t].stop(),this.allEffectAudioSource[t].clip=null)},u.PlayStep=function(){l.Log("播放音效:Step"),n.Instance.GetSoundStatus()&&(null!=this.stepAudioClip&&null!=this.stepAudioClip||(this.stepAudioClip=this.GetAudioClip(c.soundStep)),this.stepAudioClip&&(this.stepAudioSource.stop(),this.stepAudioSource.clip=this.stepAudioClip,this.stepAudioSource.loop=!0,this.stepAudioSource.play()))},u.StopStep=function(){this.stepAudioClip&&this.stepAudioSource.pause()},u.GetFreeAudioSource=function(){null==this.allEffectAudioSource&&(this.allEffectAudioSource=[]);for(var t=0;t<this.allEffectAudioSource.length;t++)if(!this.allEffectAudioSource[t].playing)return this.allEffectAudioSource[t];var i;return null==i&&(i=this.node.addComponent(e),this.allEffectAudioSource.push(i)),i},u.GetAudioClip=function(t,i){var o;return void 0===i&&(i=!1),o=i?this.musicRootPath+"/"+t:this.clipRootPath+"/"+t,a.Instance.GetAssets(this.abName,o)},o}(s)).Instance=null,r=d))||r);o._RF.pop()}}}));

System.register("chunks:///_virtual/SpinView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AdManager.ts","./GameDataManager.ts","./UserDataManager.ts","./AdBridge.ts","./SoundManager.ts","./EventCenter.ts","./TipManager.ts","./UIBase.ts","./UIManager.ts","./RandomTools.ts","./TimeTools.ts","./Constants.ts","./RewardView.ts"],(function(n){"use strict";var t,e,i,s,a,o,r,c,l,d,u,h,p,S,g,w,m,I,f,C;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,i=n._decorator,s=n.Label,a=n.Input,o=n.lerp},function(n){r=n.default},function(n){c=n.GameDataManager},function(n){l=n.UserDataManager},function(n){d=n.AdBridge},function(n){u=n.SoundManager},function(n){h=n.EventCenter},function(n){p=n.TipManager},function(n){S=n.UIBase},function(n){g=n.UIManager,w=n.UITpye},function(n){m=n.RandomTools},function(n){I=n.TimeTools},function(n){f=n.Constants},function(n){C=n.RewardView}],execute:function(){var T;e._RF.push({},"83eb8rliINB55r2K0Yx8IJB","SpinView",void 0);var v=i.ccclass;i.property,n("SpinView",v("SpinView")(T=function(n){function e(){for(var t,e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];return(t=n.call.apply(n,[this].concat(i))||this).spinBtn=void 0,t.rewardSpinBtn=void 0,t.spinCenterNode=void 0,t.countDownLabel=void 0,t.allAngles=[45,90,135,180,225,270,315,360],t.turnCircle=15,t.isTurnning=!1,t.calcAngle=0,t.tempTime=0,t.minRotateTime=5,t.maxRotateTime=9,t.rotateTime=1,t.startAngle=0,t}t(e,n);var i=e.prototype;return i.onLoad=function(){n.prototype.onLoad.call(this),this.FindChild()},i.OnShow=function(){this.RefreshSpin(),d.ShowSpinPanel()},i.OnHide=function(n){h.Instance.TriggerEvent(f.Event_UIHome_CheckCanSpin)},i.FindChild=function(){this.AddBtnListener("CloseBtn",this,this.OnClickCloseBtn),this.spinBtn=this.allNodes.SpinBtn,this.rewardSpinBtn=this.allNodes.RewardSpinBtn,this.countDownLabel=this.allNodes.CountDownLabel.getComponent(s),this.spinCenterNode=this.allNodes.SpinCenter,this.spinBtn.on(a.EventType.TOUCH_END,this.OnClickSpinBtn,this),this.rewardSpinBtn.on(a.EventType.TOUCH_END,this.OnClickRewardSpinBtn,this)},i.OnClickCloseBtn=function(){d.OnClickSpinCloseBtn(),u.Instance.PlaySounds(f.soundBtnClick),this.isTurnning?p.Instance.ShowTip("正在旋转中..."):g.Instance.HideUI(f.spinViewAssetPath,!0,!0)},i.RefreshSpin=function(){var n=l.Instance.GetCanSpin();if(this.unscheduleAllCallbacks(),this.rewardSpinBtn.active=!n,this.spinBtn.active=n,n)this.countDownLabel.string="已准备";else{var t=l.Instance.GetNextSpinTime();this.StartCountTime(t)}},i.StartCountTime=function(n){var t=this;this.schedule((function(){t.countDownLabel.string=I.ConvertToHMS(n),n--}),1,n)},i.OnClickSpinBtn=function(){u.Instance.PlaySounds(f.soundBtnClick),this.StartTurn()},i.OnClickRewardSpinBtn=function(){var n=this;r.getInstance().reportAnalytics("reward_get_spintimes",{}),u.Instance.PlaySounds(f.soundBtnClick),d.ShowRewardVideo((function(){n.StartTurn()}))},i.StartTurn=function(){if(!this.isTurnning){u.Instance.PlaySounds(f.soundSpin);var n,t=m.RandomIntRegion(0,99);0==t?n=this.allAngles[7]:0<t&&t<=3?n=this.allAngles[1]:3<t&&t<=7?n=this.allAngles[4]:7<t&&t<=14?n=this.allAngles[3]:14<t&&t<=24?n=this.allAngles[5]:24<t&&t<=39?n=this.allAngles[0]:39<t&&t<=69?n=this.allAngles[2]:69<t&&t<=99&&(n=this.allAngles[6]),this.calcAngle=360*this.turnCircle+n,this.rotateTime=m.RandomFloat(this.minRotateTime,this.maxRotateTime),this.isTurnning=!0,this.tempTime=0}},i.update=function(n){if(this.isTurnning){this.tempTime+=n,(this.tempTime>this.rotateTime||this.spinCenterNode.angle==this.calcAngle)&&(this.isTurnning=!1,this.startAngle=this.calcAngle%360,this.GiveRewardByAngle());var t=this.tempTime/this.rotateTime;t=t*t*t*(t*(6*t-15)+10);var e=-o(this.startAngle,this.calcAngle,t);this.spinCenterNode.angle=e}},i.GiveRewardByAngle=function(){switch(u.Instance.StopSounds(),u.Instance.PlaySounds(f.soundUnlockSuccess),l.Instance.SetSpinTime(),this.RefreshSpin(),0|this.startAngle){case 0:case 360:this.RewardCoins(5e3);break;case 315:this.RewardCoins(300);break;case 270:this.RewardCoins(500);break;case 225:this.RewardCoins(1e3);break;case 180:this.RewardDiamonds(5);break;case 135:this.RewardDiamonds(2);break;case 90:this.RewardSkin();break;case 45:this.RewardDiamonds(3);break;default:this.RewardCoins(300)}},i.RewardCoins=function(n){var t=g.Instance.ShowUI(f.commonABName,f.rewardViewAssetPath,C,w.Pop,!0,"金币","领取",!0,n);t.SetAllBtnListener((function(){r.getInstance().reportAnalytics("reward_spin_get_doublecoin",{}),d.ShowRewardVideo((function(){u.Instance.PlaySounds(f.soundUnlockSuccess);var e=2*n;l.Instance.AddCoinNum(e),h.Instance.TriggerEvent(f.Event_UIHome_FlyCoin,t.GetCoinWorldPos(),2*n),g.Instance.HideUI(f.rewardViewAssetPath,!0,!0,!1)}))}),(function(){var e=n;l.Instance.AddCoinNum(e),h.Instance.TriggerEvent(f.Event_UIHome_FlyCoin,t.GetCoinWorldPos(),n),g.Instance.HideUI(f.rewardViewAssetPath,!0,!0,!1)}))},i.RewardDiamonds=function(n){var t=g.Instance.ShowUI(f.commonABName,f.rewardViewAssetPath,C,w.Pop,!0,"钻石","领取",!1,n);t.SetAllBtnListener((function(){r.getInstance().reportAnalytics("reward_spin_get_doublediamond",{}),d.ShowRewardVideo((function(){u.Instance.PlaySounds(f.soundUnlockSuccess);var e=2*n;l.Instance.AddDiamondNum(e),h.Instance.TriggerEvent(f.Event_UIHome_FlyDiamond,t.GetDiamondWorldPos(),2*n),g.Instance.HideUI(f.rewardViewAssetPath,!0,!0,!1)}))}),(function(){var e=n;l.Instance.AddDiamondNum(e),h.Instance.TriggerEvent(f.Event_UIHome_FlyDiamond,t.GetDiamondWorldPos(),n),g.Instance.HideUI(f.rewardViewAssetPath,!0,!0,!1)}))},i.RewardSkin=function(){var n=c.Instance.GetSkinData().filter((function(n){return 3==n.getSkinWay}));if(console.log("过滤是数据:",n),n){var t=l.Instance.GetSkinStatus()[n[0].skinType];1==parseInt(t)?(this.RewardCoins(1e3),p.Instance.ShowTip("皮肤已领取,恭喜您获得1000金币!")):(l.Instance.UnLockSkin(n[0].skinType),l.Instance.SetCurrentSelectSkinType(n[0].skinType),p.Instance.ShowTip("恭喜您获得新皮肤!"))}},e}(S))||T);e._RF.pop()}}}));

System.register("chunks:///_virtual/StringHelper.ts",["cc"],(function(t){"use strict";var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"820a465oWtHfaAvTj25TPHw","StringHelper",void 0);t("StringHelper",function(){function t(){}return t.isEmptyStr=function(t){return null==t||""===t},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/SurvivalControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameDataManager.ts","./AssetManager.ts","./EventCenter.ts","./UIManager.ts","./LogUtil.ts","./RandomTools.ts","./VecTools.ts","./GameManager.ts","./AIBlue.ts","./AIFriend.ts","./Constants.ts","./PlayerController.ts","./CollectTargetControl.ts","./SurvivalModeView.ts","./CharacterBaseInfo.ts","./FriendInfo.ts","./AIObuga.ts","./AIGreen.ts","./AIDreamFace.ts","./AIOrange.ts","./SoundManager.ts","./FlashPlat.ts","./BoostView.ts","./ReviveView.ts","./TrySkinView.ts","./AdBridge.ts","./PathPointUtil.ts"],(function(e){"use strict";var t,n,i,a,o,s,r,h,l,d,c,m,u,v,P,g,f,C,I,G,T,y,p,S,N,w,E,R,B,A,O,_,M,b,F,D,U,k,L,V,x;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e._decorator,a=e.director,o=e.sp,s=e.instantiate,r=e.Vec3,h=e.tween,l=e.Component},function(e){d=e.GameDataManager},function(e){c=e.AssetManager},function(e){m=e.EventCenter},function(e){u=e.UIManager,v=e.UITpye},function(e){P=e.LogUtil},function(e){g=e.RandomTools},function(e){f=e.Vec2To3,C=e.Vec3To2},function(e){I=e.GameManager},function(e){G=e.AIBlue},function(e){T=e.AIFriend},function(e){y=e.Constants},function(e){p=e.PlayerController},function(e){S=e.CollectTargetControl,N=e.CollectTargetType},function(e){w=e.SurvivalModeView},function(e){E=e.SkinType,R=e.CharacterType,B=e.CharacterInfoHelper},function(e){A=e.FriendInfo},function(e){O=e.AIObuga},function(e){_=e.AIGreen},function(e){M=e.AIDreamFace},function(e){b=e.AIOrange},function(e){F=e.SoundManager},function(e){D=e.FlashPlat},function(e){U=e.BoostView},function(e){k=e.ReviveView},function(e){L=e.TrySkinView},function(e){V=e.AdBridge},function(e){x=e.PathPointUtil}],execute:function(){var H;n._RF.push({},"4329fim8RpK4YLx4XFHm7R7","SurvivalControl",void 0);var j=i.ccclass;i.property,e("SurvivalControl",j("SurvivalControl")(H=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this).survivalModeView=void 0,t.joyStick=void 0,t.playerController=void 0,t.collectTargetControl=void 0,t.bluePathPointRootName="BluePathPointRoot",t.bluePathPointRoot=void 0,t.bluePathPoints=void 0,t.friendPathPointRootName="FriendPathPointRoot",t.friendPathPointRoot=void 0,t.friendPathPoints=void 0,t.obugaPathPointRootName="ObugaPathPointRoot",t.obugaPathPointRoot=void 0,t.obugaPathPoints=void 0,t.greenPathPointRootName="GreenPathPointRoot",t.greenPathPointRoot=void 0,t.greenPathPoints=void 0,t.targetItemPointNodeName="TargetItemPointNode",t.targetItemPointNode=void 0,t.targetItemPoints=void 0,t.bossPointNodeName="BossPointNode",t.bossPointNode=void 0,t.bossPointPoints=void 0,t.platCenterPos=void 0,t.platCenterNode=void 0,t.startHousePos=void 0,t.randomCreateFriendRadius=200,t.playerCollectNum=0,t.currentCollectNum=0,t.targetCollectNum=3,t.dropTargetNum=0,t.collectType=N.Box,t.isGameOver=!1,t.gameModeBase=void 0,t.userIconIndex=0,t.playerUserInfoIndex=0,t.readyTime=0,t.readyCountTime=0,t.gameTime=0,t.remainGameTime=0,t.gameOverCountTime=0,t.flashPlat=void 0,t.leftCollectEffSke=void 0,t.rightCollectEffSke=void 0,t.platCollectNode=void 0,t.collectIndex=0,t.rewardTimeUpNum=0,t.rewardReviveNum=0,t.levelInfo=void 0,t.isDispear=!1,t.aiBlue=void 0,t.shadowNode=void 0,t.tempShadow=void 0,t.userNameNode=void 0,t.tempLabel=void 0,t}t(n,e);var i=n.prototype;return i.onEnable=function(){m.Instance.AddEventListener(y.Event_Game_FinishTarget,this.OnFinishTarget,this),m.Instance.AddEventListener(y.Event_Game_Exit,this.OnGameExit,this),m.Instance.AddEventListener(y.Event_Game_Victory,this.OnGameVictory,this),m.Instance.AddEventListener(y.Event_Game_Fail,this.OnGameFail,this),m.Instance.AddEventListener(y.Event_Player_GetMoreTime,this.OnGetMoreTime,this),m.Instance.AddEventListener(y.Event_Player_GetMoreTimeFail,this.OnGetMoreTimeFail,this),m.Instance.AddEventListener(y.Event_Player_BeCatch,this.OnPlayerBeCatch,this),m.Instance.AddEventListener(y.Event_Player_Revive,this.OnPlayerRevive,this),m.Instance.AddEventListener(y.Event_Player_TrySkin,this.OnPlayerTrySkin,this),m.Instance.AddEventListener(y.Event_Game_SetGameTime,this.OnGameSetGameTime,this)},i.onDisable=function(){this.RemoveListener()},i.RemoveListener=function(){m.Instance.RemoveEventListener(y.Event_Game_FinishTarget,this.OnFinishTarget,this),m.Instance.RemoveEventListener(y.Event_Game_Exit,this.OnGameExit,this),m.Instance.RemoveEventListener(y.Event_Game_Victory,this.OnGameVictory,this),m.Instance.RemoveEventListener(y.Event_Game_Fail,this.OnGameFail,this),m.Instance.RemoveEventListener(y.Event_Player_GetMoreTime,this.OnGetMoreTime,this),m.Instance.RemoveEventListener(y.Event_Player_GetMoreTimeFail,this.OnGetMoreTimeFail,this),m.Instance.RemoveEventListener(y.Event_Player_BeCatch,this.OnPlayerBeCatch,this),m.Instance.RemoveEventListener(y.Event_Player_Revive,this.OnPlayerRevive,this),m.Instance.RemoveEventListener(y.Event_Player_TrySkin,this.OnPlayerTrySkin,this),m.Instance.RemoveEventListener(y.Event_Game_SetGameTime,this.OnGameSetGameTime,this)},i.OnGameSetGameTime=function(){this.SetGameTime(this.levelInfo.readyTime,this.levelInfo.readyCountTime,this.levelInfo.gameTime,this.levelInfo.gameOverCountTime,this.levelInfo.gameTime),this.scheduleOnce((function(){u.Instance.ShowUI(y.gameUIABName,y.boostViewAssetPath,U,v.Pop,!0,!1)}),.5)},i.OnPlayerTrySkin=function(){this.playerController&&this.playerController.ChangeSkin(E.SpiderMan)},i.OnGetMoreTime=function(){this.GetMoreTime(),a.resume(),u.Instance.HideUI(y.moreTimeViewAssetPath,!0,!0)},i.OnGetMoreTimeFail=function(){a.resume(),m.Instance.TriggerEvent(y.Event_Game_Fail),u.Instance.HideUI(y.moreTimeViewAssetPath,!0,!0)},i.OnPlayerBeCatch=function(){this.rewardReviveNum<y.rewardCanGetReviveNum?(u.Instance.ShowUI(y.gameUIABName,y.reviveTimeAssetPath,k,v.Normal,!0),this.rewardReviveNum++):m.Instance.TriggerEvent(y.Event_Game_Fail)},i.OnPlayerRevive=function(){this.playerController.OnPlayerRevive()},i.OnGameVictory=function(){this.CancelCountDownSchedule(),F.Instance.StopMusicBg(),this.gameModeBase.GameSuccess()},i.OnGameFail=function(){I.Instance.GetGameCamera().MoveToPlatform(this.aiBlue.node.worldPosition,null),this.CancelCountDownSchedule(),F.Instance.StopMusicBg(),this.gameModeBase.GameFail()},i.OnGameExit=function(){this.survivalModeView.node.active=!1,this.node.active=!1,u.Instance.HideUI(y.survivalModeViewAssetPath,!1,!0),I.Instance.GetGameCamera().StopFollow(),this.node.destroy(),this.gameModeBase.ExitGame()},i.OnFinishTarget=function(e,t){var n=this;(this.platCollectNode&&this.collectIndex<this.platCollectNode.children.length&&(this.platCollectNode.children[this.collectIndex++].active=!0),this.currentCollectNum+=t,this.ShowCollectEffect(),this.flashPlat.FlashPlat(),"self"==e&&this.playerCollectNum++,m.Instance.TriggerEvent(y.Event_Game_UIRefreshCollectNum,this.currentCollectNum),this.currentCollectNum==this.targetCollectNum)&&(this.isGameOver||(this.isGameOver=!0,m.Instance.TriggerEvent(y.Event_Game_Victory,this.playerCollectNum),this.CancelCountDownSchedule(),I.Instance.GetGameCamera().MoveToPlatform(this.platCenterNode.worldPosition,(function(){n.ShowVictoryEffect()}))))},i.ShowVictoryEffect=function(){var e=this;F.Instance.PlaySounds(y.soundGoalComplete);var t=this.node.getChildByPath("PlatGQ");if(t){var n=t.getComponent(o.Skeleton);t.active=!0,n.setAnimation(2,"gq2",!1)}this.scheduleOnce((function(){var t=e.node.getChildByPath("PlatLZ");if(t){t.active=!0;var n=t.getComponent(o.Skeleton);t.setSiblingIndex(1e3),n.setAnimation(3,"lizi",!0)}}),2)},i.ShowCollectEffect=function(){(null==this.leftCollectEffSke||this.rightCollectEffSke)&&(this.leftCollectEffSke=this.node.getChildByPath("CollectEffectLeft").getComponent(o.Skeleton),this.rightCollectEffSke=this.node.getChildByPath("CollectEffectRight").getComponent(o.Skeleton)),this.leftCollectEffSke.node.setSiblingIndex(1e3),this.rightCollectEffSke.node.setSiblingIndex(1e3),this.leftCollectEffSke.setAnimation(1,"animation",!1),this.rightCollectEffSke.setAnimation(1,"animation",!1)},i.InitGame=function(e,t,n,i,a){var o;this.levelInfo=t,this.rewardReviveNum=0,this.rewardTimeUpNum=0,this.playerCollectNum=0,this.currentCollectNum=0,this.targetCollectNum=t.collectTargetNum,this.dropTargetNum=t.dropPackageNum,this.collectType=t.collectTargetType,this.gameModeBase=e,this.InitStartHouse(),this.GetGamePointData(),this.CreateCollectItem(),this.SetGameUI(t),o=this.GetUserTargetSF(this.collectType),this.SetFriendData(t,n,o),this.SetPlayerData(n,i,a,o),this.SetGameBoss(t,n),this.collectIndex=0,u.Instance.ShowUI(y.gameUIABName,y.getSkinViewAssetPath,L,v.Pop,!0,!1),V.closeBannerNative()},i.GetUserTargetSF=function(e){var t="GameCollectTargetPic/"+e+"/spriteFrame";return c.Instance.GetAssets("GameAsset",t)},i.CreateCollectItem=function(){var e,t="CollectTargetPrefab/"+this.collectType;e=c.Instance.GetAssets("GameAsset",t),this.InitTargetItem(this.dropTargetNum,this.collectType,e)},i.SetGameUI=function(e){this.survivalModeView=u.Instance.ShowUI(y.gameUIABName,y.survivalModeViewAssetPath,w),this.joyStick=this.survivalModeView.GetJoyStick(),this.survivalModeView.InitGameUI(e)},i.SetGameTime=function(e,t,n,i,a){var o=this;this.readyTime=e,this.readyCountTime=t,this.gameTime=n,this.gameOverCountTime=i,this.remainGameTime=parseInt(a),this.schedule((function(){o.readyTime--,m.Instance.TriggerEvent(y.Event_Game_ReadyCountDown,o.readyTime,o.readyCountTime),0==o.readyTime&&(o.OpenTheDoor(1),m.Instance.TriggerEvent(y.Event_Game_Start),V.OnSurviveModeStart(),o.StarGameCountDown(o.gameTime)),o.readyTime<o.readyCountTime&&o.DispearTarget()}),1,this.readyTime)},i.StarGameCountDown=function(e){this.schedule(this.RemainCount,1,e)},i.RemainCount=function(){this.remainGameTime--,m.Instance.TriggerEvent(y.Event_Game_CountTime,this.remainGameTime,this.gameOverCountTime),0==this.remainGameTime&&(this.rewardTimeUpNum<y.rewardCanGetTimeUpNum?(m.Instance.TriggerEvent(y.Event_Game_TimeUp),this.rewardTimeUpNum++):m.Instance.TriggerEvent(y.Event_Game_Fail,1))},i.CancelCountDownSchedule=function(){this.unschedule(this.RemainCount),this.unschedule(this.StarGameCountDown)},i.GetMoreTime=function(){this.CancelCountDownSchedule(),this.remainGameTime=this.remainGameTime+y.getMoreTimeValue,this.readyTime>0?this.remainGameTime=this.remainGameTime-1:this.StarGameCountDown(this.remainGameTime)},i.DispearTarget=function(){if(!this.isDispear){this.isDispear=!0,this.platCollectNode=this.node.getChildByPath("PlatCollect");for(var e=0;e<this.platCollectNode.children.length;e++)this.platCollectNode.children[e].active=!1}},i.SetGameBoss=function(e,t){switch(e.levelIndex){case 1:this.SetBlueData(t);break;case 2:this.SetObugaData(t),this.SetBlueData(t);break;case 3:this.SetObugaData(t),this.SetBlueData(t),this.SetGreenData(t);break;case 4:this.SetObugaData(t),this.SetBlueData(t),this.SetGreenData(t),this.SetDreamFaceData(t)}},i.SetPlayerData=function(e,t,n,i){var a=e.filter((function(e){return e.characterType==R.Player}));if(a&&a.length>0){var o=a[0].patrolMoveSpeed,s=c.Instance.GetAssets("GameAsset","Character/Player");this.InitPlayer(o,t,n,s,i),this.InitGameCamera(this.playerController.node)}},i.SetFriendData=function(e,t,n,i){void 0===i&&(i=!1);var a=t.filter((function(e){return e.characterType==R.TeamMate}));if(a&&a.length>0){var o=e.teammatesNum,s=a[0].patrolMoveSpeed,r=a[0].chaseMoveSpeed,h=a[0].aiCalcInterval,l=c.Instance.GetAssets("GameAsset","Character/Friend");this.InitFriends(o,l,n,s,r,h,i)}},i.SetBlueData=function(e){var t=e.filter((function(e){return e.characterType==R.BlueBoss}));if(t&&t.length>0){var n=c.Instance.GetAssets("GameAsset","Character/BlueMonster");this.InitBlue(n,t[0].detectArea,t[0].chaseMoveSpeed,t[0].patrolMoveSpeed,t[0].aiCalcInterval)}},i.SetObugaData=function(e){var t=e.filter((function(e){return e.characterType==R.ObungaBoss}));if(t&&t.length>0){var n=c.Instance.GetAssets("GameAsset","Character/Obuga");if(this.obugaPathPoints&&this.obugaPathPoints.length>0)for(var i=0;i<this.obugaPathPoints.length;i++){var a=s(n),o=a.addComponent(O);this.node.addChild(a),o.InitObuga(t[0].detectArea,f(this.obugaPathPoints[i]))}}},i.SetGreenData=function(e){var t=e.filter((function(e){return e.characterType==R.GreenBoss}));if(t&&t.length>0){var n=c.Instance.GetAssets("GameAsset","Character/GreenMonster");if(this.greenPathPoints&&this.greenPathPoints.length>0){var i=s(n),a=i.addComponent(_);this.node.addChild(i),a.InitGreen(this.greenPathPoints,t[0].patrolMoveSpeed)}}},i.SetDreamFaceData=function(e){var t=e.filter((function(e){return e.characterType==R.DreamFace}));if(t&&t.length>0){var n=c.Instance.GetAssets("GameAsset","Character/DreamFace");if(this.greenPathPoints&&this.greenPathPoints.length>0){var i=s(n),a=i.addComponent(M);this.node.addChild(i),a.InitGreen(this.greenPathPoints,t[0].patrolMoveSpeed)}}},i.SetOrangeData=function(e){var t=e.filter((function(e){return e.characterType==R.OrangeBoss}));if(t&&t.length>0){var n=c.Instance.GetAssets("GameAsset","Character/Orange");if(this.greenPathPoints&&this.greenPathPoints.length>0){var i=s(n),a=i.addComponent(b);this.node.addChild(i),a.InitOrange(this.greenPathPoints,t[0].detectArea,t[0].chaseMoveSpeed,t[0].patrolMoveSpeed,t[0].aiCalcInterval)}}},i.InitStartHouse=function(){this.startHousePos=this.node.getChildByPath("StartHouse").worldPosition,this.platCenterNode=this.node.getChildByPath("StartHouse/PlatCenter"),null!=this.platCenterNode&&null!=this.platCenterNode?(this.flashPlat=this.platCenterNode.addComponent(D),this.platCenterPos=C(this.platCenterNode.worldPosition)):P.Error("platcenter node not find!")},i.OpenTheDoor=function(e){F.Instance.PlaySounds(y.soundOpenDoor);var t=this.node.getChildByPath("StartHouse/DoorRight"),n=this.node.getChildByPath("StartHouse/DoorLeft"),i=this.node.getChildByPath("StartHouse/DoorCenter"),a=new r(t.worldPosition.x,t.worldPosition.y+220,0);this.scheduleOnce((function(){h(t).to(e,{worldPosition:a}).call((function(){t.active=!1})).start()}),.1);var o=new r(n.worldPosition.x,n.worldPosition.y+220,0);this.scheduleOnce((function(){h(n).to(e,{worldPosition:o}).call((function(){t.active=!1})).start()}),.2);var s=new r(i.worldPosition.x-230,i.worldPosition.y,0);this.scheduleOnce((function(){h(i).to(e,{worldPosition:s}).call((function(){t.active=!1})).start()}),.3)},i.InitPlayer=function(e,t,n,i,a){var o=B.Instance().GetSkinStr(t);this.playerUserInfoIndex=this.userIconIndex,this.survivalModeView.RefreshUserIcon(this.playerUserInfoIndex,o);var r=s(i);if(this.node.getChildByPath("FriendNode").addChild(r),this.playerController=r.addComponent(p),this.playerController){var h=this.GetShadowUnuseNode();this.playerController.InitPlayer(this.joyStick,e,t,n,a,h,this.collectTargetControl,this.platCenterPos)}this.playerController.node.worldPosition=this.startHousePos},i.InitBlue=function(e,t,n,i,a){var o=s(e);this.aiBlue=o.addComponent(G),this.node.addChild(o),this.aiBlue.InitBlue(this.bluePathPoints,t,n,i,a)},i.InitFriends=function(e,t,n,i,a,o,h){void 0===i&&(i=300),void 0===a&&(a=50),void 0===o&&(o=100);var l=t,c=d.Instance.GetUserName(e);if(!(c.length<e))for(var m=this.node.getChildByPath("FriendNode"),u=0;u<e;u++){var v=s(l),P=v.addComponent(T);m.addChild(v);var f=g.RandomInt(B.skinType.length),C=g.RandomInt(B.Instance().hideAniType.length),I=new A(u,c[u],f,C,i,a,o),G=B.Instance().GetSkinStr(f);this.survivalModeView.RefreshUserIcon(this.userIconIndex++,G);var y=this.GetShadowUnuseNode(),p=this.GetUnuseUserNameLabel();P.InitAIFriend(I,this.platCenterPos,this.platCenterPos,this.friendPathPoints,this.collectTargetControl,n,y,p);var S=g.RandomInt(this.randomCreateFriendRadius)*Math.random();v.worldPosition=new r(this.startHousePos.x+S,this.startHousePos.y+S,0)}},i.InitTargetItem=function(e,t,n){this.collectTargetControl=this.node.addComponent(S),this.collectTargetControl.InitCollectItem(this.targetItemPoints,e,t,n)},i.InitGameCamera=function(e){I.Instance.GetGameCamera().InitGameCam(e)},i.GetShadowUnuseNode=function(){null!=this.shadowNode&&null!=this.shadowNode||(this.shadowNode=this.node.getChildByPath("ShadowNode"),this.tempShadow=this.shadowNode.getChildByPath("Shadow"));var e=s(this.tempShadow);return this.shadowNode.addChild(e),e},i.GetUnuseUserNameLabel=function(){null!=this.userNameNode&&null!=this.userNameNode||(this.userNameNode=this.node.getChildByPath("UserNameNode"),this.tempLabel=this.userNameNode.getChildByPath("Label"));var e=s(this.tempLabel);return this.userNameNode.addChild(e),e},i.FindPathPointRootNode=function(){this.bluePathPointRoot=this.node.getChildByPath(this.bluePathPointRootName),this.obugaPathPointRoot=this.node.getChildByPath(this.obugaPathPointRootName),this.greenPathPointRoot=this.node.getChildByPath(this.greenPathPointRootName),this.friendPathPointRoot=this.node.getChildByPath(this.friendPathPointRootName),this.targetItemPointNode=this.node.getChildByPath(this.targetItemPointNodeName),this.bossPointNode=this.node.getChildByPath(this.bossPointNodeName)},i.GetGamePointData=function(){this.FindPathPointRootNode(),this.bluePathPoints=[],x.GetPointPath(this.bluePathPointRoot,this.bluePathPoints),this.obugaPathPoints=[],x.GetPointPath(this.obugaPathPointRoot,this.obugaPathPoints),this.greenPathPoints=[],x.GetPointPath(this.greenPathPointRoot,this.greenPathPoints),this.friendPathPoints=[],x.GetPointPath(this.friendPathPointRoot,this.friendPathPoints),this.targetItemPoints=[],x.GetPointPath(this.targetItemPointNode,this.targetItemPoints),this.bossPointPoints=[],x.GetPointPath(this.bossPointNode,this.bossPointPoints)},n}(l))||H);n._RF.pop()}}}));

System.register("chunks:///_virtual/SurvivalLoseView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AdBridge.ts","./SoundManager.ts","./EventCenter.ts","./UIBase.ts","./UIManager.ts","./Constants.ts"],(function(t){"use strict";var e,n,o,i,l,s,c,a,r,u,h;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,i=t.Sprite,l=t.Label},function(t){s=t.AdBridge},function(t){c=t.SoundManager},function(t){a=t.EventCenter},function(t){r=t.UIBase},function(t){u=t.UIManager},function(t){h=t.Constants}],execute:function(){var v;n._RF.push({},"2ce548RKC5JDbDRyKf9vDNI","SurvivalLoseView",void 0);var d=o.ccclass;o.property,t("SurvivalLoseView",d("SurvivalLoseView")(v=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))||this).collectSA=void 0,e.collectItemSp=void 0,e.collectResultLable=void 0,e.levelInfo=void 0,e}e(n,t);var o=n.prototype;return o.onLoad=function(){t.prototype.onLoad.call(this),this.FindChild()},o.FindChild=function(){this.collectItemSp=this.allNodes["CollectBg/CollectPic"].getComponent(i),this.collectSA=this.collectItemSp.spriteAtlas,this.collectResultLable=this.allNodes.CollectResultLable.getComponent(l),this.AddBtnListener("ContinueBtn",this,this.OnClickContinueBtn)},o.OnClickContinueBtn=function(){c.Instance.PlaySounds(h.soundBtnClick),u.Instance.HideUI(h.loseViewAssetPath,!0,!0),a.Instance.TriggerEvent(h.Event_Game_Exit)},o.OnShow=function(){this.levelInfo=arguments.length<=0?void 0:arguments[0];var t=arguments.length<=1?void 0:arguments[1];this.ShowFailPanel(t)},o.ShowFailPanel=function(t){this.collectItemSp.spriteFrame=this.collectSA.getSpriteFrame(this.levelInfo.collectTargetType),this.collectResultLable.string=t+"/"+this.levelInfo.collectTargetNum,s.OnGameFail()},n}(r))||v);n._RF.pop()}}}));

System.register("chunks:///_virtual/SurvivalMode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UserDataManager.ts","./AdBridge.ts","./AssetManager.ts","./SoundManager.ts","./UIManager.ts","./LogUtil.ts","./GameManager.ts","./HomeView.ts","./LoadingView.ts","./AIPathManager.ts","./Constants.ts","./GameModeBase.ts","./SurvivalControl.ts","./SurvivalModeResources.ts"],(function(e){"use strict";var t,a,n,o,s,i,r,u,c,l,d,v,f,m,g,h,M,I;return{setters:[function(e){t=e.inheritsLoose},function(e){a=e.cclegacy,n=e._decorator,o=e.instantiate},function(e){s=e.UserDataManager},function(e){i=e.AdBridge},function(e){r=e.AssetManager},function(e){u=e.SoundManager},function(e){c=e.UIManager},function(e){l=e.LogUtil},function(e){d=e.GameManager},function(e){v=e.HomeView},function(e){f=e.LoadingView},function(e){m=e.AIPathManager},function(e){g=e.Constants},function(e){h=e.GameModeBase},function(e){M=e.SurvivalControl},function(e){I=e.SurvivalModeResources}],execute:function(){var S;e("SurvivalModeType",void 0),a._RF.push({},"bbe63TtU+tHcKBi/MHd43on","SurvivalMode",void 0);var p,A=n.ccclass;n.property;!function(e){e[e.HealYourTeammates=0]="HealYourTeammates",e[e.RestartTheSpaceShip=1]="RestartTheSpaceShip",e[e.TheNewRoom=2]="TheNewRoom",e[e.CollectWeapon=3]="CollectWeapon"}(p||(p=e("SurvivalModeType",{})));e("SurvivalMode",A("SurvivalMode")(S=function(e){function a(){for(var t,a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).abstractResourceControl=void 0,t.survivalModeInfo=void 0,t}t(a,e);var n=a.prototype;return n.InitGame=function(){for(var e=this,t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];var s=a[0];switch(this.survivalModeInfo=a[1],this.survivalModeInfo.levelIndex){case 1:case 2:case 3:case 4:this.abstractResourceControl=new I;break;default:return void l.Error("SurvivalMode init game data error:")}var i=c.Instance.ShowUI(g.loadingABName,g.loadingAssetPath,f);this.abstractResourceControl.PreLoadAssetBundle(this.LoadProgress.bind(this),(function(){setTimeout((function(){var t="Map/Level"+e.survivalModeInfo.levelIndex+"/Map",n=r.Instance.GetAssets("GameAsset",t),c=d.Instance.GetGameRoot(),l=o(n);c.addChild(l),l.addComponent(M).InitGame(e,e.survivalModeInfo,s,a[2],a[3]),i.Hide(),u.Instance.PlayMusicBg(g.musicGameBg)}),g.loadingintoGameDelayTime)}))},n.LoadProgress=function(e,t){c.Instance.ShowUI(g.loadingABName,g.loadingAssetPath,f).UpdateProgress(e/t)},n.LoadCompleteCallBack=function(){},n.StartGame=function(){},n.GameSuccess=function(){s.Instance.SetResultNum(this.survivalModeInfo.levelIndex,!0)},n.GameFail=function(){s.Instance.SetResultNum(this.survivalModeInfo.levelIndex,!1)},n.ExitGame=function(){m.Instance.ClearTask(),setTimeout((function(){c.Instance.ShowUI(g.loadingABName,g.loadingAssetPath,f).SetLoadingInterver(3,(function(){c.Instance.ShowUI(g.homeABName,g.homePanelAssetPath,v)}))}),.1),i.ExitGame()},a}(h))||S);a._RF.pop()}}}));

System.register("chunks:///_virtual/SurvivalModeInfo.ts",["cc","./CollectTargetControl.ts"],(function(e){"use strict";var t,i;return{setters:[function(e){t=e.cclegacy},function(e){i=e.CollectTargetType}],execute:function(){t._RF.push({},"5956bUGDPxE84uHyi4ptgK5","SurvivalModeInfo",void 0);e("SurvivalModeInfo",(function(e,t,s,o,a,c,l,r,h,u,n,v,m,d,T,g){switch(this.levelIndex=void 0,this.levelName=void 0,this.levelDes=void 0,this.collectTargetType=void 0,this.collectTargetNum=void 0,this.dropPackageNum=void 0,this.teammatesNum=void 0,this.unLockDiamond=void 0,this.unLockLevel=void 0,this.gameTime=void 0,this.readyTime=void 0,this.readyCountTime=void 0,this.gameOverCountTime=void 0,this.lockDes=void 0,this.successGetCoinNum=void 0,this.successGetDiamondNum=void 0,this.levelIndex=parseInt(e),this.levelName=t,this.levelDes=s,parseInt(o)){case 1:this.collectTargetType=i.Box;break;case 2:this.collectTargetType=i.Bullet;break;case 3:this.collectTargetType=i.BlueMagic;break;case 4:this.collectTargetType=i.OrangeMagic;break;case 5:this.collectTargetType=i.TheTu;break;case 6:this.collectTargetType=i.CoinBox}this.collectTargetNum=a,this.dropPackageNum=c,this.teammatesNum=parseInt(l),this.unLockDiamond=r,this.unLockLevel=h,this.gameTime=u,this.readyTime=n,this.readyCountTime=v,this.gameOverCountTime=m,this.lockDes=d,this.successGetCoinNum=parseInt(T),this.successGetDiamondNum=parseInt(g)}));t._RF.pop()}}}));

System.register("chunks:///_virtual/SurvivalModeResources.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AbstractResourceControl.ts"],(function(e){"use strict";var r,a,o,t,u,n,c;return{setters:[function(e){r=e.inheritsLoose},function(e){a=e.cclegacy,o=e._decorator,t=e.Prefab,u=e.AudioClip,n=e.SpriteFrame},function(e){c=e.AbstractResourceControl}],execute:function(){var s;a._RF.push({},"1b85ark5rRLVKyk1/gb4KUQ","SurvivalModeResources",void 0);var l=o.ccclass;o.property,e("SurvivalModeResources",l("SurvivalModeResources")(s=function(e){function a(){for(var r,a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(r=e.call.apply(e,[this].concat(o))||this).resPkg={GameUI:[{assetType:t,urls:["Prefabs/SurvivalModeView","Prefabs/VictoryView","Prefabs/LoseView","Prefabs/GetMoreTimeView","Prefabs/BoostView","Prefabs/GetSkinView","Prefabs/ReviveTime"]}],Audio:[{assetType:u,urls:["Music/GameBG","Sound/Speak1","Sound/Speak2","Sound/Speak3","Sound/WarningTime","Sound/OpenDoor","Sound/PickItem","Sound/Punch1","Sound/Punch2","Sound/Punch3","Sound/Punch4","Sound/GoalComplete","Sound/Win","Sound/Lose","Sound/ScareBlue","Sound/ScareDreamFace","Sound/ScareGreen","Sound/ScareObunga","Sound/Help1","Sound/Help2","Sound/Help3","Sound/Behit1","Sound/Behit2","Sound/Behit3","Sound/Behit4"]}],GameAsset:[{assetType:t,urls:["Map/Level1/Map","Map/Level2/Map","Map/Level3/Map","Map/Level4/Map","Character/BlueMonster","Character/Friend","Character/Player","Character/Obuga","Character/GreenMonster","Character/DreamFace","CollectTargetPrefab/Box","CollectTargetPrefab/Bullet","CollectTargetPrefab/BlueMagic","CollectTargetPrefab/TheTu"]},{assetType:n,urls:["GameCollectTargetPic/Box/spriteFrame","GameCollectTargetPic/Bullet/spriteFrame","GameCollectTargetPic/BlueMagic/spriteFrame","GameCollectTargetPic/TheTu/spriteFrame"]}]},r}return r(a,e),a}(c))||s);a._RF.pop()}}}));

System.register("chunks:///_virtual/SurvivalModeView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AdManager.ts","./AdBridge.ts","./SoundManager.ts","./EventCenter.ts","./JoyStick.ts","./UIBase.ts","./UIManager.ts","./Vibrate.ts","./Constants.ts","./MoreTimeView.ts","./SettingView.ts","./SurvivalLoseView.ts","./VictoryView.ts","./AdsIdConfig.ts"],(function(e){"use strict";var t,i,n,a,s,o,l,r,h,c,m,d,u,v,f,T,g,p,I,N,G,S,C,U,w,P,y,O;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy,n=e._decorator,a=e.Label,s=e.Sprite,o=e.Vec3,l=e.tween,r=e.director,h=e.instantiate,c=e.Color,m=e.Tween},function(e){d=e.default},function(e){u=e.AdBridge},function(e){v=e.SoundManager},function(e){f=e.EventCenter},function(e){T=e.JoyStick},function(e){g=e.UIBase},function(e){p=e.UIManager,I=e.UITpye},function(e){N=e.Vibrate},function(e){G=e.Constants},function(e){S=e.MoreTimeView},function(e){C=e.SettingView},function(e){U=e.SurvivalLoseView},function(e){w=e.VictoryView},function(e){P=e.default,y=e.EPlatform,O=e.AdType}],execute:function(){var L;i._RF.push({},"6915bz32QtB051oypHPbVEm","SurvivalModeView",void 0);var A=n.ccclass;n.property,e("SurvivalModeView",A("SurvivalModeView")(L=function(e){function i(){for(var t,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).joyStick=void 0,t.startTimeNode=void 0,t.startTimeLable=void 0,t.findTargetNode=void 0,t.findTargetSprite=void 0,t.findTargetInfoPanel=void 0,t.timeNode=void 0,t.timeLable=void 0,t.collectTargetPicSprite=void 0,t.collectNumLable=void 0,t.gameTipNode=void 0,t.gameTipLabel=void 0,t.gameTipArr=void 0,t.isFinishGameTipTween=!0,t.userPicInfoPanel=void 0,t.tempUserInfo=void 0,t.userTextInfoPanel=void 0,t.tempUserInfoLabel=void 0,t.allUserPicSprite=void 0,t.allUserFailNode=void 0,t.allUserLabel=void 0,t.userPicAvatarAtlas=void 0,t.uiCollectTargetAtlas=void 0,t.timeUpNode=void 0,t.isGameOver=!1,t.victoryDelayShowTime=6,t.failDelayShowTime=2,t.levelInfo=void 0,t.isGetResultReward=!1,t.collectedNum=0,t.targetCollectNum=void 0,t.successRewardCoinNum=0,t}t(i,e);var n=i.prototype;return n.onLoad=function(){e.prototype.onLoad.call(this),this.FindChild()},n.FindChild=function(){this.AddBtnListener("HideBtn",this,this.OnClickHideBtn),this.AddBtnListener("SettingBtn",this,this.OnClickSettingBtn),this.startTimeNode=this.allNodes["TimePanel/StartTime"],this.startTimeLable=this.allNodes["TimePanel/StartTime/Label"].getComponent(a),this.findTargetNode=this.allNodes["TimePanel/FindTarget"],this.findTargetSprite=this.allNodes["TimePanel/FindTarget/Pic"].getComponent(s),this.timeNode=this.allNodes.TimeBg,this.timeLable=this.allNodes.Time.getComponent(a),this.findTargetInfoPanel=this.allNodes.FindTargetPanel,this.collectTargetPicSprite=this.allNodes["FindTargetPanel/CollectTargetPic"].getComponent(s),this.uiCollectTargetAtlas=this.collectTargetPicSprite.spriteAtlas,this.collectNumLable=this.allNodes["FindTargetPanel/CollectNum"].getComponent(a),this.gameTipNode=this.allNodes.GameTip,this.gameTipLabel=this.allNodes["GameTip/Label"].getComponent(a),this.userPicInfoPanel=this.allNodes.UserPicInfoPanel,this.tempUserInfo=this.allNodes["UserPicInfoPanel/UserInfo"],this.userTextInfoPanel=this.allNodes.UserTextInfoPanel,this.tempUserInfoLabel=this.allNodes["UserTextInfoPanel/UserInfoLabel"],this.userPicAvatarAtlas=this.tempUserInfo.getComponent(s).spriteAtlas,this.timeUpNode=this.allNodes.TimeUp},n.onEnable=function(){f.Instance.AddEventListener(G.Event_Game_ReadyCountDown,this.OnGameReadyCountDown,this),f.Instance.AddEventListener(G.Event_Game_CountTime,this.OnGameCountTime,this),f.Instance.AddEventListener(G.Event_Game_Start,this.OnGameStart,this),f.Instance.AddEventListener(G.Event_Game_Victory,this.OnGameVictory,this),f.Instance.AddEventListener(G.Event_Game_Fail,this.OnGameFail,this),f.Instance.AddEventListener(G.Event_Game_TimeUp,this.OnGameTimeUp,this),f.Instance.AddEventListener(G.Event_Game_HandTarget,this.OnGameHandTarget,this),f.Instance.AddEventListener(G.Event_Game_HandTargetOut,this.OnGameHandTargetOut,this),f.Instance.AddEventListener(G.Event_Game_UIRefreshCollectNum,this.OnGameUIRefreshCollectNum,this),f.Instance.AddEventListener(G.Event_Game_FirendFail,this.OnGameFirendFail,this)},n.onDisable=function(){this.RemoveListener()},n.onDestroy=function(){this.RemoveListener()},n.RemoveListener=function(){f.Instance.RemoveEventListener(G.Event_Game_ReadyCountDown,this.OnGameReadyCountDown,this),f.Instance.RemoveEventListener(G.Event_Game_CountTime,this.OnGameCountTime,this),f.Instance.RemoveEventListener(G.Event_Game_Start,this.OnGameStart,this),f.Instance.RemoveEventListener(G.Event_Game_Victory,this.OnGameVictory,this),f.Instance.RemoveEventListener(G.Event_Game_Fail,this.OnGameFail,this),f.Instance.RemoveEventListener(G.Event_Game_TimeUp,this.OnGameTimeUp,this),f.Instance.RemoveEventListener(G.Event_Game_HandTarget,this.OnGameHandTarget,this),f.Instance.RemoveEventListener(G.Event_Game_HandTargetOut,this.OnGameHandTargetOut,this),f.Instance.RemoveEventListener(G.Event_Game_UIRefreshCollectNum,this.OnGameUIRefreshCollectNum,this),f.Instance.RemoveEventListener(G.Event_Game_FirendFail,this.OnGameFirendFail,this)},n.ShowFaiCharacter=function(){this.levelInfo.levelIndex},n.OnGameReadyCountDown=function(e,t){this.RefreshGameReadyCountDown(e,t)},n.TimeFormat=function(e){return"0".repeat(2-String(Math.floor(e/60)).length)+Math.floor(e/60)+":"+"0".repeat(2-String(Math.floor(e%60)).length)+Math.floor(e%60)},n.OnGameCountTime=function(e,t){var i,n=e<t;i=e<=0?"00:00":this.TimeFormat(e),this.RefreshGameTimeCountDown(i,n)},n.OnGameStart=function(){var e=this;this.isGameOver=!1,p.Instance.HideUI(G.boostViewAssetPath,!0,!0),this.scheduleOnce((function(){e.startTimeNode.active=!1,e.findTargetNode.active=!1,e.timeNode.active=!0,e.timeLable.node.active=!0}),1)},n.OnGameVictory=function(e){var t=this;this.isGameOver||(this.isGameOver=!0,this.scheduleOnce((function(){t.successRewardCoinNum=e*G.collectBoxRewardCoinNum+t.levelInfo.successGetCoinNum,p.Instance.ShowUI(G.gameUIABName,G.victoryViewAssetPath,w,I.Normal,!0,t.successRewardCoinNum,t.levelInfo);var i=t.levelInfo.levelIndex;d.getInstance().reportAnalytics("gamevictory",{level:i}),P.platform!=y.VIVO&&P.platform!=y.OPPO||(d.getInstance().playAbnormalAD()?d.getInstance().playNewAd(O.策略过关非屏蔽地区):d.getInstance().playNewAd(O.策略过关屏蔽地区))}),this.victoryDelayShowTime))},n.OnGameFail=function(){this.isGameOver||(this.isGameOver=!0,this.ShowFailPanel(),this.ShowFaiCharacter(),P.platform!=y.VIVO&&P.platform!=y.OPPO||(d.getInstance().playAbnormalAD()?d.getInstance().playNewAd(O.策略过关非屏蔽地区):d.getInstance().playNewAd(O.策略过关屏蔽地区)))},n.OnGameTimeUp=function(){var e=this;this.timeUpNode.scale=o.ZERO,this.timeUpNode.active=!0,l(this.timeUpNode).delay(this.failDelayShowTime).call((function(){e.timeUpNode.active=!1,p.Instance.ShowUI(G.gameUIABName,G.moreTimeViewAssetPath,S,I.Pop,!0),e.scheduleOnce((function(){r.pause()}),.2)})).start()},n.OnGameHandTarget=function(e,t){this.RefreshUserInfoUI(e,t)},n.OnGameHandTargetOut=function(e){this.RefreshUserInfoUI(e,0)},n.OnGameFirendFail=function(e){this.RefreshUserInfoUI(e.friendId,0,!0),this.ShowGameTip(e.userName+" 被淘汰")},n.OnGameFinishTarget=function(e,t){this.RefreshFinishCollectNum(t,this.targetCollectNum),this.ShowGameTip(e+" 收集成功! ")},n.OnGameUIRefreshCollectNum=function(e){l(this.findTargetInfoPanel).to(.1,{scale:new o(1.2,1.2,1.2)}).to(.05,{scale:o.ONE}).start(),this.collectedNum=e,this.RefreshFinishCollectNum(e,this.targetCollectNum)},n.ShowFailPanel=function(){v.Instance.PlaySounds(G.soundLose),p.Instance.ShowUI(G.gameUIABName,G.loseViewAssetPath,U,I.Normal,!0,this.levelInfo,this.collectedNum);var e=this.levelInfo.levelIndex;d.getInstance().reportAnalytics("gamefail",{level:e})},n.InitGameUI=function(e){this.isGetResultReward=!1,this.levelInfo=e,this.targetCollectNum=e.collectTargetNum,this.RefreshFinishCollectNum(0,this.targetCollectNum),this.startTimeNode.active=!0,this.gameTipArr=[],this.InitUserInfoUI(e.teammatesNum+1),this.SetUICollectTarget(e.collectTargetType)},n.SetUICollectTarget=function(e){var t=this.uiCollectTargetAtlas.getSpriteFrame(e);this.findTargetSprite.spriteFrame=t,this.collectTargetPicSprite.spriteFrame=t},n.RefreshUserIcon=function(e,t){var i=this.userPicAvatarAtlas.getSpriteFrame(t);this.allUserPicSprite[e].spriteFrame=i},n.InitUserInfoUI=function(e){this.allUserPicSprite=[],this.allUserFailNode=[],this.allUserLabel=[];for(var t=0;t<e;t++){var i=h(this.tempUserInfo);this.userPicInfoPanel.addChild(i);var n=i.getChildByPath("Pic").getComponent(s),o=i.getChildByPath("FailPic");this.allUserPicSprite.push(n),this.allUserFailNode.push(o),i.active=!0;var l=h(this.tempUserInfoLabel);this.userTextInfoPanel.addChild(l);var r=l.getComponent(a);this.allUserLabel.push(r),l.active=!0}},n.RefreshUserInfoUI=function(e,t,i){void 0===i&&(i=!1),i?(this.allUserFailNode[e].active=!0,this.allUserLabel[e].string="0"):this.allUserLabel[e].string=t+""},n.RefreshGameReadyCountDown=function(e,t){e<t&&(v.Instance.PlaySounds(G.soundWarnTime),N.VibrateShort()),this.startTimeLable.string=e+"s"},n.RefreshFinishCollectNum=function(e,t){this.collectNumLable.string=e+" / "+t},n.RefreshGameTimeCountDown=function(e,t){void 0===t&&(t=!1),this.timeLable.string=e,t&&(v.Instance.PlaySounds(G.soundWarnTime),N.VibrateShort(),this.timeLable.color=c.RED)},n.ShowGameTip=function(e){this.gameTipArr.push(e),this.ShowGameTipTween()},n.ShowGameTipTween=function(){var e=this;if(this.isFinishGameTipTween){var t=this.gameTipArr.shift();null!=t&&null!=t&&(this.isFinishGameTipTween=!1,this.gameTipNode.scale=o.ZERO,this.gameTipNode.active=!0,this.gameTipLabel.string=t,l(this.gameTipNode).to(.3,{scale:o.ONE}).delay(2).set({active:!1}).call((function(){e.isFinishGameTipTween=!0,e.ShowGameTipTween()})).start())}},n.StopGameTipTween=function(){m.stopAllByTarget(this.gameTipNode)},n.OnClickSettingBtn=function(){v.Instance.PlaySounds(G.soundBtnClick),p.Instance.ShowUI(G.commonABName,G.settingPanelAssetPath,C,I.Pop,!0,!0),u.OnGameClickSetting()},n.OnClickHideBtn=function(){f.Instance.TriggerEvent(G.Event_Player_HideClick)},n.GetJoyStick=function(){var e="JoyStickView/JoyStick";return this.joyStick=this.allNodes[e].getComponent(T),null!=this.joyStick&&null!=this.joyStick||(this.joyStick=this.allNodes[e].addComponent(T)),this.joyStick},i}(g))||L);i._RF.pop()}}}));

System.register("chunks:///_virtual/TiktokADApi.ts",["cc","./TipManager.ts","./AdManager.ts","./MiniSDK.ts"],(function(t){"use strict";var e,o,n,i,s;return{setters:[function(t){e=t.cclegacy,o=t._decorator},function(t){n=t.TipManager},function(t){i=t.default},function(t){s=t.MiniSDK}],execute:function(){var a;e._RF.push({},"b11c8a9eKBF37fzU9QDZ3Ao","TiktokADApi",void 0);var c=o.ccclass;o.property,t("default",c(a=function(){function t(){this.PassiveVideoData=void 0,this.AdCustomBannerData=void 0,this.AdCustomTypeData=void 0,this.ADNewNativeAdData=void 0,this.ADNewNativeTypeData=void 0,this.ADNewConfig=void 0,this.SystemBannerData=null,this.SystemIntersData=null,this.VideoData=null,this.NativeBannerData=null,this.NativeIntersData=null,this.NativeIconData=null,this.JGGBoxData=null,this.BlockData=null,this.AdCustomIntersData=null,this.tt=window.tt,this.bannerAd=null,this.loadSucc_SystemBanner=!1,this.systemIntersAd=null,this.loadSucc_SystemInters=!1,this.rewardedVideoAd=null,this.loadSucc_Video=!1,this.callback_Video=null,this.isShow_Video=!1,this.nativeAd=null,this.resTemp=null,this.recorder=null,this.videoPath=null,this.timeCount=0,this.recordTime=0,this.templateId=0,this.systemInfo=null,this.minRecordTime=3e3,this.maxRecordTime=290,this.clipIndexList=[]}var e=t.prototype;return e.onInit=function(t){null!==this.tt&&void 0!==this.tt?(this.systemInfo=this.tt.getSystemInfoSync(),console.log("MINIGAME ===> ",this.systemInfo),this.createAd()):this.tt=null,t&&t(),console.log("MINIGAME ===> toutiao ===================> onInit ok")},e.createAd=function(){console.log("111"+this.SystemBannerData),this.SystemIntersData&&this.SystemIntersData.enabled&&""!=this.SystemIntersData.vendor_position&&this.createSystemInters(),this.VideoData.enabled&&""!=this.VideoData.vendor_position&&this.createVideo()},e.setGroup=function(t){},e.onLogin=function(){},e.onShare=function(t){},e.StartRecorder=function(t){void 0===t&&(t=300),console.log("MINIGAME ===> 开始录屏"),null==this.tt&&null==this.tt||(this.recorder=this.tt.getGameRecorderManager(),this.recorder.start({duration:t}),this.timeCount=Date.parse((new Date).toString()),this.recordTime=0)},e.recordClipRecorder=function(t){this.recorder&&this.recorder.recordClip({timeRange:t,success:function(t){console.log("MINIGAME ===> 分享索引",t.index),i.getInstance().platformAdApi.clipIndexList.push(t.index)}})},e.pauseGameVideo=function(){console.log("MINIGAME ===> ","Tiktok 暂停录屏=================="),this.recorder&&this.recorder.pause()},e.resumeGameVideo=function(){console.log("MINIGAME ===> ","Tiktok 继续录屏=================="),this.recorder&&this.recorder.resume()},e.stopRecordScreen=function(t){var e=this;console.log("MINIGAME ===> 结束录屏",this.clipIndexList);var o=Date.parse((new Date).toString());if(this.recordTime=o-this.timeCount-2e3,null!=this.tt||null!=this.tt){var n=this.recordTime/1e3;n>this.maxRecordTime&&(n=this.maxRecordTime),this.recordClipRecorder([n,0]),this.recorder.onStop((function(t){e.recorder.clipVideo({path:t.videoPath,timeRange:e.clipIndexList,success:function(t){console.log("MINIGAME ===>",t.videoPath),i.getInstance().platformAdApi.videoPath=t.videoPath},fail:function(t){console.error(t)}}),console.log("MINIGAME ===> 结束录屏-录屏地址："+t.videoPath)})),this.recorder.stop()}},e.ShareVideo=function(t,e,o){this.recordTime<this.minRecordTime?s.showToast("录屏小于3s,无法分享"):null!=this.tt&&null!=this.tt&&(console.log("MINIGAME ===> tt平台 调用分享"),this.tt.shareAppMessage({channel:"video",templateId:e,title:t,desc:t,extra:{videoPath:this.videoPath,videoTopics:[t,"小游戏"],video_title:""},success:function(){o&&o("1")},fail:function(t){o&&o(t.errMsg)}}))},e.createSystemBanner=function(){var t=this;null!==this.tt&&void 0!==this.tt?(this.loadSucc_SystemBanner=!1,console.log("MINIGAME ===> toutiao平台 创建Banner横幅广告",this.SystemBannerData.vendor_position),this.bannerAd=this.tt.createBannerAd({adUnitId:this.SystemBannerData.vendor_position,style:{width:this.systemInfo.screenWidth,top:this.systemInfo.windowHeight-this.systemInfo.screenWidth/16*9}}),this.bannerAd.onResize((function(e){t.bannerAd.style.top=t.systemInfo.windowHeight-e.height,t.bannerAd.style.left=(t.systemInfo.windowWidth-e.width)/2-50})),this.bannerAd.onLoad((function(){console.log("MINIGAME ===> ","Tiktok banner 加载成功========================"),t.loadSucc_SystemBanner=!0}))):console.log("MINIGAME ===> this.tt == null")},e.showSystemBanner=function(){this.bannerAd&&(console.log("MINIGAME ===> ","Tiktok showSystemBanner========================"),this.bannerAd.show())},e.hideSystemBanner=function(){this.bannerAd&&(console.log("MINIGAME ===> ","Tiktok hideSystemBanner========================"),this.bannerAd.hide())},e.hideBanner=function(){this.bannerAd&&this.hideSystemBanner()},e.showBanner=function(){this.showSystemBanner()},e.createVideo=function(){var t=this;null!==this.tt&&void 0!==this.tt&&(console.log("MINIGAME ===> toutiao平台 创建激励视频广告",this.VideoData.vendor_position),this.rewardedVideoAd=this.tt.createRewardedVideoAd({adUnitId:this.VideoData.vendor_position}),this.rewardedVideoAd.onLoad((function(){console.log("MINIGAME ===> 激励视频广告 加载成功"),t.loadSucc_Video=!0})),this.rewardedVideoAd.onError((function(e){console.log("MINIGAME ===>  激励视频 加载失败:code =====>:"+e.code+"message ======>:"+JSON.stringify(e)),t.loadSucc_Video=!1,setTimeout((function(){t.rewardedVideoAd&&t.rewardedVideoAd.load()}),1e4)})),this.rewardedVideoAd.onClose((function(e){setTimeout((function(){e.isEnded?(console.log("MINIGAME ===> ","Tiktok 激励视频广告完成，发放奖励"),t.callback_Video&&(t.callback_Video(!0),t.loadSucc_Video=!1,t.rewardedVideoAd.load())):(console.log("MINIGAME ===> ","Tiktok 激励视频广告取消，不发放奖励"),t.callback_Video&&(t.callback_Video(!1),t.loadSucc_Video=!1,t.rewardedVideoAd.load())),t.isShow_Video=!1}),300)})),this.rewardedVideoAd.load())},e.showVideo=function(t){var e=this;if(this.rewardedVideoAd&&this.loadSucc_Video){if(this.isShow_Video)return void console.log("MINIGAME ===> ","视频正在播放中,请勿多次点击！");this.isShow_Video=!0,this.callback_Video=t,this.rewardedVideoAd.show().then((function(){console.log("MINIGAME ===> ","Tiktok 激励视频广告显示成功")})).catch((function(t){console.log("MINIGAME ===> ","Tiktok 激励视频广告组件出现问题",JSON.stringify(t)),e.rewardedVideoAd.load().then((function(){console.log("MINIGAME ===> ","Tiktok 激励视频广告手动加载成功"),e.rewardedVideoAd.show().catch((function(t){console.log("MINIGAME ===> ","Tiktok 激励视频广告播放失败",JSON.stringify(t)),e.isShow_Video=!1,e.callback_Video(!1)}))}))}))}else this.isShow_Video=!1,t(!1)},e.showVideoAward=function(){},e.showVideoFail=function(){},e.createSystemInters=function(){var t=this;null!=this.tt&&null!=this.tt&&(console.log("MINIGAME ===> 创建插屏",this.SystemIntersData.vendor_position),this.systemIntersAd=this.tt.createInterstitialAd({adUnitId:this.SystemIntersData.vendor_position}),this.systemIntersAd.onError((function(e){console.log("MINIGAME ===> toutiao InsertAd load Error:"+JSON.stringify(e)),t.systemIntersAd&&setTimeout((function(){t.systemIntersAd&&t.systemIntersAd.load()}),1e4)})),this.systemIntersAd.onLoad((function(){console.log("MINIGAME ===>插屏加载完成"),t.loadSucc_SystemInters=!0})),this.systemIntersAd.onClose((function(){console.log("MINIGAME ===> ","Tiktok 关闭插屏,重新创建插屏广告"),setTimeout((function(){t.systemIntersAd&&t.systemIntersAd.load()}),2e3),t.loadSucc_SystemInters=!1})),this.systemIntersAd.load())},e.showInsertAd=function(){null!=this.tt&&null!=this.tt&&this.systemIntersAd&&this.loadSucc_SystemInters&&(console.log("MINIGAME ===> ","Tiktok showSystemInters========================"),this.systemIntersAd.show())},e.createNativeAd=function(){},e.showNativeAd=function(t,e,o){},e.onNativeAdClick=function(t){},e.onNativeReportAdShow=function(t){},e.createNativeIconAd=function(){},e.showNativeIconAd=function(){},e.onNativeIconAdClick=function(t){},e.reportNativeBannerShow=function(t){},e.reportNativeBannerClick=function(t){},e.getNativeAdInfo=function(t){return null},e.getHWNativeAdInfo=function(t){},e.reportNativeImageShow=function(t){},e.reportNativeImageClick=function(t){},e.loadNativeImage=function(){},e.getNativeIconAdInfo=function(t){},e.reportNativeIconShow=function(t){},e.reportNativeIconClick=function(t){},e.loadNativeIcon=function(){},e.createGridAd=function(t,e){},e.saveDataToCache=function(t,e){},e.readDataFromCache=function(t){},e.showNavigateBoxPortal=function(){},e.showNavigateBoxBanner=function(){},e.hideNavigateBoxBanner=function(){},e.addDesktop=function(t){this.tt.addShortcut({success:function(e){console.log("MINIGAME ===> ","添加桌面成功"),t(!0)},fail:function(e){console.log("MINIGAME ===> ","添加桌面失败：",JSON.stringify(e)),t(!1)}})},e.hasShortcutInstalled=function(t){null!=this.tt&&null!=this.tt&&this.tt.checkShortcut({success:function(e){!e.status.exist||e.status.needUpdate?(console.log("MINIGAME ===> ","checkShortcut res:",JSON.stringify(e)),console.log("MINIGAME ===> ","Tiktok 未创建桌面图标或图标需要更新"),t(!0)):(console.log("MINIGAME ===> ","Tiktok 已创建桌面图标"),t(!1))},fail:function(t){console.log("MINIGAME ===> ","Tiktok 添加桌面图标失败：",JSON.stringify(t.errMsg)),n.Instance.ShowTip("添加图标失败!")}})},e.createMoreGamesBtn=function(){},e.showMoreGamesBtn=function(){},e.jumpToGame=function(t){},e.addColorBookmark=function(){},e.addSubscribeApp=function(){},e.phoneVibrate=function(t){null!=this.tt&&null!=this.tt&&(t?this.tt.vibrateLong&&this.tt.vibrateLong():this.tt.vibrateShort&&this.tt.vibrateShort())},e.reportAnalytics=function(t,e){null!=this.tt&&null!=this.tt&&this.tt.reportAnalytics(t,e)},e.hideCustomAd=function(){},e.showGridAd=function(){},e.hideGridAd=function(){},e.showCustomAd=function(){},e.hideCustomIconAd=function(){},e.showCustomIconAd=function(){},e.ShowGameIconAd=function(){},e.HideGameIconAd=function(){},e.ShowHomeIconAd=function(){},e.HideHomeIconAd=function(){},e.ShowSideAd=function(){},e.HideSideAd=function(){},e.ShowMoreGamesAd=function(){},e.HideMoreGamesAd=function(){},e.ShowBannerNativeAd=function(){},e.HideBannerNativeAd=function(){},e.navigateToScene=function(t,e){this.tt.navigateToScene({scene:"sidebar",success:function(e){console.log("navigate to scene success"),t&&t()},fail:function(t){console.log("navigate to scene fail: ",t),e&&e()}})},e.showPassiveVideo=function(t){},e.showCustomType12=function(t,e){},e.showADNewNativeType12=function(t,e){},e.showCustomBanner=function(t){},e.hideCustomBanner=function(){},t}())||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/TimeTools.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"d6fbcuDFxFJkajOwv0zx3T8","TimeTools",void 0);t("TimeTools",function(){function t(){}return t.ConvertToMS=function(t){},t.ConvertToHMS=function(t){var e=0|t/3600,n=0|t%3600/60,o=0|t%3600%60;return(e<10?"0"+e:e)+":"+(n<10?"0"+n:n)+":"+(o<10?"0"+o:o)},t.GetCurrentDayEndTime=function(){var t=new Date,e=t.getFullYear(),n=t.getMonth()+1,o=t.getDate(),r=n>=10?n.toString():"0"+n,u=o>=10?o.toString():"0"+o;return new Date(e+"/"+r+"/"+u+" 23:59:59").getTime()},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/TipManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AssetManager.ts","./StringHelper.ts"],(function(t){"use strict";var i,e,n,s,o,a,p,r,h,c;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator,s=t.instantiate,o=t.Label,a=t.Vec3,p=t.tween,r=t.Component},function(t){h=t.AssetManager},function(t){c=t.StringHelper}],execute:function(){var u,d;e._RF.push({},"3cd12VUS9JDZI5jLcozjdR6","TipManager",void 0);var l=n.ccclass;n.property,t("TipManager",l("TipManager")(((d=function(t){function e(){for(var i,e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return(i=t.call.apply(t,[this].concat(n))||this).tipsQue=void 0,i.tipNode=void 0,i.tipLabel=void 0,i.tipRootNode=void 0,i.tipRootPath="UIRoot/TipNode",i.abBundleName="Common",i.abBundlePath="Prefabs/Tip",i.isInit=!1,i}i(e,t);var n=e.prototype;return n.onLoad=function(){null==e.Instance?e.Instance=this:this.destroy()},n.Init=function(){if(!this.isInit){this.tipsQue=new Array;var t=h.Instance.GetAssets(this.abBundleName,this.abBundlePath);this.tipRootNode=this.node.getChildByPath(this.tipRootPath),this.tipNode=s(t),this.tipRootNode.addChild(this.tipNode),this.tipNode.active=!1,this.tipLabel=this.tipNode.getChildByPath("Label").getComponent(o),this.isInit=!0}},n.ShowTip=function(t){this.tipsQue.push(t),this.CheckTipsQue()},n.CheckTipsQue=function(){var t=this.tipsQue.shift();c.isEmptyStr(t)||this.TweenTip(t)},n.TweenTip=function(t){var i=this;this.tipLabel.string=t,this.tipNode.scale=a.ZERO,this.tipNode.active=!0,p(this.tipNode).to(.1,{scale:a.ONE}).delay(2).call((function(){i.tipNode.active=!1,i.CheckTipsQue()})).start()},e}(r)).Instance=null,u=d))||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/TrySkinView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AdManager.ts","./AdBridge.ts","./SoundManager.ts","./EventCenter.ts","./TipManager.ts","./UIBase.ts","./UIManager.ts","./Constants.ts"],(function(n){"use strict";var t,e,i,s,r,o,a,c,l,u,d;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,i=n._decorator},function(n){s=n.default},function(n){r=n.AdBridge},function(n){o=n.SoundManager},function(n){a=n.EventCenter},function(n){c=n.TipManager},function(n){l=n.UIBase},function(n){u=n.UIManager},function(n){d=n.Constants}],execute:function(){var g;e._RF.push({},"5b895Ug2ZRJaJ4B2fpnvGAu","TrySkinView",void 0);var h=i.ccclass;i.property,n("TrySkinView",h("TrySkinView")(g=function(n){function e(){for(var t,e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];return(t=n.call.apply(n,[this].concat(i))||this).isHostileMode=!1,t}t(e,n);var i=e.prototype;return i.onLoad=function(){n.prototype.onLoad.call(this),this.AddBtnListener("CloseBtn",this,this.OnClickCloseBtn),this.AddBtnListener("RewardBtn",this,this.OnClickRewardBtn)},i.OnClickCloseBtn=function(){this.isHostileMode?(a.Instance.TriggerEvent(d.Event_HostilePlayer_GetRollSkill),u.Instance.HideUI(d.getSkinViewAssetPath,!0,!0,!0)):u.Instance.HideUI(d.getSkinViewAssetPath,!0,!0,!1)},i.OnClickRewardBtn=function(){s.getInstance().reportAnalytics("reward_tryskin",{}),r.ShowRewardVideo((function(){a.Instance.TriggerEvent(d.Event_Player_TrySkin),o.Instance.PlaySounds(d.soundUnlockSuccess),c.Instance.ShowTip("恭喜您本局获得试用皮肤!"),u.Instance.HideUI(d.getSkinViewAssetPath,!0,!0)}))},i.OnHide=function(n){this.isHostileMode?a.Instance.TriggerEvent(d.Event_Game_Start):a.Instance.TriggerEvent(d.Event_Game_SetGameTime),r.OnHideTrySkinPanel()},i.OnShow=function(){this.isHostileMode=arguments.length<=0?void 0:arguments[0],r.OnShowTrySkinPanel()},e}(l))||g);e._RF.pop()}}}));

System.register("chunks:///_virtual/UIBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LogUtil.ts"],(function(n){"use strict";var t,e,i,o;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,i=n.Component},function(n){o=n.LogUtil}],execute:function(){e._RF.push({},"bb482fLr2JEg7y6DkLpEaHL","UIBase",void 0);n("UIBase",function(n){function e(){for(var t,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(t=n.call.apply(n,[this].concat(i))||this).allNodes={},t}t(e,n);var i=e.prototype;return i.onLoad=function(){this.GetAllNodes(this.node,"")},i.Show=function(){this.OnShow.apply(this,arguments),this.node.active=!0},i.Hide=function(n){void 0===n&&(n=null),this.OnHide(n),this.node.active=!1},i.OnShow=function(){},i.OnHide=function(n){},i.GetAllNodes=function(n,t){for(var e=0;e<n.children.length;e++)this.allNodes[t+n.children[e].name]=n.children[e],this.GetAllNodes(n.children[e],t+n.children[e].name+"/")},i.AddBtnListener=function(n,t,e){var i=this.allNodes[n];i?i.on("click",e,t):o.Error(n+"Not Exist!")},e}(i));e._RF.pop()}}}));

System.register("chunks:///_virtual/UIManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AssetManager.ts","./LogUtil.ts","./AdBridge.ts"],(function(e){"use strict";var o,t,i,n,a,s,d,l,r,h;return{setters:[function(e){o=e.inheritsLoose},function(e){t=e.cclegacy,i=e._decorator,n=e.instantiate,a=e.Vec3,s=e.tween,d=e.Component},function(e){l=e.AssetManager},function(e){r=e.LogUtil},function(e){h=e.AdBridge}],execute:function(){var u,c;e("UITpye",void 0),t._RF.push({},"d3d48TqbS5BrLaGxgJFWtTr","UIManager",void 0);var N,p=i.ccclass;i.property;!function(e){e[e.Normal=0]="Normal",e[e.Fixed=1]="Fixed",e[e.Pop=2]="Pop"}(N||(N=e("UITpye",{})));e("UIManager",p("UIManager")(((c=function(e){function t(){for(var o,t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return(o=e.call.apply(e,[this].concat(i))||this).allPanelDic=new Map,o.canvasNode=void 0,o.uiRootNode=void 0,o.uiNormalNode=void 0,o.uiFixedNode=void 0,o.uiPopNode=void 0,o.popMask=void 0,o}o(t,e);var i=t.prototype;return i.onLoad=function(){null==t.Instance?(this.canvasNode=this.node,this.uiRootNode=this.node.getChildByPath("UIRoot"),t.Instance=this):this.destroy()},i.GetCanvasNode=function(){return this.canvasNode},i.GetUIRootNode=function(){return null==this.uiRootNode&&(this.uiRootNode=this.node.getChildByPath("UIRoot")),this.uiRootNode},i.Init=function(){},i.GetUINormalNode=function(){if(null==this.uiNormalNode||null==this.uiNormalNode){var e=this.GetUIRootNode();this.uiNormalNode=e.getChildByPath("NormalNode")}return this.uiNormalNode},i.GetUIFixedNode=function(){if(null==this.uiFixedNode||null==this.uiFixedNode){var e=this.GetUIRootNode();this.uiFixedNode=e.getChildByPath("FixedNode")}return this.uiFixedNode},i.GetUIPopNode=function(){if(null==this.uiPopNode||null==this.uiPopNode){var e=this.GetUIRootNode();this.uiPopNode=e.getChildByPath("PopNode"),this.popMask=this.uiPopNode.getChildByPath("Mask")}return this.uiPopNode},i.GetUIScript=function(e){var o;return this.allPanelDic.has(e)&&(o=this.allPanelDic.get(e)),o},i.ShowUI=function(e,o,t,i,a){void 0===i&&(i=N.Normal),void 0===a&&(a=!1),r.Log("ShowUI:"+e+" "+o),console.log("打开  "+o),h.closeBannerNative();for(var s=arguments.length,d=new Array(s>5?s-5:0),u=5;u<s;u++)d[u-5]=arguments[u];if(this.allPanelDic.has(o)){var c=this.allPanelDic.get(o);return a&&c.node.setSiblingIndex(1e3),i==N.Pop&&(this.popMask.active=!0,this.TweenScale(c.node)),c.Show.apply(c,d),c}var p,v,g,P=l.Instance.GetAssets(e,o),f=n(P);switch(i){case N.Normal:p=this.GetUINormalNode();break;case N.Fixed:p=this.GetUIFixedNode();break;case N.Pop:p=this.GetUIPopNode();break;default:r.Log("uitype error!:"+i)}(p.addChild(f),i==N.Pop&&(this.popMask.active=!0,this.TweenScale(f)),t)&&(g=v=f.addComponent(t)).Show.apply(g,d);return this.allPanelDic.set(o,v),v},i.TweenScale=function(e){e.scale=a.ZERO,s(e).to(.1,{scale:a.ONE}).start()},i.HideUI=function(e,o,t,i){if(void 0===o&&(o=!1),void 0===t&&(t=!1),void 0===i&&(i=!0),this.allPanelDic.has(e)){console.log("关闭  "+e),h.openBannerNative();var n=this.allPanelDic.get(e);n.Hide(),o&&i&&(this.popMask.active=!1),t&&(this.allPanelDic.delete(e),n.node.destroy())}},t}(d)).Instance=null,u=c))||u);t._RF.pop()}}}));

System.register("chunks:///_virtual/UISurvivalModeItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameDataManager.ts","./UserDataManager.ts","./AdBridge.ts","./SoundManager.ts","./EventCenter.ts","./TipManager.ts","./Constants.ts","./GameManager.ts"],(function(e){"use strict";var t,i,s,o,n,a,l,d,c,r,h,u,v,m,g,I;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy,s=e._decorator,o=e.Label,n=e.Sprite,a=e.Input,l=e.Component},function(e){d=e.GameDataManager},function(e){c=e.UserDataManager},function(e){r=e.AdBridge},function(e){h=e.SoundManager},function(e){u=e.EventCenter},function(e){v=e.TipManager},function(e){m=e.Constants},function(e){g=e.GameManager,I=e.GameMode}],execute:function(){var k;i._RF.push({},"99a27XCgENO55Gxfdz9oZEJ","UISurvivalModeItem",void 0);var f=s.ccclass;s.property,e("UISurvivalModeItem",f("UISurvivalModeItem")(k=function(e){function i(){for(var t,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return(t=e.call.apply(e,[this].concat(s))||this).levelId=0,t.survivalModeInfo=void 0,t.levelNameLable=void 0,t.describeLable=void 0,t.blackMask=void 0,t.successNumLabel=void 0,t.failLabel=void 0,t.lockStatusNode=void 0,t.lockDesNode=void 0,t.lockDesLable=void 0,t.diamondProgressBGNode=void 0,t.diamondProgressLabel=void 0,t.diamondProgressBarSprite=void 0,t.onClickFunc=void 0,t.isInit=!1,t}t(i,e);var s=i.prototype;return s.onLoad=function(){this.FindChild()},s.FindChild=function(){this.isInit||(this.isInit=!0,this.levelNameLable=this.node.getChildByPath("LevelName").getComponent(o),this.describeLable=this.node.getChildByPath("Describe").getComponent(o),this.blackMask=this.node.getChildByPath("BlackMask"),this.successNumLabel=this.blackMask.getChildByPath("SucceesNum").getComponent(o),this.failLabel=this.blackMask.getChildByPath("FailNum").getComponent(o),this.lockStatusNode=this.node.getChildByPath("LockStatus"),this.lockDesNode=this.lockStatusNode.getChildByPath("LockDes"),this.lockDesLable=this.lockDesNode.getComponent(o),this.diamondProgressBGNode=this.lockStatusNode.getChildByPath("ProgressBG"),this.diamondProgressLabel=this.diamondProgressBGNode.getChildByPath("DiamondNum").getComponent(o),this.diamondProgressBarSprite=this.diamondProgressBGNode.getChildByPath("ProgressBar").getComponent(n),this.node.on(a.EventType.TOUCH_END,this.OnclickItem,this))},s.OnclickItem=function(){h.Instance.PlaySounds(m.soundBtnClick),this.onClickFunc&&this.onClickFunc()},s.RefreshUI=function(e){var t=this;this.FindChild(),null==this.survivalModeInfo&&(this.survivalModeInfo=d.Instance.GetSurvivalModeLevelData(e),this.levelId=this.survivalModeInfo.levelIndex),this.RefreshBaseInfo();var i=c.Instance.GetUnLockedLevel(),s=i+1,o=!1;if(c.Instance.GetResultNum(i)[0]&&(o=!0),this.levelId<s){this.lockStatusNode.active=!1,this.blackMask.active=!0;var n=c.Instance.GetResultNum(this.levelId);this.successNumLabel.string=""+n[0],this.failLabel.string=""+n[1],this.onClickFunc=function(){r.IntoGame(t.levelId),g.Instance.PlayGame(I.SurvivorMode,t.levelId)}}else if(this.levelId==s&&o){this.blackMask.active=!1,this.lockStatusNode.active=!0,this.lockDesNode.active=!1,this.diamondProgressBGNode.active=!0;var a=c.Instance.GetDiamondNum();this.diamondProgressLabel.string=a+"/"+this.survivalModeInfo.unLockDiamond,this.diamondProgressBarSprite.fillRange=a/this.survivalModeInfo.unLockDiamond,a>=this.survivalModeInfo.unLockDiamond?this.onClickFunc=function(){c.Instance.ReduceDiamondNum(t.survivalModeInfo.unLockDiamond)&&(c.Instance.SetUnLockLevel(),t.RefreshUI(t.levelId)),v.Instance.ShowTip("解锁成功!"),u.Instance.TriggerEvent(m.Event_UIHome_RefreshDiamondNum)}:this.onClickFunc=function(){v.Instance.ShowTip("钻石不足!")}}else this.blackMask.active=!1,this.lockStatusNode.active=!0,this.diamondProgressBGNode.active=!1,this.lockDesNode.active=!0,this.onClickFunc=function(){v.Instance.ShowTip(""+t.survivalModeInfo.lockDes)}},s.RefreshBaseInfo=function(){this.levelNameLable.string=this.survivalModeInfo.levelName,this.describeLable.string=this.survivalModeInfo.levelDes,this.lockDesLable.string=this.survivalModeInfo.lockDes},i}(l))||k);i._RF.pop()}}}));

System.register("chunks:///_virtual/UISurvivalModePanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UISurvivalModeItem.ts"],(function(t){"use strict";var e,i,r,n,o;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,r=t._decorator,n=t.Component},function(t){o=t.UISurvivalModeItem}],execute:function(){var u;i._RF.push({},"ba79a/yvXhKeb8BMvQPo+Fg","UISurvivalModePanel",void 0);var a=r.ccclass;r.property,t("UISurvivalModePanel",a("UISurvivalModePanel")(u=function(t){function i(){for(var e,i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))||this).uiSurvivalModeItemArr=void 0,e.contentNode=void 0,e.isInit=!1,e}e(i,t);var r=i.prototype;return r.onLoad=function(){this.InitUI()},r.InitUI=function(){if(!this.isInit&&(this.isInit=!0,this.contentNode=this.node.getChildByPath("Content"),null==this.uiSurvivalModeItemArr||null==this.uiSurvivalModeItemArr)){this.uiSurvivalModeItemArr=new Array;for(var t=0;t<this.contentNode.children.length;t++){var e=this.contentNode.children[t].addComponent(o);e.RefreshUI(t),this.uiSurvivalModeItemArr.push(e)}}},r.RefreshUI=function(){this.InitUI();for(var t=0;t<this.uiSurvivalModeItemArr.length;t++)this.uiSurvivalModeItemArr[t].RefreshUI(t)},i}(n))||u);i._RF.pop()}}}));

System.register("chunks:///_virtual/UserDataManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StringHelper.ts","./TimeTools.ts"],(function(t){"use strict";var a,e,s,i,u,r;return{setters:[function(t){a=t.inheritsLoose},function(t){e=t.cclegacy,s=t._decorator,i=t.Component},function(t){u=t.StringHelper},function(t){r=t.TimeTools}],execute:function(){var n,l;e._RF.push({},"95e29CSNuVNRKMIZT97Hp9r","UserDataManager",void 0);var D=s.ccclass;s.property,t("UserDataManager",D("UserDataManager")(((l=function(t){function e(){for(var a,e=arguments.length,s=new Array(e),i=0;i<e;i++)s[i]=arguments[i];return(a=t.call.apply(t,[this].concat(s))||this).userDataModel={version:1,isFirstTime:0,music:1,sound:1,vibrate:1,coinNum:0,diamondNum:0,unlockLevel:1,victoryNum:[0,0,0,0],failNum:[0,0,0,0],selectSkin:0,characterSkin:[1,0,0,0,0,0,0,0,0,0],hideAniType:[1,0,0,0,0,0,0,0],signedDay:0,lastSignInTime:0,lastSpinTime:0},a.userData=null,a.spinInterval=144e5,a}a(e,t);var s=e.prototype;return s.onLoad=function(){null==e.Instance?e.Instance=this:this.destroy()},s.SetUserData=function(){var t;return t=null==this.userData||null==this.userData||u.isEmptyStr(this.userData)?JSON.stringify(this.userDataModel):JSON.stringify(this.userData),localStorage.setItem(e.userDataKey,t),t},s.GetUserData=function(){if(null==this.userData||null==this.userData){var t=localStorage.getItem(e.userDataKey);if(null==t||null==t||u.isEmptyStr(t)){var a=this.SetUserData();this.userData=JSON.parse(a)}else this.userData=JSON.parse(t)}},s.SaveUserData=function(){this.SetUserData()},s.GetMusicStatus=function(){return null!=this.userData&&null!=this.userData||this.GetUserData(),this.userData.music},s.SetMusicStatus=function(){return null!=this.userData&&null!=this.userData||this.GetUserData(),this.userData.music=!this.userData.music,this.userData.music},s.GetSoundStatus=function(){return null!=this.userData&&null!=this.userData||this.GetUserData(),this.userData.sound},s.SetSoundStatus=function(){return null!=this.userData&&null!=this.userData||this.GetUserData(),this.userData.sound=!this.userData.sound,this.userData.sound},s.GetVibrateStatus=function(){return null!=this.userData&&null!=this.userData||this.GetUserData(),this.userData.vibrate},s.SetVibrateStatus=function(){return null!=this.userData&&null!=this.userData||this.GetUserData(),this.userData.vibrate=!this.userData.vibrate,this.userData.vibrate},s.GetUnLockedLevel=function(){return null!=this.userData&&null!=this.userData||this.GetUserData(),parseInt(this.userData.unlockLevel)},s.SetUnLockLevel=function(){null!=this.userData&&null!=this.userData||this.GetUserData();var t=parseInt(this.userData.unlockLevel);this.userData.unlockLevel=t+1,this.SetUserData()},s.SetResultNum=function(t,a){if(t-=1,null!=this.userData&&null!=this.userData||this.GetUserData(),a){var e=this.userData.victoryNum,s=parseInt(e[t]);e[t]=s+1,this.userData.victoryNum=e}else{var i=this.userData.failNum,u=parseInt(i[t]);i[t]=u+1,this.userData.failNum=i}this.SetUserData()},s.GetResultNum=function(t){return null!=this.userData&&null!=this.userData||this.GetUserData(),t-=1,[this.userData.victoryNum[t],this.userData.failNum[t]]},s.GetAllWinNum=function(){for(var t=this.userData.victoryNum,a=0,e=0;e<t.length;e++)a+=parseInt(t[e]);return a},s.GetSkinStatus=function(){return null!=this.userData&&null!=this.userData||this.GetUserData(),this.userData.characterSkin},s.UnLockSkin=function(t){null!=this.userData&&null!=this.userData||this.GetUserData();var a=this.userData.characterSkin;a[t]=1,this.userData.characterSkin=a,this.SetUserData()},s.GetCurrentSelectSkinType=function(){return null!=this.userData&&null!=this.userData||this.GetUserData(),this.userData.selectSkin},s.SetCurrentSelectSkinType=function(t){null!=this.userData&&null!=this.userData||this.GetUserData(),this.userData.selectSkin=t,this.SetUserData()},s.GetHideAniTypeStatus=function(){return null!=this.userData&&null!=this.userData||this.GetUserData(),this.userData.hideAniType},s.UnLockHideAni=function(t){null!=this.userData&&null!=this.userData||this.GetUserData();var a=this.userData.hideAniType;a[t]=1,this.userData.hideAniType=a,this.SetUserData()},s.GetCoinNum=function(){return null!=this.userData&&null!=this.userData||this.GetUserData(),parseInt(this.userData.coinNum)},s.AddCoinNum=function(t){if(null!=this.userData&&null!=this.userData||this.GetUserData(),t<0)return!1;var a=this.userData.coinNum;return a+=t,this.userData.coinNum=a,this.SetUserData(),!0},s.ReduceCoinNum=function(t){null!=this.userData&&null!=this.userData||this.GetUserData();var a=parseInt(this.userData.coinNum);return!(t<0||a-t<0)&&(a-=t,this.userData.coinNum=a,this.SetUserData(),!0)},s.GetDiamondNum=function(){return null!=this.userData&&null!=this.userData||this.GetUserData(),parseInt(this.userData.diamondNum)},s.AddDiamondNum=function(t){if(null!=this.userData&&null!=this.userData||this.GetUserData(),t<0)return!1;var a=parseInt(this.userData.diamondNum);return a+=t,this.userData.diamondNum=a,this.SetUserData(),!0},s.ReduceDiamondNum=function(t){null!=this.userData&&null!=this.userData||this.GetUserData();var a=parseInt(this.userData.diamondNum);return!(t<0||a-t<0)&&(a-=t,this.userData.diamondNum=a,this.SetUserData(),!0)},s.GetCanSpin=function(){null!=this.userData&&null!=this.userData||this.GetUserData();var t=this.userData.lastSpinTime;return(new Date).getTime()-t>=this.spinInterval},s.SetSpinTime=function(){null!=this.userData&&null!=this.userData||this.GetUserData(),this.userData.lastSpinTime=(new Date).getTime(),this.SetUserData()},s.GetNextSpinTime=function(){if(null!=this.userData&&null!=this.userData||this.GetUserData(),this.GetCanSpin())return 0;var t=(new Date).getTime(),a=this.userData.lastSpinTime+this.spinInterval-t;return a<=0?0:a/=1e3},s.IsSignInToday=function(){return null!=this.userData&&null!=this.userData||this.GetUserData(),!(this.userData.lastSignInTime<r.GetCurrentDayEndTime())},s.GetSignedInDayNum=function(){return null!=this.userData&&null!=this.userData||this.GetUserData(),this.userData.signedDay},s.SetSignInToday=function(){if(null!=this.userData&&null!=this.userData||this.GetUserData(),!this.IsSignInToday()){var t=r.GetCurrentDayEndTime();this.userData.lastSignInTime=t;var a=this.userData.signedDay;this.userData.signedDay=a+1,this.SetUserData()}},e}(i)).Instance=null,l.userDataKey="UserData",n=l))||n);e._RF.pop()}}}));

System.register("chunks:///_virtual/VecTools.ts",["cc"],(function(c){"use strict";var e,t,o;return{setters:[function(c){e=c.cclegacy,t=c.v3,o=c.v2}],execute:function(){c({Vec2To3:function(c){return t(c.x,c.y)},Vec3To2:function(c){return o(c.x,c.y)}}),e._RF.push({},"50f704pbLVFT6cH5oZo58cg","VecTools",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/Vibrate.ts",["cc","./AdManager.ts","./UserDataManager.ts"],(function(t){"use strict";var e,n,a,r;return{setters:[function(t){e=t.cclegacy,n=t._decorator},function(t){a=t.default},function(t){r=t.UserDataManager}],execute:function(){var c;e._RF.push({},"77decYtjL1LXYElC7lhWxVt","Vibrate",void 0);var i=n.ccclass;n.property,t("Vibrate",i("Vibrate")(c=function(){function t(){}return t.VibrateShort=function(){r.Instance.GetVibrateStatus()&&a.getInstance().phoneVibrate(!1)},t.VibrateLong=function(){r.Instance.GetVibrateStatus()&&a.getInstance().phoneVibrate(!0)},t}())||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/VictoryView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AdManager.ts","./UserDataManager.ts","./AdBridge.ts","./SoundManager.ts","./EventCenter.ts","./FlyEffectManager.ts","./TipManager.ts","./UIBase.ts","./UIManager.ts","./Vibrate.ts","./SliderAni.ts","./Constants.ts"],(function(e){"use strict";var n,t,i,s,o,a,d,l,r,c,u,h,m,N,f,C,R;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,i=e._decorator,s=e.Label,o=e.Input},function(e){a=e.default},function(e){d=e.UserDataManager},function(e){l=e.AdBridge},function(e){r=e.SoundManager},function(e){c=e.EventCenter},function(e){u=e.FlyEffectManager},function(e){h=e.TipManager},function(e){m=e.UIBase},function(e){N=e.UIManager},function(e){f=e.Vibrate},function(e){C=e.SliderAni},function(e){R=e.Constants}],execute:function(){var v;t._RF.push({},"2c43edaHxhBSL5C/BVJSyk2","VictoryView",void 0);var w=i.ccclass;i.property,e("VictoryView",w("VictoryView")(v=function(e){function t(){for(var n,t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return(n=e.call.apply(e,[this].concat(i))||this).arrowNode=void 0,n.coinNumLabel=void 0,n.diamondNumLabel=void 0,n.rewardLable=void 0,n.currentRewardTimes=1,n.sliderAni=void 0,n.flyStartPointNode=void 0,n.flyCoinPointNode=void 0,n.flyDiamondPointNode=void 0,n.allCoinNumLabel=void 0,n.allDiamondNumLabel=void 0,n.isGetResultReward=!1,n.levelInfo=void 0,n.successRewardCoinNum=0,n.successGetDiamondNum=0,n.isHostileMode=!1,n}n(t,e);var i=t.prototype;return i.onLoad=function(){e.prototype.onLoad.call(this),this.FindChild()},i.FindChild=function(){this.arrowNode=this.allNodes.Arrow,this.coinNumLabel=this.allNodes.CoinNum.getComponent(s),this.diamondNumLabel=this.allNodes.DiamondNum.getComponent(s),this.rewardLable=this.allNodes["GetRewardBtn/RewardLable"].getComponent(s),this.AddBtnListener("GetRewardBtn",this,this.OnClickVictoryReward),this.sliderAni=this.arrowNode.addComponent(C),this.sliderAni.InitSlider(this.OnSliderEvent.bind(this)),this.allNodes.HomeBtn.on(o.EventType.TOUCH_END,this.OnClickHomeBtn,this),this.flyStartPointNode=this.allNodes.GetRewardBtn,this.flyCoinPointNode=this.allNodes["CoinUI/CoinImg"],this.flyDiamondPointNode=this.allNodes["RubyUI/Ruby"],this.allCoinNumLabel=this.allNodes["CoinUI/CoinNum"].getComponent(s),this.allDiamondNumLabel=this.allNodes["RubyUI/RubyNum"].getComponent(s),this.AddBtnListener("BackHomeBtn",this,this.OnBackHomeBtn)},i.OnBackHomeBtn=function(){r.Instance.PlaySounds(R.soundBtnClick),this.isGetResultReward||(d.Instance.AddCoinNum(this.successRewardCoinNum),d.Instance.AddDiamondNum(this.successGetDiamondNum),h.Instance.ShowTip("恭喜获得 "+this.successGetDiamondNum+" 钻石和 "+this.successRewardCoinNum+" 金币!")),N.Instance.HideUI(R.victoryViewAssetPath,!1,!0),c.Instance.TriggerEvent(R.Event_Game_Exit)},i.onEnable=function(){c.Instance.AddEventListener(R.Event_Game_UIRefreshCoinDiaomond,this.OnUIRefreshCoinDiaomond,this)},i.onDisable=function(){c.Instance.RemoveEventListener(R.Event_Game_UIRefreshCoinDiaomond,this.OnUIRefreshCoinDiaomond,this)},i.OnShow=function(){0==arguments.length?(this.successRewardCoinNum=500,this.successGetDiamondNum=1,this.isHostileMode=!0):(this.isHostileMode=!1,this.successRewardCoinNum=arguments.length<=0?void 0:arguments[0],this.levelInfo=arguments.length<=1?void 0:arguments[1],this.successGetDiamondNum=this.levelInfo.successGetDiamondNum),this.ShowVictoryPanel(this.successRewardCoinNum,this.successGetDiamondNum)},i.ShowVictoryPanel=function(e,n){r.Instance.PlaySounds(R.soundWin),this.RefreshAllCoinNum(),this.RefreshAllDiamondNum(),this.coinNumLabel.string=e+"",this.diamondNumLabel.string=n+"",l.OnGameVictory()},i.OnSliderEvent=function(e){this.currentRewardTimes=e,this.rewardLable&&(this.rewardLable.string="获得 "+600*e,f.VibrateShort())},i.OnClickHomeBtn=function(){r.Instance.PlaySounds(R.soundBtnClick),this.isGetResultReward||(d.Instance.AddCoinNum(this.successRewardCoinNum),d.Instance.AddDiamondNum(this.successGetDiamondNum)),N.Instance.HideUI(R.victoryViewAssetPath,!1,!0),this.isHostileMode?this.HostileModeReMatch():c.Instance.TriggerEvent(R.Event_Game_Exit),h.Instance.ShowTip("恭喜获得 "+this.successGetDiamondNum+" 钻石和 "+this.successRewardCoinNum+" 金币!")},i.OnClickVictoryReward=function(){var e=this;r.Instance.PlaySounds(R.soundBtnClick),this.sliderAni.PauseAni();var n=this.currentRewardTimes*this.successRewardCoinNum,t=this.currentRewardTimes*this.successGetDiamondNum,i=0;i=this.isHostileMode?-1:this.levelInfo.levelIndex,a.getInstance().reportAnalytics("multiplerewards",{level:i}),l.ShowRewardVideo((function(){e.isGetResultReward=!0,r.Instance.PlaySounds(R.soundUnlockSuccess),d.Instance.AddCoinNum(n),d.Instance.AddDiamondNum(t),u.Instance.FlyEffect(e.flyStartPointNode.worldPosition,e.flyCoinPointNode.worldPosition,n,!0,(function(){e.RefreshAllCoinNum(),e.scheduleOnce((function(){N.Instance.HideUI(R.victoryViewAssetPath,!1,!0),e.isHostileMode?e.HostileModeReMatch():c.Instance.TriggerEvent(R.Event_Game_Exit)}),.5)})),u.Instance.FlyEffect(e.flyStartPointNode.worldPosition,e.flyDiamondPointNode.worldPosition,t,!1,(function(){e.RefreshAllDiamondNum()}))}))},i.OnUIRefreshCoinDiaomond=function(){this.RefreshAllCoinNum(),this.RefreshAllDiamondNum()},i.RefreshAllCoinNum=function(){var e=d.Instance.GetCoinNum();this.allCoinNumLabel&&(this.allCoinNumLabel.string=e+"")},i.RefreshAllDiamondNum=function(){var e=d.Instance.GetDiamondNum();this.allDiamondNumLabel&&(this.allDiamondNumLabel.string=e+"")},i.HostileModeReMatch=function(){this.isHostileMode&&c.Instance.TriggerEvent(R.Event_HostileGame_Rematch)},t}(m))||v);t._RF.pop()}}}));

System.register("chunks:///_virtual/VivoADApi.ts",["cc","./AdLogUtil.ts","./AdsIdConfig.ts","./AdManager.ts"],(function(e){"use strict";var t,n,o,i,s,a,d,r,h,c,l,v,u,g,A;return{setters:[function(e){t=e.cclegacy,n=e._decorator,o=e.assetManager,i=e.director,s=e.Node,a=e.UITransform,d=e.Sprite,r=e.SpriteFrame,h=e.Widget,c=e.view,l=e.Label},function(e){v=e.AdLogUtil},function(e){u=e.default,g=e.AdType},function(e){A=e.default}],execute:function(){var N;t._RF.push({},"2bd70hDD4xHnJRDCmE5/Eyn","VivoADApi",void 0);var m=n.ccclass,I=(n.property,[[90,270,180,180],[720,1080,1080,210],[520,1080,780,640],[520,1080,780,580],[520,1080,780,640],[520,1080,780,440],[520,1080,780,800],[90,270,180,180],[720,1080,1080,330],[720,1080,1080,246],[520,1080,780,640]]);e("default",m(N=function(){function e(){this.SystemBannerData=null,this.SystemIntersData=null,this.VideoData=null,this.PassiveVideoData=null,this.NativeBannerData=null,this.NativeIntersData=null,this.NativeIconData=null,this.JGGBoxData=null,this.TIMingData=null,this.BlockData=null,this.AdCustomIntersData=null,this.AdCustomBannerData=null,this.AdCustomTypeData=[],this.ADNewNativeAdData=null,this.ADNewNativeTypeData=[],this.ADNewConfig=void 0,this.qg=window.qg,this.AdGroup=0,this.systemBannerAd=null,this.loadSucc_SystemBanner=!1,this.NUM_BannerUpdateTime=30,this.interval_updateBanner=null,this.systemIntersAd=null,this.loadSucc_SystemInters=!1,this.customNewNativeAd=null,this.customNewNativeTypeAd=[],this.customIntersAd=null,this.loadSucc_CuctomInters=!1,this.CuctomIntervalTime=!0,this.customBannerAd=null,this.CustomType12=[],this.rewardedVideoAd=null,this.loadSucc_Video=!1,this.callback_Video=null,this.rewardedPassiveVideoAd=null,this.loadSucc_PassiveVideo=!1,this.callback_PassiveVideo=null,this.nativeRes=null,this.loadNativeRes=!1,this.nativeAd=null,this.nativeBannerInfo=null,this.loadSucc_NativeBanner=!1,this.isShow_NativeBanner=!1,this.node_nativeBanner=null,this.nativeImageAd=null,this.nativeImageInfo=null,this.loadSucc_NativeImage=!1,this.isShow_NativeImage=!1,this.nativeIconAd=null,this.nativeIconInfo=null,this.loadSucc_NativeIcon=!1,this.isShow_NativeIcon=!1,this.navigateBoxPortalAd=null,this.loadSucc_NavigateBoxPortal=!1,this.navigateBoxBannerAd=null,this.loadSucc_NavigateBoxBanner=!1,this.temp_hasShowBanner=!1,this.isShow_NavigateSettle=!1,this.systemInfo=null,this.BannerVendor_Pos=[],this.VideoVendor_Pos=[],this.PassiveVideoVendor_Pos=[],this.InsertAdVendor_Pos=[],this.CustomBannerVendor_Pos=[],this.videoPath=void 0,this.clipIndexList=[],this.ADNewNativeTypeVendor_Pos=[],this.ADNewNativeType_b=[],this.ADNewNativeType_Call=[],this.isShowADNewNativeType12=!1,this.CustomTypeVendor_Pos=[]}var t=e.prototype;return t.onInit=function(e){null!==this.qg&&void 0!==this.qg?(this.systemInfo=this.qg.getSystemInfoSync(),console.log("MINIGAME ===> 设备信息.systemInfo===>",this.systemInfo),this.createAd()):this.qg=null,e&&e(),console.log("MINIGAME ===> Vivo ===================> onInit  ok")},t.createAd=function(){var e=this;this.SystemIntersData&&this.SystemIntersData&&""!=this.SystemIntersData.vendor_position&&this.createInsertAd(),this.AdCustomIntersData&&this.AdCustomIntersData&&""!=this.AdCustomIntersData.vendor_position&&this.createNativeCuston(),this.ADNewNativeTypeData[1]&&this.ADNewNativeTypeData[1]&&""!=this.ADNewNativeTypeData[1].vendor_position&&this.createADNewNativeType12(1),this.ADNewNativeTypeData[2]&&this.ADNewNativeTypeData[2]&&""!=this.ADNewNativeTypeData[2].vendor_position&&this.createADNewNativeType12(2),this.VideoData&&""!=this.VideoData.vendor_position&&this.createVideo(),this.PassiveVideoData&&""!=this.PassiveVideoData.vendor_position&&setTimeout((function(){e.createPassiveVideo()}),5e3),this.JGGBoxData&&this.JGGBoxData&&""!=this.JGGBoxData.vendor_position&&this.createNavigateBoxPortal(),this.BlockData&&this.BlockData&&""!=this.BlockData.vendor_position&&this.createNavigateBoxBanner(),this.NativeBannerData&&this.NativeBannerData&&""!=this.NativeBannerData.vendor_position&&this.createNativeBanner(),this.NativeIntersData&&this.NativeIntersData&&""!=this.NativeIntersData.vendor_position&&this.createNativeImage(),this.NativeIconData&&this.NativeIconData&&""!=this.NativeIconData.vendor_position&&this.createNativeIcon()},t.setGroup=function(e){this.AdGroup=e},t.onLogin=function(){},t.onShare=function(e){},t.ShareVideo=function(e,t,n){},t.createSystemBanner=function(){var e=this;v.Log("createSystemBanner:"+this.SystemBannerData.vendor_position),this.systemBannerAd=this.qg.createBannerAd({posId:this.SystemBannerData.vendor_position,style:{}}),this.systemBannerAd.onLoad((function(){v.Log("banner加载成功 systemBannerAd onLoad")})),this.systemBannerAd.onError((function(e){v.Log("banner加载/展示失败 systemBannerAd onError:"+JSON.stringify(e))})),this.systemBannerAd.onClose((function(){v.Log("banner关闭 systemBannerAd onClose"),e.hideBanner(),setTimeout((function(){e.showBanner()}),5e3)}))},t.showBanner=function(e){if(v.Log("showBanner"),this.SystemBannerData){this.BannerVendor_Pos&&0!=this.BannerVendor_Pos.length||(this.BannerVendor_Pos=[],this.BannerVendor_Pos=u.getVendor_posAry(this.SystemBannerData.vendor_position)),v.Log("showBanner vendor_position:"+this.SystemBannerData.vendor_position);var t=this.BannerVendor_Pos.shift();this.systemBannerAd&&(this.systemBannerAd.offLoad(null),this.systemBannerAd.offError(null),this.systemBannerAd.destroy(),this.systemBannerAd=null),this.systemBannerAd=this.qg.createBannerAd({posId:t,style:{}}),this.systemBannerAd.onLoad((function(){v.Log("banner加载成功 systemBannerAd onLoad")})),this.systemBannerAd.onError((function(t){v.Log("banner加载/展示失败 systemBannerAd onError:"+JSON.stringify(t)),e&&(e(!1),e=null)})),this.systemBannerAd.show().then((function(){console.log("banner广告展示完成"),e&&(e(!0),e=null)})).catch((function(t){console.log("banner广告展示失败",JSON.stringify(t)),e&&(e(!1),e=null)}))}else v.Log("showBanner 无广告位数据 ")},t.hideBanner=function(){v.Log("hideBanner"),this.hideSystemBanner(),this.hideNativeBanner(),this.interval_updateBanner&&clearInterval(this.interval_updateBanner)},t.hideSystemBanner=function(){v.Log("hideSystemBanner"),this.systemBannerAd&&this.systemBannerAd.hide()},t.updateBanner=function(){var e=this;this.interval_updateBanner&&clearInterval(this.interval_updateBanner),this.interval_updateBanner=setInterval((function(){e.loadSucc_NativeBanner?e.updateNativeBanner():e.loadSucc_SystemBanner&&e.updateSystemBanner()}),1e3*this.NUM_BannerUpdateTime)},t.updateSystemBanner=function(){},t.updateNativeBanner=function(){},t.createVideo=function(){var e=this;if(v.Log("创建激励视频 createVideo"),null!==this.qg&&void 0!==this.qg){v.Log("Vivo平台创建激励视频 createVideo"),this.VideoVendor_Pos&&0!=this.VideoVendor_Pos.length||(this.VideoVendor_Pos=[],this.VideoVendor_Pos=u.getVendor_posAry(this.VideoData.vendor_position)),v.Log("createVideo  vendor_position:  "+this.VideoVendor_Pos),console.log(this.VideoVendor_Pos);var t=this.VideoVendor_Pos.shift();console.log(t),this.rewardedVideoAd&&(this.rewardedVideoAd.offLoad(null),this.rewardedVideoAd.offError(null),this.rewardedVideoAd.offClose(null),this.rewardedVideoAd.destroy(),this.rewardedVideoAd=null),this.rewardedVideoAd=this.qg.createRewardedVideoAd({posId:t}),this.rewardedVideoAd.onError((function(t){v.Log("Vivo激励视频 加载失败 code:"+t.code+" msg: "+JSON.stringify(t)),e.loadSucc_Video=!1,e.callback_Video&&(e.callback_Video(!1,"视频加载失败 code:"+t.code),e.callback_Video=null),setTimeout((function(){e.rewardedVideoAd&&e.rewardedVideoAd.load()}),1e4)})),this.rewardedVideoAd.onLoad((function(){v.Log("激励视频广告 加载成功 rewardedVideoAd onLoad"),e.loadSucc_Video=!0})),this.rewardedVideoAd.onClose((function(t){v.Log("rewardedVideoAd onClose: "+t.isEnded),t.isEnded?(v.Log("Vivo 激励视频广告完成，发放奖励"),e.callback_Video&&(e.callback_Video(!0),e.callback_Video=null)):(v.Log("Vivo 激励视频广告关闭，不发放奖励"),e.callback_Video&&(e.callback_Video(!1),e.callback_Video=null)),e.loadSucc_Video=!1,setTimeout((function(){e.createVideo()}),100)}))}},t.showVideo=function(e){v.Log("Vivo 激励视频 showVideo"),console.log(this.rewardedVideoAd),console.log(this.loadSucc_Video),this.rewardedVideoAd&&this.loadSucc_Video?(this.callback_Video=e,v.Log("调用接口里面的show: rewardedVideoAd show"),this.rewardedVideoAd.show(),this.loadSucc_Video=!1):(v.Log("Vivo 没有成功创建广告或者没有成功load广告"),e(!1))},t.showVideoAward=function(){},t.showVideoFail=function(){},t.createPassiveVideo=function(){var e=this;if(v.Log("创建被动激励视频 createPassiveVideo"),null!==this.qg&&void 0!==this.qg){this.PassiveVideoVendor_Pos&&0!=this.PassiveVideoVendor_Pos.length||(this.PassiveVideoVendor_Pos=[],this.PassiveVideoVendor_Pos=u.getVendor_posAry(this.PassiveVideoData.vendor_position)),v.Log("createPassiveVideo  vendor_position:  "+this.PassiveVideoVendor_Pos),console.log(this.PassiveVideoVendor_Pos);var t=this.PassiveVideoVendor_Pos.shift();this.rewardedPassiveVideoAd&&(this.rewardedPassiveVideoAd.offLoad(null),this.rewardedPassiveVideoAd.offError(null),this.rewardedPassiveVideoAd.offClose(null),this.rewardedPassiveVideoAd.destroy(),this.rewardedPassiveVideoAd=null),v.Log("Vivo平台创建被动 激励视频 createPassiveVideo"),this.rewardedPassiveVideoAd=this.qg.createRewardedVideoAd({posId:t}),this.rewardedPassiveVideoAd.onError((function(t){v.Log("Vivo被动 激励视频 加载失败 code:"+t.code+" msg: "+JSON.stringify(t)),e.loadSucc_PassiveVideo=!1,e.callback_PassiveVideo&&(e.callback_PassiveVideo(2,"被动 视频加载失败 code:"+t.code),e.callback_PassiveVideo=null),setTimeout((function(){e.rewardedPassiveVideoAd&&e.rewardedPassiveVideoAd.load()}),1e4)})),this.rewardedPassiveVideoAd.onLoad((function(){v.Log("被动 激励视频广告 加载成功 rewardedPassiveVideoAd onLoad"),e.loadSucc_PassiveVideo=!0})),this.rewardedPassiveVideoAd.onClose((function(t){v.Log("rewardedPassiveVideoAd onClose: "+t.isEnded),t.isEnded?(v.Log("Vivo 被动 激励视频广告完成，发放奖励"),e.callback_PassiveVideo&&(e.callback_PassiveVideo(1),e.callback_PassiveVideo=null)):(v.Log("Vivo 被动 激励视频广告关闭，不发放奖励"),e.callback_PassiveVideo&&(e.callback_PassiveVideo(2),e.callback_PassiveVideo=null)),e.loadSucc_PassiveVideo=!1,setTimeout((function(){e.createPassiveVideo()}),100)}))}},t.showPassiveVideo=function(e){var t=this;v.Log("Vivo 被动 激励视频 showVideo"),console.log(this.rewardedPassiveVideoAd),console.log(this.loadSucc_PassiveVideo),this.rewardedPassiveVideoAd&&this.loadSucc_PassiveVideo?(this.callback_PassiveVideo=e,v.Log("被动 激励调用接口里面的show: rewardedPassiveVideoAd show"),this.rewardedPassiveVideoAd.show().then((function(){})).catch((function(e){console.log("激励视频广告展示失败",JSON.stringify(e)),t.callback_PassiveVideo&&(t.callback_PassiveVideo(2,"被动 视频加载失败 code:"+e.code),t.callback_PassiveVideo=null)})),this.loadSucc_PassiveVideo=!1):(v.Log("Vivo 被动 激励 没有成功创建广告或者没有成功load广告"),e(!1))},t.showPassiveVideoAward=function(){},t.showPassiveVideoFail=function(){},t.createInsertAd=function(){var e=this;if(this.SystemIntersData){this.systemIntersAd&&(this.systemIntersAd.offError(null),this.systemIntersAd.offClose(null),this.systemIntersAd.offLoad(null)),this.InsertAdVendor_Pos&&0!=this.InsertAdVendor_Pos.length||(this.InsertAdVendor_Pos=[],this.InsertAdVendor_Pos=u.getVendor_posAry(this.SystemIntersData.vendor_position)),v.Log("createInsertAd  vendor_position:"+this.SystemIntersData.vendor_position);var t=this.InsertAdVendor_Pos.shift();v.Log("Vivo创建插屏 createInsertAd:"+this.SystemIntersData.vendor_position),this.systemIntersAd=this.qg.createInterstitialAd({posId:t}),this.systemIntersAd.onLoad((function(){v.Log("插屏加载成功 systemIntersAd onLoad"),e.loadSucc_SystemInters=!0})),this.systemIntersAd.onError((function(t){v.Log("插屏加载/展示失败 systemIntersAd onError:"+JSON.stringify(t)),e.loadSucc_SystemInters=!1,setTimeout((function(){e.createInsertAd()}),1e4)})),this.systemIntersAd.onClose((function(){v.Log("插屏关闭 systemIntersAd onClose"),e.loadSucc_SystemInters=!1,setTimeout((function(){e.createInsertAd(),e.showNewNativeAd(),e.showBanner()}),5e3)}))}else v.Log("SystemIntersData 插屏无广告位")},t.showSystemInters=function(e){v.Log("showSystemInters"),this.systemIntersAd&&this.loadSucc_SystemInters&&(v.Log("showSystemInters调用show接口 systemIntersAd show"),this.systemIntersAd.show().then((function(){v.Log("插屏广告展示成功 showSystemInters"),e&&(e(!0),e=null)})).catch((function(t){v.Log("插屏广告展示错误 showSystemInters:"+JSON.stringify(t)),e&&(e(!1),e=null)})))},t.showInsertAd=function(e){v.Log("showInsertAd   :"+this.loadSucc_SystemInters),this.loadSucc_SystemInters&&this.showSystemInters(e)},t.createNativeCuston=function(){var e=this;this.AdCustomIntersData?(v.Log("创建原生模板广告 createNativeCuston:"+this.AdCustomIntersData.vendor_position),this.qg.createCustomAd&&(console.log("MINIGAME ===> ","VIVO 创建原生模板广告"),this.customIntersAd=this.qg.createCustomAd({posId:this.AdCustomIntersData.vendor_position,style:{left:0,gravity:"center"}}),this.customIntersAd.onLoad((function(){v.Log("原生模板广告加载完成 customIntersAd onLoad"),e.loadSucc_CuctomInters=!0})),this.customIntersAd.onError((function(t){v.Log("原生模板广告错误 customIntersAd onError:"+JSON.stringify(t)),console.log("原生模板广告错误 customIntersAd onError:"+JSON.stringify(t)),e.loadSucc_CuctomInters=!1,setTimeout((function(){e.createNativeCuston()}),2e4)})),this.customIntersAd.onClose((function(){v.Log("原生模板广告关闭 customIntersAd onClose"),e.loadSucc_CuctomInters=!1,setTimeout((function(){e.createNativeCuston(),e.showNewNativeAd(),e.showBanner()}),2e3)})))):console.log("VIVO 原生模板广告 createNativeCuston  没数据")},t.showCustomInters=function(){if(v.Log("showCustomInters"),v.Log(this.customIntersAd),v.Log(1==this.loadSucc_CuctomInters?"111111111":"22222222222222"),this.customIntersAd&&this.loadSucc_CuctomInters&&this.AdCustomIntersData){this.AdCustomIntersData.day_limits;this.customIntersAd.show().then((function(){v.Log("原生模板广告展示成功 customIntersAd show")})).catch((function(e){v.Log("原生模板广告展示错误:"+JSON.stringify(e)),console.log("原生模板广告展示错误:"+JSON.stringify(e))}))}},t.showCustomAd=function(){v.Log("showCustomAd"),this.showCustomInters()},t.hideCustomAd=function(){v.Log("hideCustomAd"),this.customIntersAd&&this.customIntersAd.hide()},t.showCustomBanner=function(e){var t=this;if(this.qg.createNewNativeAd){if(console.log("MINIGAME ===> ","VIVO 原生自渲染2.0"),!this.AdCustomBannerData)return void v.Log("showCustomBanner 无广告位数据  ");this.customNewNativeAd&&(this.hideNewNativeAd(),this.hideADNewNativeType12(1),this.hideADNewNativeType12(2));var n={left:100,top:this.qg.getSystemInfoSync().screenHeight-500},o="E|75|20|50|50";n={},v.Log("信息流banner config: "+o),n=u.gePosAndWidthCfg(o,this.qg.getSystemInfoSync().screenWidth,this.qg.getSystemInfoSync().screenHeight,I[1]),v.Log(n),console.log(n),console.log(JSON.stringify(n)),this.customBannerAd&&(this.customBannerAd.offError(null),this.customBannerAd.destroy(),this.customBannerAd=null),this.CustomBannerVendor_Pos&&0!=this.CustomBannerVendor_Pos.length||(this.CustomBannerVendor_Pos=[],this.CustomBannerVendor_Pos=u.getVendor_posAry(this.AdCustomBannerData.vendor_position)),v.Log("showCustomBanner vendor_position:"+this.AdCustomBannerData.vendor_position);var i=this.CustomBannerVendor_Pos.shift();this.customBannerAd=this.qg.createNewNativeAd({posId:i}),this.customBannerAd.onLoad((function(i){console.log("原生自渲染2.0  信息流banner  广告加载完成-onload触发",JSON.stringify(i));var s=i.adList[0].formType[1];if(s&&1===s){var a=t.qg.getSystemInfoSync();if(i&&i.adList&&I[s]){n={},v.Log("信息流banner config: "+o),v.Log("信息流banner ADNewNativeAry: "+I[s]),n=u.gePosAndWidthCfg(o,a.screenWidth,a.screenHeight,I[s]),v.Log("信息流banner styleMy: "+JSON.stringify(n));var d={adId:i.adList[0].adId,formType:s,style:n};t.customBannerAd.show(d).then((function(){console.log("原生自渲染2.0  信息流banner  广告展示完成"),e&&(e(!0),e=null)})).catch((function(t){console.log("原生自渲染2.0  信息流banner  广告展示失败",JSON.stringify(t)),e&&(e(!1),e=null)}))}}else v.Log("原生自渲染2.0  信息流banner  没该类型")})),this.customBannerAd.onClose((function(){console.log("原生自渲染2.0  信息流banner  广告关闭")})),this.customBannerAd.onError((function(t){console.log("原生自渲染2.0  信息流banner  广告加载失败",t),e&&(e(!1),e=null)}));var s=this.AdCustomBannerData.ad_interval;s&&0!=s||(s=20)}},t.hideCustomBanner=function(){this.customBannerAd&&(this.customBannerAd.hide(),this.customBannerAd.offLoad(),this.customBannerAd.offClose(),this.customBannerAd.offError(),this.customBannerAd.destroy(),this.customBannerAd=null)},t.createNavigateBoxPortal=function(){var e=this;v.Log("创建互推盒子九宫格广告 createNavigateBoxPortal"),this.navigateBoxPortalAd=this.qg.createBoxPortalAd({posId:this.JGGBoxData.vendor_position,marginTop:350}),this.navigateBoxPortalAd.onLoad((function(){v.Log("九宫格广告加载成功 createNavigateBoxPortal navigateBoxPortalAd onLoad"),e.loadSucc_NavigateBoxPortal=!0})),this.navigateBoxPortalAd.onError((function(t){v.Log("互推盒子九宫格广告加载/展示失败 navigateBoxPortalAd onError:"+JSON.stringify(t)),e.loadSucc_NavigateBoxPortal=!1,setTimeout((function(){e.createNavigateBoxPortal()}),6e4)})),this.navigateBoxPortalAd.onClose((function(){v.Log("九宫格广告关闭 createNavigateBoxPortal navigateBoxPortalAd onClose"),setTimeout((function(){e.createNavigateBoxPortal()}),6e4)}))},t.showNavigateBoxPortal=function(){v.Log("显示互推盒子九宫格广告 showNavigateBoxPortal"),this.loadSucc_NavigateBoxPortal&&(this.hideBanner(),this.navigateBoxPortalAd.show(),v.Log("显示互推盒子九宫格广告 navigateBoxPortalAd接口 show"))},t.createNavigateBoxBanner=function(){var e=this;console.log("MINIGAME ===> ","--createNavigateBoxBanner--"),this.qg.createBoxBannerAd?(this.navigateBoxBannerAd=this.qg.createBoxBannerAd({posId:this.BlockData.vendor_position}),this.navigateBoxBannerAd.onLoad((function(){console.log("MINIGAME ===> ","VIVO 互推盒子横幅广告加载完成"),e.loadSucc_NavigateBoxBanner=!0})),this.navigateBoxBannerAd.onError((function(t){e.loadSucc_NavigateBoxBanner=!1,console.log("MINIGAME ===> ","VIVO 互推盒子横幅广告出错:",JSON.stringify(t)),setTimeout((function(){e.createNavigateBoxBanner()}),3e4)})),this.navigateBoxPortalAd.onShow((function(t){v.Log("互推盒子九宫格展示 navigateBoxPortalAd onShow:"+JSON.stringify(t)),e.hideBanner()})),this.navigateBoxBannerAd.onClose((function(){e.isShow_NavigateSettle=!1,e.temp_hasShowBanner&&e.showBanner()}))):console.log("MINIGAME ===> ","暂不支持互推盒子相关 API")},t.showNavigateBoxBanner=function(){this.isShow_NavigateSettle?console.log("MINIGAME ===> ","已经调用过showNavigateBoxBanner,请勿重复调用"):(console.log("MINIGAME ===> ","showNavigateBoxBanner=====================",this.loadSucc_NavigateBoxBanner),this.loadSucc_NavigateBoxBanner&&(this.isShow_NavigateSettle=!0,this.hideBanner(),this.navigateBoxBannerAd.show()))},t.hideNavigateBoxBanner=function(){this.isShow_NavigateSettle&&(console.log("MINIGAME ===> ","hideNavigateBoxBanner====================="),this.isShow_NavigateSettle=!1,this.navigateBoxBannerAd&&this.navigateBoxBannerAd.hide())},t.loadNativeBannerRes=function(){console.log("MINIGAME ===> ","--loadNativeBannerRes--"),this.nativeRes={NativeBannerBg:null,NativeBannerButton:null,NativeClose:null,NativeAdTip:null}},t.createNativeBanner=function(){var e=this;console.log("MINIGAME ===> 原生banner","--createNativeBanner--"),this.nativeAd=this.qg.createNativeAd({posId:this.NativeBannerData.vendor_position}),this.nativeBannerInfo={adId:null,title:null,desc:null,Native_icon_url:null,Native_icon:null,Native_BigImage_url:null,Native_BigImage:null},this.nativeAd.onLoad((function(t){var n=0;null!=typeof t.adList&&0!=t.adList.length?(n=t.adList.length-1,console.log("MINIGAME ===> ","Vivo 原生banner广告加载成功：",JSON.stringify(t.adList[n])),""!=t.adList[n].icon&&t.adList[n].imgUrlList.length,e.nativeBannerInfo.adId=String(t.adList[n].adId),e.nativeBannerInfo.title=String(t.adList[n].title),e.nativeBannerInfo.desc=String(t.adList[n].desc),t.adList&&""!=t.adList[n].icon&&(e.nativeBannerInfo.Native_icon_url=t.adList[n].icon,o.loadRemote(String(t.adList[n].icon),(function(t,n){e.nativeBannerInfo.Native_icon=n}))),t.adList&&t.adList[n].imgUrlList.length>0&&(e.nativeBannerInfo.Native_BigImage_url=t.adList[n].imgUrlList[0],o.loadRemote(String(t.adList[n].imgUrlList[0]),(function(t,n){e.nativeBannerInfo.Native_BigImage=n}))),e.loadSucc_NativeBanner=!0):console.log("MINIGAME ===> ","Vivo原生banner广告列表为空 return")})),this.nativeAd.onError((function(t){console.log("MINIGAME ===> ","Vivo 原生banner广告加载失败：",JSON.stringify(t)),setTimeout((function(){e.nativeAd.load()}),2e4)})),this.nativeAd.load()},t.showNativeBanner=function(){var e=this;if(this.isShow_NavigateSettle)console.log("MINIGAME ===> ","Vivo 正在展示互推盒子 return");else{this.isShow_NativeBanner=!0;var t=i.getScene(),n=this.nativeBannerInfo.adId;this.reportNativeBannerShow(n),console.log("MINIGAME ===> 原生banner","showNativeBanner========================"),this.node_nativeBanner=new s("node_nativeBanner"),this.node_nativeBanner.addComponent(a),t.getChildByName("Canvas").addChild(this.node_nativeBanner),this.node_nativeBanner.addComponent(d),this.node_nativeBanner.getComponent(d).spriteFrame=r.createWithImage(this.nativeRes.NativeBannerBg),this.node_nativeBanner.addComponent(h),this.node_nativeBanner.getComponent(h).isAlignHorizontalCenter=!0,this.node_nativeBanner.getComponent(h).isAlignBottom=!0,this.node_nativeBanner.getComponent(h).bottom=0;var o=c.getVisibleSize();o.width<o.height?(this.node_nativeBanner.getComponent(a).width=o.width,this.node_nativeBanner.getComponent(a).height=.18*o.width):(this.node_nativeBanner.getComponent(a).width=o.width/2,this.node_nativeBanner.getComponent(a).height=.18*this.node_nativeBanner.getComponent(a).width),0!=this.AdGroup&&(this.node_nativeBanner.layer=this.AdGroup),this.node_nativeBanner.setSiblingIndex(999),this.node_nativeBanner.on(s.EventType.TOUCH_START,(function(t){e.reportNativeBannerClick(n)}));var v=new s("adTip");v.addComponent(a),this.node_nativeBanner.addChild(v),v.addComponent(d),v.getComponent(d).spriteFrame=r.createWithImage(this.nativeRes.NativeAdTip),v.getComponent(a).height=.2*this.node_nativeBanner.getComponent(a).height,v.getComponent(a).width=v.getComponent(a).height/.45,0!=this.AdGroup&&(v.layer=this.AdGroup),v.setPosition(this.node_nativeBanner.getComponent(a).width/2-v.getComponent(a).width/2,-this.node_nativeBanner.getComponent(a).height/2+v.getComponent(a).height/2);var u=new s("bannerButton");if(u.addComponent(a),this.node_nativeBanner.addChild(u),u.addComponent(d),0!=this.AdGroup&&(u.layer=this.AdGroup),u.getComponent(d).spriteFrame=r.createWithImage(this.nativeRes.NativeBannerButton),u.getComponent(a).width=.255*this.node_nativeBanner.getComponent(a).width,u.getComponent(a).height=.351*u.getComponent(a).width,u.setPosition(this.node_nativeBanner.getComponent(a).width/2-.185*this.node_nativeBanner.getComponent(a).width,0),this.nativeBannerInfo.Native_icon){var g=new s("icon");g.addComponent(a),this.node_nativeBanner.addChild(g),0!=this.AdGroup&&(g.layer=this.AdGroup),g.addComponent(d),g.getComponent(d).spriteFrame=r.createWithImage(this.nativeBannerInfo.Native_icon),g.getComponent(a).height=.8*this.node_nativeBanner.getComponent(a).height,g.getComponent(a).width=g.getComponent(a).height,g.setPosition(.8*g.getComponent(a).width-this.node_nativeBanner.getComponent(a).width/2,0)}else if(this.nativeBannerInfo.Native_BigImage){var A=new s("image");A.addComponent(a),this.node_nativeBanner.addChild(A),0!=this.AdGroup&&(A.layer=this.AdGroup),A.addComponent(d),A.getComponent(d).spriteFrame=r.createWithImage(this.nativeBannerInfo.Native_BigImage),A.getComponent(a).height=this.node_nativeBanner.getComponent(a).height,A.getComponent(a).width=2*A.getComponent(a).height,A.setPosition(A.getComponent(a).width/2-this.node_nativeBanner.getComponent(a).width/2,0)}var N=new s("titleLabel");N.addComponent(a),this.node_nativeBanner.addChild(N),0!=this.AdGroup&&(N.layer=this.AdGroup),N.addComponent(l),o.width<o.height?N.getComponent(l).fontSize=c.getDesignResolutionSize().width/1080*35:N.getComponent(l).fontSize=c.getDesignResolutionSize().height/1080*35,""==this.nativeBannerInfo.desc?N.getComponent(l).string=this.nativeBannerInfo.title:N.getComponent(l).string=this.nativeBannerInfo.desc,N.getComponent(l).overflow=l.Overflow.CLAMP,N.getComponent(l).horizontalAlign=l.HorizontalAlign.LEFT,N.getComponent(l).verticalAlign=l.VerticalAlign.CENTER,N.getComponent(l).lineHeight=N.getComponent(l).fontSize,N.getComponent(a).width=this.node_nativeBanner.getComponent(a).width-2*this.node_nativeBanner.getComponent(a).height-u.getComponent(a).width-.2*this.node_nativeBanner.getComponent(a).height/.45,N.getComponent(a).height=this.node_nativeBanner.getComponent(a).height,N.setPosition(0,-this.node_nativeBanner.getComponent(a).width/2+2.1*this.node_nativeBanner.getComponent(a).height+N.getComponent(a).width/2);var m=new s("closeICON");m.addComponent(a),this.node_nativeBanner.addChild(m),m.addComponent(d),0!=this.AdGroup&&(m.layer=this.AdGroup),m.getComponent(d).spriteFrame=r.createWithImage(this.nativeRes.NativeClose),m.getComponent(a).width=.27*this.node_nativeBanner.getComponent(a).height,m.getComponent(a).height=.27*this.node_nativeBanner.getComponent(a).height,m.setPosition(this.node_nativeBanner.getComponent(a).width/2-m.getComponent(a).width/2,this.node_nativeBanner.getComponent(a).height/2-m.getComponent(a).width/2),m.on(s.EventType.TOUCH_START,(function(t){console.log("MINIGAME ===> ","原生banner关闭",e.NUM_BannerUpdateTime+"S后再次刷新")}))}},t.hideNativeBanner=function(){this.isShow_NativeBanner&&(console.log("MINIGAME ===> ","Vivo原生banner hideNativeBanner========================"),this.isShow_NativeBanner=!1,this.node_nativeBanner.removeFromParent(),this.node_nativeBanner=null)},t.reportNativeBannerShow=function(e){console.log("MINIGAME ===> ","Vivo 该原生banner广告id上报展示",e),this.nativeAd.reportAdShow({adId:e})},t.reportNativeBannerClick=function(e){console.log("MINIGAME ===> ","Vivo 原生banner广告上报点击",e),this.nativeAd.reportAdClick({adId:e})},t.createNativeImage=function(){var e=this;console.log("MINIGAME ===> 原生大图","--createNativeBanner--"),this.nativeImageAd=this.qg.createNativeAd({posId:this.NativeIntersData.vendor_position}),this.loadSucc_NativeImage=!1,this.nativeImageInfo={adId:null,title:null,desc:null,Native_icon_url:null,Native_icon:null,Native_BigImage_url:null,Native_BigImage:null},this.nativeImageAd.onLoad((function(t){var n=0;null!=typeof t.adList&&0!=t.adList.length?(n=t.adList.length-1,console.log("MINIGAME ===> ","Vivo 原生大图广告加载成功：",JSON.stringify(t.adList[n])),e.nativeImageInfo.adId=String(t.adList[n].adId),e.nativeImageInfo.title=String(t.adList[n].title),e.nativeImageInfo.desc=String(t.adList[n].desc),t.adList&&""!=t.adList[n].icon&&(e.nativeImageInfo.Native_icon_url=t.adList[n].icon),t.adList&&t.adList[n].imgUrlList.length>0&&(e.nativeImageInfo.Native_BigImage_url=t.adList[n].imgUrlList[0]),e.loadSucc_NativeImage=!0,console.log("MINIGAME ===> ","Vivo 原生大图广告加载成功：")):console.log("MINIGAME ===> ","Vivo 原生大图广告列表为空 return")})),this.nativeImageAd.onError((function(t){console.log("MINIGAME ===> ","Vivo 原生大图广告加载失败：",JSON.stringify(t)),setTimeout((function(){e.nativeImageAd.load()}),2e4)})),this.nativeImageAd.load()},t.getNativeAdInfo=function(e){return this.loadSucc_NativeImage?(console.log("MINIGAME ===> ","获取自定义原生大图广告"),this.nativeImageInfo):(console.log("MINIGAME ===> ","自定义原生大图广告加载中...."),null)},t.getHWNativeAdInfo=function(e){},t.reportNativeImageShow=function(e){console.log("MINIGAME ===> ","Vivo 该原生大图广告id上报展示",e),this.nativeImageAd.reportAdShow({adId:e})},t.reportNativeImageClick=function(e){console.log("MINIGAME ===> ","Vivo 原生大图广告上报点击",e),this.nativeImageAd.reportAdClick({adId:e})},t.loadNativeImage=function(){this.nativeImageAd&&this.nativeImageAd.load()},t.createNativeIcon=function(){var e=this;console.log("MINIGAME ===> 原生icon","--createNativeBanner--"),this.nativeIconAd=this.qg.createNativeAd({posId:this.NativeIconData.vendor_position}),this.loadSucc_NativeIcon=!1,this.nativeIconInfo={adId:null,title:null,desc:null,Native_icon_url:null,Native_icon:null,Native_BigImage_url:null,Native_BigImage:null},this.nativeIconAd.onLoad((function(t){var n=0;null!=typeof t.adList&&0!=t.adList.length?(n=t.adList.length-1,console.log("MINIGAME ===> ","Vivo 原生icon广告加载成功：",JSON.stringify(t.adList[n])),""!=t.adList[n].icon&&t.adList[n].imgUrlList.length>0?console.log("MINIGAME ===> ","Vivo 原生icon广告同时存在原生ICON和大图"):console.log("MINIGAME ===> ","Vivo 原生icon广告只存在原生ICON或大图"),e.nativeIconInfo.adId=String(t.adList[n].adId),e.nativeIconInfo.title=String(t.adList[n].title),e.nativeIconInfo.desc=String(t.adList[n].desc),t.adList&&""!=t.adList[n].icon&&(e.nativeIconInfo.Native_icon_url=t.adList[n].icon),t.adList&&t.adList[n].imgUrlList.length>0&&(e.nativeIconInfo.Native_BigImage_url=t.adList[n].imgUrlList[0]),e.loadSucc_NativeIcon=!0,console.log("MINIGAME ===> ","Vivo 原生大图广告加载成功：")):console.log("MINIGAME ===> ","Vivo 原生icon广告列表为空 return")})),this.nativeIconAd.onError((function(t){console.log("MINIGAME ===> ","Vivo 原生icon广告加载失败：",JSON.stringify(t)),setTimeout((function(){e.nativeIconAd.load()}),2e4)})),this.nativeIconAd.load()},t.getNativeIconAdInfo=function(e){return this.loadSucc_NativeIcon?(console.log("MINIGAME ===> ","获取自定义原生Icon广告"),this.nativeIconInfo):(console.log("MINIGAME ===> ","自定义原生Icon广告加载中...."),null)},t.reportNativeIconShow=function(e){console.log("MINIGAME ===> ","Vivo 该原生Icon广告id上报展示",e),this.nativeIconAd.reportAdShow({adId:e})},t.reportNativeIconClick=function(e){console.log("MINIGAME ===> ","Vivo 原生Icon广告上报点击",e),this.nativeIconAd.reportAdClick({adId:e})},t.loadNativeIcon=function(){this.nativeIconAd&&this.nativeIconAd.load()},t.addDesktop=function(e){null!=this.qg&&null!=this.qg&&this.qg.installShortcut({success:function(t){0==t?e&&e(!0):e&&e(!1)},fail:function(e){},complete:function(){}})},t.hasShortcutInstalled=function(e){null!=this.qg&&null!=this.qg&&this.qg.hasShortcutInstalled({success:function(t){0==t?e&&e(!0):e&&e(!1)},fail:function(e){},complete:function(){}})},t.StartRecorder=function(e){},t.recordClipRecorder=function(e){},t.pauseGameVideo=function(){},t.resumeGameVideo=function(){},t.stopRecordScreen=function(){},t.createMoreGamesBtn=function(){},t.showMoreGamesBtn=function(){},t.jumpToGame=function(e){},t.addColorBookmark=function(){},t.addSubscribeApp=function(){},t.phoneVibrate=function(e){null!==this.qg&&void 0!==this.qg&&(e?this.qg.vibrateLong&&this.qg.vibrateLong():this.qg.vibrateShort&&this.qg.vibrateShort())},t.reportAnalytics=function(e,t){},t.showGridAd=function(){},t.hideGridAd=function(){},t.navigateToScene=function(e,t){},t.Share=function(e,t){},t.createNewNativeCuston=function(){var e=this;if(this.qg.createNewNativeAd&&A.getInstance().playAbnormalAD()){console.log("MINIGAME ===> ","VIVO 原生自渲染2.0"),this.hideCustomBanner(),this.hideADNewNativeType12(1),this.hideADNewNativeType12(2);var t={left:100,top:this.qg.getSystemInfoSync().screenHeight-500},n="";n=this.ADNewConfig&&this.ADNewConfig[g.样式原生icon]?this.ADNewConfig[g.样式原生icon].vendor_position:"D|80|20|100|100",this.customNewNativeAd=this.qg.createNewNativeAd({posId:this.ADNewNativeAdData.vendor_position}),this.customNewNativeAd.onLoad((function(o){console.log("原生自渲染2.0广告加载完成-onload触发",JSON.stringify(o));var i=o.adList[0].formType[0],s=e.qg.getSystemInfoSync();if(o&&o.adList&&I[i]){""!=n&&(t={},v.Log("原生icon config: "+n),v.Log("原生icon ADNewNativeAry: "+I[i]),t=u.gePosAndWidthCfg(n,s.screenWidth,s.screenHeight,I[i])),v.Log("原生icon styleMy: "+JSON.stringify(t));var a={adId:o.adList[0].adId,formType:o.adList[0].formType[0],style:t};e.customNewNativeAd.show(a).then((function(){console.log("原生自渲染2.0广告展示完成")})).catch((function(e){console.log("原生自渲染2.0广告展示失败",JSON.stringify(e))}))}})),this.customNewNativeAd.onClose((function(){console.log("原生自渲染2.0广告关闭")})),this.customNewNativeAd.onError((function(e){console.log("原生自渲染2.0广告加载失败",e)}))}},t.showNewNativeAd=function(){v.Log("showNewNativeAd"),this.isShowADNewNativeType12&&v.Log("自渲染 1 或 2 在展示中 不能同时存在  等关闭会调用显示该函数")},t.hideNewNativeAd=function(){v.Log("hideNewNativeAd"),this.customNewNativeAd&&(this.customNewNativeAd.hide(),this.customNewNativeAd.offLoad(),this.customNewNativeAd.offClose(),this.customNewNativeAd.offError(),this.customNewNativeAd.destroy(),this.customNewNativeAd=null)},t.createADNewNativeType12=function(e,t){var n=this;if(this.qg.createNewNativeAd){if(this.hideNewNativeAd(),this.hideCustomBanner(),console.log("MINIGAME ===> ","VIVO 原生自渲染   "+e),!this.ADNewNativeTypeData||!this.ADNewNativeTypeData[e])return void v.Log("showADNewNativeType12 无广告位数据 type: "+e);this.ADNewNativeTypeVendor_Pos[e]&&0!=this.ADNewNativeTypeVendor_Pos[e].length||(this.ADNewNativeTypeVendor_Pos[e]=[],this.ADNewNativeTypeVendor_Pos[e]=u.getVendor_posAry(this.ADNewNativeTypeData[e].vendor_position));var o=this.ADNewNativeTypeVendor_Pos[e].shift();v.Log(e+" type  showADNewNativeType12  vendor_position:"+this.ADNewNativeTypeData[e].vendor_position),this.customNewNativeTypeAd[e]=this.qg.createNewNativeAd({posId:o}),this.customNewNativeTypeAd[e].onLoad((function(o){v.Log(e+" 原生自渲染  广告加载完成-onload触发   "+JSON.stringify(o)),o&&o.adList&&(n.ADNewNativeType_b[e]=o.adList[0],t&&n.showADNewNativeType12(e))})),this.customNewNativeTypeAd[e].onClose((function(){v.Log(e+" 原生自渲染  广告关闭"),n.isShowADNewNativeType12=!1,n.ADNewNativeType_b[e]=null,setTimeout((function(){n.createADNewNativeType12(e)}),1e3)})),this.customNewNativeTypeAd[e].onError((function(t){v.Log(e+" 原生自渲染  广告加载失败  "+JSON.stringify(t)),n.isShowADNewNativeType12=!1,n.ADNewNativeType_Call[e]&&200!=t.code&&(n.ADNewNativeType_Call[e](!1),n.ADNewNativeType_Call[e]=null)}))}},t.showADNewNativeType12=function(e,t){var n=this;if(v.Log("showADNewNativeType12   "+e),this.ADNewNativeType_Call[e]=t,this.isShowADNewNativeType12)console.error("显示了已经");else{if(!this.customNewNativeTypeAd[e]||!this.ADNewNativeType_b[e])return console.error("mei没初始化好"),void this.createADNewNativeType12(e,!0);var o=this.ADNewNativeType_b[e],i=Math.floor(Math.random()*o.formType.length);v.Log(e+" type  自渲染配置返回："+JSON.stringify(o));var s=o.formType[i],a={adId:o.adId,formType:s,style:{gravity:"center"}};v.Log("自渲染 styleMy: "+JSON.stringify(a)),this.customNewNativeTypeAd[e].show(a).then((function(){v.Log(e+" 原生自渲染   广告展示完成  "),n.isShowADNewNativeType12=!0,t&&(t(!0),t=null)})).catch((function(o){v.Log(e+" 原生自渲染   广告展示失败  "+JSON.stringify(o)),n.isShowADNewNativeType12=!1,t&&200!=o.code&&(t(!1),t=null)}))}},t.hideADNewNativeType12=function(e){v.Log("hideADNewNativeType12 type："+e),this.customNewNativeTypeAd[e]&&(this.customNewNativeTypeAd[e].hide(),this.customNewNativeTypeAd[e].offLoad(),this.customNewNativeTypeAd[e].offClose(),this.customNewNativeTypeAd[e].offError(),this.customNewNativeTypeAd[e].destroy(),this.customNewNativeTypeAd[e]=null)},t.showCustomType12=function(e,t){if(this.qg.createCustomAd){if(!this.AdCustomTypeData||!this.AdCustomTypeData[e])return void v.Log("showCustomType12 无广告位数据 type: "+e);this.CustomType12[e]&&(this.CustomType12[e].offError(null),this.CustomType12[e].destroy(),this.CustomType12[e]=null),this.CustomTypeVendor_Pos[e]&&0!=this.CustomTypeVendor_Pos[e].length||(this.CustomTypeVendor_Pos[e]=[],this.CustomTypeVendor_Pos[e]=u.getVendor_posAry(this.AdCustomTypeData[e].vendor_position));var n=this.CustomTypeVendor_Pos[e].shift();v.Log("showCustomType12  vendor_position:"+this.AdCustomTypeData[e].vendor_position),this.CustomType12[e]=this.qg.createCustomAd({posId:n,style:{left:0,gravity:"center"}}),this.CustomType12[e].onError((function(n){console.log("原生模板广告加载失败 type:"+e,n),t&&(t(!1),t=null)})),this.CustomType12[e].show().then((function(){console.log("原生模板广告展示完成 type:"+e),t&&(t(!0),t=null)})).catch((function(n){console.log("原生模板广告展示失败 type:"+e,JSON.stringify(n)),t&&(t(!1),t=null)}))}},t.hideCustomType12=function(e){this.CustomType12[e]&&this.CustomType12[e].hide()},t.hideCustomIconAd=function(){},t.showCustomIconAd=function(){},t.ShowGameIconAd=function(){},t.HideGameIconAd=function(){},t.ShowHomeIconAd=function(){},t.HideHomeIconAd=function(){},t.ShowSideAd=function(){},t.HideSideAd=function(){},t.ShowMoreGamesAd=function(){},t.HideMoreGamesAd=function(){},t.ShowBannerNativeAd=function(){},t.HideBannerNativeAd=function(){},e}())||N);t._RF.pop()}}}));

System.register("chunks:///_virtual/WXADApi.ts",["cc","./TipManager.ts","./AdManager.ts","./AdsIdConfig.ts"],(function(t){"use strict";var i,o,e,n,s;return{setters:[function(t){i=t.cclegacy,o=t._decorator},function(t){e=t.TipManager},function(t){n=t.default},function(t){s=t.default}],execute:function(){var a;i._RF.push({},"459e8VfND1GV5WJr8vYg8Cc","WXADApi",void 0);var d=o.ccclass;o.property,t("default",d(a=function(){function t(){this.PassiveVideoData=void 0,this.AdCustomBannerData=void 0,this.AdCustomTypeData=void 0,this.ADNewNativeAdData=void 0,this.ADNewNativeTypeData=void 0,this.ADNewConfig=void 0,this.clipIndexList=void 0,this.videoPath=void 0,this.arg=void 0,this.SystemBannerData=null,this.SystemIntersData=null,this.VideoData=null,this.NativeBannerData=null,this.NativeIntersData=null,this.NativeIconData=null,this.JGGBoxData=null,this.BlockData=null,this.AdCustomIntersData=null,this.homeIcon1Data=null,this.homeIcon2Data=null,this.sideBar1Data=null,this.sideBar2Data=null,this.moreGameAdData=null,this.CustomBannerAdData=null,this.wx=window.wx,this.bannerAd=null,this._autoBannerClose=!1,this.interstitialAd=null,this.rewardedVideoAd=null,this.m_videoAdIsLoaded=!1,this.nativeAd=null,this.resTemp=null,this.gridAd=null,this.title="超上瘾的解密游戏，挑战你的智商！",this.shareUrl="https://res.efunent.com/dev2/web2/LceFirePeople/qq/data/share.jpg",this.systemInfo=null,this.customIntersAd=null,this.customIconAd=null,this.loadSucc_IconAd=!1,this.loadSucc_CuctomInters=!1,this.CuctomIntervalTime=!0,this.canReHandLoadRewardAd=!0,this._successCallback=null,this.isIntertLoaded=!1,this.homeIcon1NativeAd=null,this.homeIcon2NativeAd=null,this.sideBar1NativeAd=null,this.sideBar2NativeAd=null,this.bannerNativeAd=null,this.moreGameAd=null,this.NativeIconData2=null,this.customIconAd2=null}var i=t.prototype;return i.setGroup=function(t){},i.onInit=function(t){this.StartConfigAdUnitId(),null!==this.wx&&void 0!==this.wx&&(this.systemInfo=this.wx.getSystemInfoSync(),this.createVideo(),this.createInsertAd(),this.wx.onShow((function(){console.log("back from other"),n.getInstance().reportAnalytics("back_from_other",{})})),this.wx.onHide((function(){console.log("hide from game"),n.getInstance().reportAnalytics("hide_from_game",{})})),this.wx.showShareMenu({withShareTicket:!0,menus:["shareAppMessage","shareTimeline"]})),t&&t(),console.log("wx ===================> onInit   ok")},i.StartConfigAdUnitId=function(){var t;if(null!=s.adConfig){var i=null==(t=s.adConfig.data)?void 0:t.positions;if(null!=i&&null!=i)for(var o=0;o<i.length;o++)if(i[o].vendor_position&&i[o].enabled)switch(i[o].ad_type){case 2:this.SystemBannerData=i[o];break;case 3:this.SystemIntersData=i[o];break;case 4:this.VideoData=i[o];break;case 5:this.NativeIconData=i[o];break;case 12:this.NativeIconData2=i[o];break;case 15:this.homeIcon2Data=i[o];break;case 24:this.homeIcon1Data=i[o];break;case 22:this.sideBar1Data=i[o];break;case 23:this.sideBar2Data=i[o];break;case 21:this.moreGameAdData=i[o];break;case 77:this.CustomBannerAdData=i[o]}}else console.log("server config fail!")},i.onLogin=function(){},i.onShare=function(t){null!=this.wx&&null!=this.wx&&(console.log("wx平台 分享"),this.wx.shareAppMessage({title:this.title,imageUrl:this.shareUrl,success:function(){t&&t(1)},fail:function(){t&&t(0)}}))},i.ShareVideo=function(t,i,o){},i.createBanner=function(){},i.showBanner=function(){var t=this;null==this.wx&&null==this.wx||this.SystemBannerData&&this.SystemBannerData.enabled&&""!=this.SystemBannerData.vendor_position&&(this.hideBanner(!0),this._autoBannerClose=!1,console.log("wx平台 创建横幅广告"),this.bannerAd=this.wx.createBannerAd({adUnitId:this.SystemBannerData.vendor_position,adIntervals:30,style:{left:0,top:this.systemInfo.windowHeight-300/2.88,width:320}}),this.bannerAd.onError((function(t){console.log(t)})),this.bannerAd.onResize((function(i){t.bannerAd.style.top=t.systemInfo.windowHeight-i.height,t.bannerAd.style.left=(t.systemInfo.windowWidth-i.width)/2})),this.bannerAd.onLoad((function(){console.log("横幅广告调用 onLoad"),t.bannerAd.show()})))},i.hideBanner=function(t){void 0===t&&(t=!1),this.bannerAd&&(console.log("wx平台 销毁横幅广告"),t||(this._autoBannerClose=!0),this.bannerAd.hide(),this.bannerAd.destroy(),this.bannerAd=null)},i.createVideo=function(){var t=this;if((null!=this.wx||null!=this.wx)&&this.VideoData&&this.VideoData.enabled&&""!=this.VideoData.vendor_position){console.log("wx平台 创建激励视频广告"),this.rewardedVideoAd=this.wx.createRewardedVideoAd({adUnitId:this.VideoData.vendor_position}),this.rewardedVideoAd.onLoad((function(){console.log("激励视频广告 加载成功"),t.m_videoAdIsLoaded=!0})),this.rewardedVideoAd.onError((function(i){t.m_videoAdIsLoaded=!1,t.canReHandLoadRewardAd&&(t.rewardedVideoAd.load(),t.canReHandLoadRewardAd=!1)}));this.rewardedVideoAd.onClose((function(i){t.canReHandLoadRewardAd=!0,i.isEnded?(console.log("激励视频广告完成，发放奖励"),t._successCallback&&t._successCallback(!0)):(console.log("激励视频广告取消关闭，不发放奖励"),t._successCallback&&t._successCallback(!1))}))}},i.showVideo=function(t){var i=this;null==this.wx&&null==this.wx||(this._successCallback=t,this.VideoData&&this.VideoData.enabled&&""!=this.VideoData.vendor_position&&this.rewardedVideoAd&&this.rewardedVideoAd.show().catch((function(t){i.canReHandLoadRewardAd=!1,console.log("播放激励错误,准备重新加载:"+JSON.stringify(t)),i.rewardedVideoAd.load().then((function(){i.rewardedVideoAd.show()})).catch((function(t){console.log("加载激励失败"),e.Instance.ShowTip("暂无激励，请稍后再试!"),i._successCallback&&i._successCallback(!1),n.getInstance().reportAnalytics("show_rewardad_fail",{})}))})))},i.showVideoAward=function(){},i.showVideoFail=function(){},i.createInsertAd=function(){var t=this;null==this.wx&&null==this.wx||this.SystemIntersData&&this.SystemIntersData.enabled&&""!=this.SystemIntersData.vendor_position&&(this.interstitialAd=this.wx.createInterstitialAd({adUnitId:this.SystemIntersData.vendor_position}),this.interstitialAd.onLoad((function(){console.log("插屏加载成功!"),t.isIntertLoaded=!0})),this.interstitialAd.onError((function(i){t.isIntertLoaded=!1})))},i.showInsertAd=function(){null==this.wx&&null==this.wx||this.SystemIntersData&&this.SystemIntersData.enabled&&""!=this.SystemIntersData.vendor_position&&(this.isIntertLoaded?this.interstitialAd.show():(this.interstitialAd&&this.interstitialAd.load(),n.getInstance().reportAnalytics("show_interstitial_fail",{})))},i.ShowHomeIcon1Ad=function(){var t=this;if((null!=this.wx||null!=this.wx)&&this.homeIcon1Data&&this.homeIcon1Data.enabled&&""!=this.homeIcon1Data.vendor_position){this.homeIcon1NativeAd&&(this.homeIcon1NativeAd.destroy(),this.homeIcon1NativeAd=null),this.homeIcon1NativeAd=this.wx.createCustomAd({adUnitId:this.homeIcon1Data.vendor_position,style:{left:90,top:70}}),this.homeIcon1NativeAd.onLoad((function(){t.homeIcon1NativeAd.show()})),this.homeIcon1NativeAd.onError((function(i){t.homeIcon1NativeAd.destroy(),t.homeIcon1NativeAd=null}));this.homeIcon1NativeAd.onClose((function i(){console.log("用户关闭homeIcon1NativeAd广告并销毁"),t.homeIcon1NativeAd.offClose(i),t.homeIcon1NativeAd.destroy(),t.homeIcon1NativeAd=null}))}},i.HideHomeIcon1Ad=function(){null==this.wx&&null==this.wx||this.homeIcon1NativeAd&&(this.homeIcon1NativeAd.hide(),this.homeIcon1NativeAd.destroy(),this.homeIcon1NativeAd=null)},i.ShowHomeIcon2Ad=function(){var t=this;if((null!=this.wx||null!=this.wx)&&this.homeIcon2Data&&this.homeIcon2Data.enabled&&""!=this.homeIcon2Data.vendor_position){this.homeIcon2NativeAd&&(this.homeIcon2NativeAd.destroy(),this.homeIcon2NativeAd=null),this.homeIcon2NativeAd=this.wx.createCustomAd({adUnitId:this.homeIcon2Data.vendor_position,style:{left:180,top:70}}),this.homeIcon2NativeAd.onLoad((function(){t.homeIcon2NativeAd.show()})),this.homeIcon2NativeAd.onError((function(i){t.homeIcon2NativeAd.destroy(),t.homeIcon2NativeAd=null}));this.homeIcon2NativeAd.onClose((function i(){console.log("用户关闭homeIcon2NativeAd广告并销毁"),t.homeIcon2NativeAd.offClose(i),t.homeIcon2NativeAd.destroy(),t.homeIcon2NativeAd=null}))}},i.HideHomeIcon2Ad=function(){null==this.wx&&null==this.wx||this.homeIcon2NativeAd&&(this.homeIcon2NativeAd.hide(),this.homeIcon2NativeAd.destroy(),this.homeIcon2NativeAd=null)},i.ShowSideBar1Ad=function(){var t=this;if((null!=this.wx||null!=this.wx)&&this.sideBar1Data&&this.sideBar1Data.enabled&&""!=this.sideBar1Data.vendor_position){this.sideBar1NativeAd&&(this.sideBar1NativeAd.destroy(),this.sideBar1NativeAd=null),this.sideBar1NativeAd=this.wx.createCustomAd({adUnitId:this.sideBar1Data.vendor_position,style:{left:0,top:80}}),this.sideBar1NativeAd.onLoad((function(){t.sideBar1NativeAd.show()})),this.sideBar1NativeAd.onError((function(i){t.sideBar1NativeAd.destroy(),t.sideBar1NativeAd=null}));this.sideBar1NativeAd.onClose((function i(){console.log("用户关闭sideBar1NativeAd广告并销毁"),t.sideBar1NativeAd.offClose(i),t.sideBar1NativeAd.destroy(),t.sideBar1NativeAd=null}))}},i.HideSideBar1Ad=function(){null==this.wx&&null==this.wx||this.sideBar1NativeAd&&(this.sideBar1NativeAd.hide(),this.sideBar1NativeAd.destroy(),this.sideBar1NativeAd=null)},i.ShowSideBar2Ad=function(){var t=this;if((null!=this.wx||null!=this.wx)&&this.sideBar2Data&&this.sideBar2Data.enabled&&""!=this.sideBar2Data.vendor_position){this.sideBar2NativeAd&&(this.sideBar2NativeAd.destroy(),this.sideBar2NativeAd=null),this.sideBar2NativeAd=this.wx.createCustomAd({adUnitId:this.sideBar2Data.vendor_position,style:{left:this.systemInfo.screenWidth-70,top:80}}),this.sideBar2NativeAd.onLoad((function(){t.sideBar2NativeAd.show()})),this.sideBar2NativeAd.onError((function(i){t.sideBar2NativeAd.destroy(),t.sideBar2NativeAd=null}));this.sideBar2NativeAd.onClose((function i(){console.log("用户关闭sideBar2NativeAd广告并销毁"),t.sideBar2NativeAd.offClose(i),t.sideBar2NativeAd.destroy(),t.sideBar2NativeAd=null}))}},i.HideSideBar2Ad=function(){null==this.wx&&null==this.wx||this.sideBar2NativeAd&&(this.sideBar2NativeAd.hide(),this.sideBar2NativeAd.destroy(),this.sideBar2NativeAd=null)},i.ShowBannerNativeAd=function(){var t=this;if((null!=this.wx||null!=this.wx)&&this.CustomBannerAdData&&this.CustomBannerAdData.enabled&&""!=this.CustomBannerAdData.vendor_position){this.bannerNativeAd&&(this.bannerNativeAd.destroy(),this.bannerNativeAd=null),this.bannerNativeAd=this.wx.createCustomAd({adUnitId:this.CustomBannerAdData.vendor_position,style:{left:this.systemInfo.screenWidth/2-118,top:this.systemInfo.windowHeight-90}}),this.bannerNativeAd.onLoad((function(){t.bannerNativeAd.show()})),this.bannerNativeAd.onError((function(i){t.bannerNativeAd.destroy(),t.bannerNativeAd=null}));this.bannerNativeAd.onClose((function i(){console.log("用户关闭bannerNativeAd广告并销毁"),t.bannerNativeAd.offClose(i),t.bannerNativeAd.destroy(),t.bannerNativeAd=null}))}},i.HideBannerNativeAd=function(){null==this.wx&&null==this.wx||this.bannerNativeAd&&(this.bannerNativeAd.hide(),this.bannerNativeAd.destroy(),this.bannerNativeAd=null)},i.ShowMoreGameAd=function(){var t=this;if((null!=this.wx||null!=this.wx)&&(console.log("调用更多广告"),this.moreGameAdData&&this.moreGameAdData.enabled&&""!=this.moreGameAdData.vendor_position)){this.moreGameAd&&(this.moreGameAd.destroy(),this.moreGameAd=null),this.moreGameAd=this.wx.createCustomAd({adUnitId:this.moreGameAdData.vendor_position,style:{left:(this.systemInfo.screenWidth-360)/2,top:90,width:375}}),this.moreGameAd.onLoad((function(){t.moreGameAd.show()})),this.moreGameAd.onError((function(i){t.moreGameAd.destroy(),t.moreGameAd=null}));this.moreGameAd.onClose((function i(){console.log("用户关闭moreGameAd并销毁"),t.moreGameAd.offClose(i),t.moreGameAd.destroy(),t.moreGameAd=null}))}},i.HideMoreGameAd=function(){null==this.wx&&null==this.wx||this.moreGameAd&&(this.moreGameAd.hide(),this.moreGameAd.destroy(),this.moreGameAd=null)},i.showCustomAd=function(){var t=this;if((null!=this.wx||null!=this.wx)&&this.AdCustomIntersData&&this.AdCustomIntersData.enabled&&""!=this.AdCustomIntersData.vendor_position){this.customIntersAd&&(this.customIntersAd.destroy(),this.customIntersAd=null),this.customIntersAd=this.wx.createCustomAd({adUnitId:this.AdCustomIntersData.vendor_position,style:{}}),this.customIntersAd.onLoad((function(){t.customIntersAd.show()})),this.customIntersAd.onError((function(i){t.customIntersAd.destroy(),t.customIntersAd=null}));this.customIntersAd.onClose((function i(){console.log("用户关闭插屏广告并销毁"),t.customIntersAd.offClose(i),t.customIntersAd.destroy(),t.customIntersAd=null}))}},i.hideCustomAd=function(){null==this.wx&&null==this.wx||this.customIntersAd&&(this.customIntersAd.hide(),this.customIntersAd.destroy(),this.customIntersAd=null)},i.showCustomIconAd=function(){var t=this;if((null!=this.wx||null!=this.wx)&&this.NativeIconData&&this.NativeIconData.enabled&&""!=this.NativeIconData.vendor_position){this.customIconAd&&(this.customIconAd.destroy(),this.customIconAd=null),console.log("wx平台 showCustomIconAd"),this.customIconAd=this.wx.createCustomAd({adUnitId:this.NativeIconData.vendor_position,style:{left:100}}),this.customIconAd.onLoad((function(){t.customIconAd.show()})),this.customIconAd.onError((function(i){t.customIconAd.destroy(),t.customIconAd=null}));this.customIconAd.onClose((function i(){console.log("用户关闭icon广告并销毁"),t.customIconAd.offClose(i),t.customIconAd.destroy(),t.customIconAd=null}))}},i.hideCustomIconAd=function(){this.customIconAd&&(this.customIconAd.hide(),this.customIconAd.destroy(),this.customIconAd=null)},i.showCustomIcon2Ad=function(){var t=this;if((null!=this.wx||null!=this.wx)&&this.NativeIconData2&&this.NativeIconData2.enabled&&""!=this.NativeIconData2.vendor_position){this.customIconAd2&&(this.customIconAd2.destroy(),this.customIconAd2=null),console.log("wx平台 showCustomIconAd2"),this.customIconAd2=this.wx.createCustomAd({adUnitId:this.NativeIconData2.vendor_position,style:{left:this.systemInfo.screenWidth-240}}),this.customIconAd2.onLoad((function(){t.customIconAd2.show()})),this.customIconAd2.onError((function(i){t.customIconAd2.destroy(),t.customIconAd2=null}));this.customIconAd2.onClose((function i(){console.log("用户关闭game icon2广告并销毁"),t.customIconAd2.offClose(i),t.customIconAd2.destroy(),t.customIconAd2=null}))}},i.hideCustomIcon2Ad=function(){this.customIconAd2&&(this.customIconAd2.hide(),this.customIconAd2.destroy(),this.customIconAd2=null)},i.createNativeAd=function(){},i.showNativeAd=function(t,i,o){},i.onNativeAdClick=function(t){},i.onNativeReportAdShow=function(t){},i.createNativeIconAd=function(){},i.showNativeIconAd=function(){},i.onNativeIconAdClick=function(t){},i.showGridAd=function(){var t=this;if(null!=this.wx&&null!=this.wx){this.gridAd&&(this.gridAd.destroy(),this.gridAd=null),this.gridAd=this.wx.createGridAd({adUnitId:this.JGGBoxData.vendor_position,style:{},adTheme:"white",gridCount:8}),this.gridAd.onLoad((function(){t.gridAd.show()})),this.gridAd.onError((function(i){t.gridAd.destroy(),t.gridAd=null}));this.gridAd.onClose((function i(o){console.log("用户关闭插屏广告并销毁"),t.gridAd.offClose(i),t.gridAd.destroy(),t.gridAd=null})),this.gridAd.load()}},i.hideGridAd=function(){this.gridAd&&(this.gridAd.hide(),this.bannerAd.destroy(),this.bannerAd=null)},i.saveDataToCache=function(t,i){},i.readDataFromCache=function(t){},i.addDesktop=function(t){this.wx.addShortcut({success:function(i){console.log("MINIGAME ===> ","添加桌面成功"),t(!0)},fail:function(i){t(!1)}})},i.hasShortcutInstalled=function(t){},i.StartRecorder=function(t){},i.stopRecordScreen=function(){},i.createMoreGamesBtn=function(){},i.showMoreGamesBtn=function(){},i.jumpToGame=function(t){},i.addColorBookmark=function(){},i.addSubscribeApp=function(){},i.vibrateShort=function(){null!==this.wx&&void 0!==this.wx&&this.wx.vibrateShort&&this.wx.vibrateShort()},i.vibrateLong=function(){null!==this.wx&&void 0!==this.wx&&this.wx.vibrateLong&&this.wx.vibrateLong()},i.recordClipRecorder=function(t){},i.pauseGameVideo=function(){},i.resumeGameVideo=function(){},i.getNativeAdInfo=function(t){},i.getHWNativeAdInfo=function(t){},i.reportNativeImageClick=function(t){},i.reportNativeImageShow=function(t){},i.loadNativeImage=function(){},i.getNativeIconAdInfo=function(t){},i.reportNativeIconClick=function(t){},i.reportNativeIconShow=function(t){},i.loadNativeIcon=function(){},i.showNavigateBoxPortal=function(){},i.showNavigateBoxBanner=function(){},i.hideNavigateBoxBanner=function(){},i.phoneVibrate=function(t){},i.reportAnalytics=function(t,i){null!=this.wx&&null!=this.wx&&this.wx.reportEvent(t,i)},i.ShowGameIconAd=function(){this.showCustomIconAd(),this.showCustomIcon2Ad()},i.HideGameIconAd=function(){this.hideCustomIconAd(),this.hideCustomIcon2Ad()},i.ShowHomeIconAd=function(){this.ShowHomeIcon1Ad(),this.ShowHomeIcon2Ad()},i.HideHomeIconAd=function(){this.HideHomeIcon1Ad(),this.HideHomeIcon2Ad()},i.ShowSideAd=function(){this.ShowSideBar1Ad(),this.ShowSideBar2Ad()},i.HideSideAd=function(){this.HideSideBar1Ad(),this.HideSideBar2Ad()},i.ShowMoreGamesAd=function(){this.ShowMoreGameAd()},i.HideMoreGamesAd=function(){this.HideMoreGameAd()},i.navigateToScene=function(t,i){},i.showPassiveVideo=function(t){},i.showCustomType12=function(t,i){},i.showADNewNativeType12=function(t,i){},i.showCustomBanner=function(t){},i.hideCustomBanner=function(){},t}())||a);i._RF.pop()}}}));

System.register("chunks:///_virtual/XmADApi.ts",["cc","./AdLogUtil.ts"],(function(t){"use strict";var e,n,i;return{setters:[function(t){e=t.cclegacy,n=t._decorator},function(t){i=t.AdLogUtil}],execute:function(){var o;e._RF.push({},"871865NwTZCYqOTuscBImWs","XmADApi",void 0);var a=n.ccclass;n.property,t("XmADApi",a("XmADApi")(o=function(){function t(){this.SystemBannerData=void 0,this.SystemIntersData=void 0,this.VideoData=void 0,this.NativeBannerData=void 0,this.NativeIntersData=void 0,this.NativeIconData=void 0,this.JGGBoxData=void 0,this.BlockData=void 0,this.AdCustomIntersData=void 0,this.qg=window.qg,this.systemInfo=null,this.systemBannerAd=null,this.loadSucc_SystemBanner=!1,this.isShow_SystemBanner=!1,this.NUM_BannerUpdateTime=30,this.interval_updateBanner=null,this.systemIntersAd=null,this.loadSucc_SystemInters=!1,this.rewardedVideoAd=null,this.loadSucc_Video=!1,this.callback_Video=null,this.navigateBoxPortalAd=null,this.loadSucc_NavigateBoxPortal=!1,this.nativeImageAd=null,this.nativeImageInfo=null,this.loadSucc_NativeImage=!1,this.isShow_NativeImage=!1,this.callback_Native=null,this.clipIndexList=void 0,this.videoPath=void 0}var e=t.prototype;return e.onInit=function(t){null!==this.qg&&void 0!==this.qg?(this.systemInfo=this.qg.getSystemInfoSync(),console.log("MINIGAME ===> 设备信息.systemInfo===>",this.systemInfo),this.createAd()):this.qg=null,t&&t(),console.log("MINIGAME ===> 小米 ===================> onInit ok")},e.createAd=function(){this.SystemBannerData.enabled&&""!=this.SystemBannerData.vendor_position&&this.createSystemBanner(),console.log("MINIGAME ===> createAd"),console.log(this.SystemIntersData.enabled),console.log(this.SystemIntersData.vendor_position),this.SystemIntersData&&this.SystemIntersData.enabled&&""!=this.SystemIntersData.vendor_position&&this.createInsertAd(),this.VideoData.enabled&&""!=this.VideoData.vendor_position&&this.createVideo(),this.NativeIntersData&&this.NativeIntersData.enabled&&""!=this.NativeIntersData.vendor_position&&this.createNativeImage()},e.createSystemBanner=function(){var t=this;console.log("MINIGAME ===> ","小米 系统banner加载",this.SystemBannerData.vendor_position),this.systemBannerAd=this.qg.createBannerAd({adUnitId:this.SystemBannerData.vendor_position}),this.systemBannerAd.onError((function(e){i.Log("小米banner onError!"),console.log("MINIGAME ===> ","小米 系统banner加载/展示失败：",JSON.stringify(e)),t.loadSucc_SystemBanner=!1})),this.systemBannerAd.onClose((function(){i.Log("小米banner onClose!"),console.log("MINIGAME ===> ","小米 系统banner关闭",t.NUM_BannerUpdateTime+"S之后再次刷新"),t.systemBannerAd&&t.systemBannerAd.destroy(),t.loadSucc_SystemBanner=!1})),this.systemBannerAd.onLoad((function(){i.Log("小米banner 加载成功!"),t.loadSucc_SystemBanner=!0}))},e.showSystemBanner=function(){i.Log("showSystemBanner"),this.isShow_SystemBanner=!0,this.systemBannerAd.show()},e.hideSystemBanner=function(){i.Log("hideSystemBanner"),this.isShow_SystemBanner&&this.systemBannerAd&&(this.systemBannerAd&&this.systemBannerAd.destroy(),this.loadSucc_SystemBanner=!1)},e.showBanner=function(){var t=this;i.Log("showBanner isLoaded:"+this.loadSucc_SystemBanner),this.loadSucc_SystemBanner||this.createSystemBanner(),setTimeout((function(){t.isShow_SystemBanner=!0,t.systemBannerAd.show()}),1e3)},e.hideBanner=function(){i.Log("hideBanner"),this.hideSystemBanner()},e.setGroup=function(t){},e.onLogin=function(t){console.log("xiaomi onLogin"),null!==this.qg&&void 0!==this.qg&&this.qg.login({success:function(e){console.log(" game login with real success:"+JSON.stringify(e)),t(1)},fail:function(e){console.log("game login with real fail:"+e),t(2)}})},e.onShare=function(t){},e.ShareVideo=function(t,e,n){},e.recordClipRecorder=function(t){},e.pauseGameVideo=function(){},e.resumeGameVideo=function(){},e.createInsertAd=function(){var t=this;console.log("MINIGAME ===> createInsertAd"),null!=this.qg&&null!=this.qg&&(console.log("MINIGAME ===> 小米  创建插屏广告"),this.systemIntersAd=this.qg.createInterstitialAd({adUnitId:this.SystemIntersData.vendor_position}),this.loadSucc_SystemInters=!1,this.systemIntersAd.onLoad((function(){t.loadSucc_SystemInters=!0})),this.systemIntersAd.onError((function(e){console.log("MINIGAME ===> ","小米 系统插屏onError"+e),t.loadSucc_SystemInters=!1,setTimeout((function(){t.createInsertAd()}),15e3)})),this.systemIntersAd.onClose((function(){console.log("MINIGAME ===> ","小米 系统插屏广告关闭"),t.loadSucc_SystemInters=!1,setTimeout((function(){t.createInsertAd()}),5e3)})))},e.showInsertAd=function(){console.log("MINIGAME ===> showInsertAd"),this.systemIntersAd&&this.loadSucc_SystemInters&&this.systemIntersAd.show()},e.createVideo=function(){var t=this;console.log("MINIGAME ===> createVideo"),null!==this.qg&&void 0!==this.qg&&(console.log("MINIGAME ===> 小米 创建激励视频广告"),this.rewardedVideoAd=this.qg.createRewardedVideoAd({adUnitId:this.VideoData.vendor_position}),this.rewardedVideoAd.onLoad((function(){console.log("MINIGAME ===> 激励视频广告 加载成功"),t.loadSucc_Video=!0})),this.rewardedVideoAd.onError((function(e){console.log("MINIGAME ===>  激励视频 加载失败:code =====>:"+e.code+"message ======>:"+JSON.stringify(e)),t.loadSucc_Video=!1,t.rewardedVideoAd&&setTimeout((function(){t.rewardedVideoAd&&t.rewardedVideoAd.load()}),5e3)})),this.rewardedVideoAd.onClose((function(e){e.isEnded?(console.log("MINIGAME ===> ","小米 激励视频广告完成，发放奖励"),t.callback_Video&&t.callback_Video(!0)):(console.log("MINIGAME ===> ","小米 激励视频广告关闭，不发放奖励"),t.callback_Video&&t.callback_Video(!1)),setTimeout((function(){t.rewardedVideoAd.load()}),300)})),this.rewardedVideoAd.load())},e.showVideo=function(t){console.log("MINIGAME ===> showVideo"),this.rewardedVideoAd&&this.loadSucc_Video?(this.callback_Video=t,this.rewardedVideoAd.show(),this.loadSucc_Video=!1):t(!1)},e.showNavigateBoxPortal=function(){console.log("xiaomi showNavigateBoxPortal"),null!==this.qg&&void 0!==this.qg&&this.qg.displayAd({type:100,upid:this.JGGBoxData.vendor_position,success:function(t){console.log("成功显示九宫格"),console.log(t)},fail:function(t){console.log("显示九宫格失败"),console.log(t)}})},e.createNativeImage=function(){var t=this;console.log("MINIGAME ===> 原生大图","--createNativeImage--"),this.nativeImageAd=this.qg.createNativeAd({adUnitId:this.NativeIntersData.vendor_position}),this.loadSucc_NativeImage=!1,this.nativeImageInfo={adId:null,title:"",desc:"",source:"",clickBtnTxt:"",Native_icon_url:null,Native_icon:null,Native_BigImage_url:null,Native_BigImage:null,dcr:this.NativeIntersData.dcr},this.nativeImageAd.onLoad((function(e){console.info("ad data loaded: "+JSON.stringify(e));var n=0;null!=typeof e.adList&&0!=e.adList.length?(n=e.adList.length-1,t.nativeImageInfo.adId=String(e.adList[n].adId),t.nativeImageInfo.title=String(e.adList[n].title),t.nativeImageInfo.desc=String(e.adList[n].desc),t.nativeImageInfo.clickBtnTxt=String(e.adList[n].clickBtnTxt),e.adList&&""!=e.adList[n].icon&&(t.nativeImageInfo.Native_icon_url=e.adList[n].icon),e.adList&&e.adList[n].imgUrlList.length>0&&(t.nativeImageInfo.Native_BigImage_url=e.adList[n].imgUrlList[0]),t.loadSucc_NativeImage=!0,console.log("MINIGAME ===> ","小米 原生大图广告加载成功：",t.nativeImageInfo),t.callback_Native&&t.callback_Native(t.nativeImageInfo)):console.log("MINIGAME ===> ","小米 原生大图广告列表为空 return")})),this.nativeImageAd.onError((function(e){console.log("MINIGAME ===> ","小米 原生大图广告加载失败：",JSON.stringify(e)),t.callback_Native&&t.callback_Native(null)}))},e.getNativeAdInfo=function(t){this.callback_Native=t,this.nativeImageAd||this.NativeIntersData&&this.NativeIntersData.enabled&&""!=this.NativeIntersData.vendor_position&&this.createNativeImage(),this.nativeImageAd&&this.nativeImageAd.load()},e.reportNativeImageShow=function(t){console.log("MINIGAME ===> ","小米 该原生大图广告id上报展示",t),this.nativeImageAd.reportAdShow({adId:t})},e.reportNativeImageClick=function(t){console.log("MINIGAME ===> ","小米 原生大图广告上报点击",t),this.nativeImageAd.reportAdClick({adId:t})},e.getHWNativeAdInfo=function(t){},e.loadNativeImage=function(){},e.getNativeIconAdInfo=function(t){},e.reportNativeIconClick=function(t){},e.reportNativeIconShow=function(t){},e.loadNativeIcon=function(){},e.showNavigateBoxBanner=function(){},e.hideNavigateBoxBanner=function(){},e.addDesktop=function(t){},e.hasShortcutInstalled=function(t){},e.StartRecorder=function(t){},e.stopRecordScreen=function(){},e.createMoreGamesBtn=function(){},e.showMoreGamesBtn=function(){},e.jumpToGame=function(t){},e.addColorBookmark=function(t){},e.addSubscribeApp=function(t){},e.phoneVibrate=function(t){},e.reportAnalytics=function(t,e){},e.showCustomAd=function(){},e.hideCustomAd=function(){},e.showGridAd=function(){},e.hideGridAd=function(){},e.navigateToScene=function(t,e){},t}())||o);e._RF.pop()}}}));
