System.register("bundle://module_basic/_virtual/CharacterMovement.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EasyController.ts"],(function(i){var t,e,n,o,s,l,r,a,m,h,p,u,c,d,_,y;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,n=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){s=i._decorator,l=i.v3,r=i.Camera,a=i.AnimationClip,m=i.find,h=i.RigidBody,p=i.SkeletalAnimation,u=i.Collider,c=i.Vec3,d=i.Component},function(i){_=i.EasyController,y=i.EasyControllerEvent}],execute:function(){var C,g,v,f,A,b,M,T,V,B,j,L,E,S,z,w,J,O,P=s.ccclass,F=s.property,I=l();i("CharacterMovement",(C=P("tgxCharacterMovement"),g=F(r),v=F(a),f=F(a),A=F(a),b=F(a),M=F(a),C((B=t((V=function(i){function t(){for(var t,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return t=i.call.apply(i,[this].concat(s))||this,n(t,"mainCamera",B,o(t)),n(t,"velocity",j,o(t)),n(t,"jumpVelocity",L,o(t)),n(t,"maxJumpTimes",E,o(t)),t._curJumpTimes=0,n(t,"idleAnimClip",S,o(t)),n(t,"moveAnimClip",z,o(t)),n(t,"jumpBeginAnimClip",w,o(t)),n(t,"jumpLoopAnimClip",J,o(t)),n(t,"jumpLandAnimClip",O,o(t)),t._rigidBody=void 0,t._isMoving=!1,t._velocityScale=1,t._isInTheAir=!1,t._currentVerticalVelocity=0,t._anim=void 0,t._tmp=l(),t}e(t,i);var s=t.prototype;return s.start=function(){var i,t=this;this.mainCamera||(this.mainCamera=null==(i=m("Main Camera"))?void 0:i.getComponent(r));if(this._rigidBody=this.node.getComponent(h),this._anim=this.node.getComponent(p),this._anim){for(var e=[this.idleAnimClip,this.moveAnimClip,this.jumpBeginAnimClip,this.jumpLoopAnimClip,this.jumpLandAnimClip],n=0;n<e.length;++n){var o=e[n];o&&(this._anim.getState(o.name)||this._anim.addClip(o))}this.idleAnimClip&&this._anim.play(this.idleAnimClip.name)}_.on(y.MOVEMENT,this.onMovement,this),_.on(y.MOVEMENT_STOP,this.onMovementRelease,this),_.on(y.BUTTON,this.onJump,this);var s=this.getComponent(u);null==s||s.on("onCollisionEnter",(function(i){i.otherCollider!=i.selfCollider&&t.onLand()}))},s.onDestroy=function(){_.off(y.MOVEMENT,this.onMovement,this),_.off(y.MOVEMENT_STOP,this.onMovementRelease,this),_.off(y.MOVEMENT_STOP,this.onJump,this)},s.update=function(i){if(this._isMoving&&(this._tmp.set(this.node.forward),this._tmp.multiplyScalar(-1),this._tmp.multiplyScalar(this.velocity*this._velocityScale),this._rigidBody?(this._rigidBody.getLinearVelocity(I),this._tmp.y=I.y,this._rigidBody.setLinearVelocity(this._tmp)):(this._tmp.multiplyScalar(i),this._tmp.add(this.node.position),this.node.setPosition(this._tmp))),this._isInTheAir){if(this.jumpBeginAnimClip&&this._anim){var t=this._anim.getState(this.jumpBeginAnimClip.name);t.isPlaying&&t.current>=t.duration&&this.jumpLoopAnimClip&&this._anim.crossFade(this.jumpLoopAnimClip.name)}if(!this._rigidBody){this._currentVerticalVelocity-=9.8*i;var e=this.node.position,n=e.y+this._currentVerticalVelocity*i;n<=0&&(this.onLand(),n=0),this.node.setPosition(e.x,n,e.z)}}},s.onLand=function(){this._isInTheAir=!1,this._currentVerticalVelocity=0,this._curJumpTimes=0,this.moveAnimClip&&(this._isMoving?this._anim.crossFade(this.moveAnimClip.name,.5):this._anim.crossFade(this.idleAnimClip.name,.5))},s.onMovement=function(i,t){var e=0;this.mainCamera&&(e=this.mainCamera.node.eulerAngles.y),this._velocityScale=t,this._tmp.set(0,e+i-90+180,0),this.node.setRotationFromEuler(this._tmp),this._anim&&(this._isMoving||this._isInTheAir||this.moveAnimClip&&this._anim.crossFade(this.moveAnimClip.name,.1),this.moveAnimClip&&(this._anim.getState(this.moveAnimClip.name).speed=this._velocityScale)),this._isMoving=!0},s.onMovementRelease=function(){var i;!this._isInTheAir&&this.idleAnimClip&&(null==(i=this._anim)||i.crossFade(this.idleAnimClip.name,.5));this._isMoving=!1,this._rigidBody&&this._rigidBody.setLinearVelocity(c.ZERO)},s.onJump=function(i){var t;(console.log(i),"btn_slot_0"==i)&&(this._curJumpTimes>=this.maxJumpTimes||(this._curJumpTimes,this.jumpBeginAnimClip&&(null==(t=this._anim)||t.crossFade(this.jumpBeginAnimClip.name)),this._curJumpTimes++,this._rigidBody?(this._rigidBody.getLinearVelocity(I),I.y=this.jumpVelocity,this._rigidBody.setLinearVelocity(I)):this._currentVerticalVelocity=this.jumpVelocity,this._isInTheAir=!0))},t}(d)).prototype,"mainCamera",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(V.prototype,"velocity",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),L=t(V.prototype,"jumpVelocity",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),E=t(V.prototype,"maxJumpTimes",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=t(V.prototype,"idleAnimClip",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(V.prototype,"moveAnimClip",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(V.prototype,"jumpBeginAnimClip",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=t(V.prototype,"jumpLoopAnimClip",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(V.prototype,"jumpLandAnimClip",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=V))||T))}}}));

System.register("bundle://module_basic/_virtual/CharacterMovement2D.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EasyController.ts"],(function(t){var e,o,n,i,r,a,s,c,l,u,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized,r=t.createClass},function(t){a=t._decorator,s=t.v2,c=t.Vec2,l=t.Component},function(t){u=t.EasyController,h=t.EasyControllerEvent}],execute:function(){var v,m,p,f,M=a.ccclass,d=a.property,y=s();t("CharacterMovement2D",M("tgxCharacterMovement2D")((p=e((m=function(t){function e(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,n(e,"moveSpeed",p,i(e)),n(e,"needRotation",f,i(e)),e._moveFactor=0,e._moveDir=s(1,0),e}o(e,t);var a=e.prototype;return a.start=function(){u.on(h.MOVEMENT,this.onMovement,this),u.on(h.MOVEMENT_STOP,this.onMovementStop,this)},a.onMovement=function(t,e){var o=t/180*Math.PI;this.needRotation&&this.node.setRotationFromEuler(0,0,t),this._moveDir.set(Math.cos(o),Math.sin(o)),this._moveDir.normalize(),this._moveFactor=e},a.onMovementStop=function(){this._moveFactor=0},a.onDestroy=function(){u.off(h.MOVEMENT,this.onMovement,this),u.off(h.MOVEMENT_STOP,this.onMovementStop,this)},a.update=function(t){if(this._moveFactor){c.multiplyScalar(y,this._moveDir,this.realSpeed*t);var e=this.node.position;this.node.setPosition(e.x+y.x,e.y+y.y,e.z)}},r(e,[{key:"moveDir",get:function(){return this._moveDir}},{key:"realSpeed",get:function(){return this.moveSpeed*this._moveFactor}}]),e}(l)).prototype,"moveSpeed",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),f=e(m.prototype,"needRotation",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),v=m))||v)}}}));

System.register("bundle://module_basic/_virtual/EasyController.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.director}],execute:function(){var t=e("EasyControllerEvent",(function(){}));t.CAMERA_ROTATE="EasyControllerEvent.CAMERA_ROTATE",t.CAMERA_ZOOM="EasyControllerEvent.CAMERA_ZOOM",t.MOVEMENT="EasyControllerEvent.MOVEMENT",t.MOVEMENT_STOP="EasyControllerEvent.MOVEMENT_STOP",t.BUTTON="EasyControllerEvent.BUTTON",t.miniEnd="EasyControllerEvent.miniEnd",t.miniJinDu="EasyControllerEvent.miniJinDu",t.miniEnterGame="EasyControllerEvent.EnterGame",t.miniTimer="EasyControllerEvent.Timer",t.updateItem="EasyControllerEvent.UpdateItem",t.MoveLevelBg="EasyControllerEvent.MoveLevelBg",t.updateLevelGameUI="EasyControllerEvent.updateLevelGameUI",t.updateADUnlock="EasyControllerEvent.updateADUnlock";e("EasyController",function(){function e(){}return e.on=function(e,t,o){n.getScene().on(e,t,o)},e.off=function(e,t,o){var r;null==(r=n.getScene())||r.off(e,t,o)},e}())}}}));

System.register("bundle://module_basic/_virtual/Fab_TipsWindow.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,i,t,r,o,a,l,u,c;return{setters:[function(e){n=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.Button,u=e.Label,c=e.Component}],execute:function(){var p,s,b,f,d,y,_;o._RF.push({},"c2229LQbm1IYp3nwOTGV6Bu","Fab_TipsWindow",void 0);var v=a.ccclass,w=a.property;e("Fab_TipsWindow",(p=v("Fab_TipsWindow"),s=w(l),b=w(u),p((y=n((d=function(e){function n(){for(var n,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o))||this,t(n,"BtnLeave",y,r(n)),t(n,"label",_,r(n)),n}return i(n,e),n}(c)).prototype,"BtnLeave",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=n(d.prototype,"label",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=d))||f));o._RF.pop()}}}));

System.register("bundle://module_basic/_virtual/FollowCamera2D.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,o,i,n,a,l,s,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){n=e._decorator,a=e.v3,l=e.Node,s=e.Camera,c=e.Component}],execute:function(){var u,f,p,d,m,g,h=n.ccclass,b=n.property,y=a();e("FollowCamera2D",(u=h("tgxFollowCamera2D"),f=b(l),u((m=t((d=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return t=e.call.apply(e,[this].concat(n))||this,o(t,"target",m,i(t)),o(t,"offset",g,i(t)),t._camera=void 0,t}r(t,e);var n=t.prototype;return n.start=function(){this._camera=this.node.getComponent(s)},n.lateUpdate=function(e){this.target.getWorldPosition(y),y.add(this.offset),this.node.worldPosition=y},t}(c)).prototype,"target",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=t(d.prototype,"offset",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return a()}}),p=d))||p))}}}));

System.register("bundle://module_basic/_virtual/FPSCamera.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,r,n;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t._decorator,n=t.Component}],execute:function(){var o,u=r.ccclass;r.property,t("FPSCamera",u("tgxFPSCamera")(o=function(t){function r(){return t.apply(this,arguments)||this}e(r,t);var n=r.prototype;return n.start=function(){},n.update=function(t){},r}(n))||o)}}}));

System.register("bundle://module_basic/_virtual/FreeCamera.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,o,s,n,r,h,a,p,d,_,l,u,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,s=e.assertThisInitialized},function(e){n=e._decorator,r=e.Vec2,h=e.Vec3,a=e.Quat,p=e.input,d=e.Input,_=e.game,l=e.KeyCode,u=e.v2,c=e.Component}],execute:function(){var y,E,K,v,Y,f,S,m,k=n.ccclass,M=n.property,D=new r,T=new r,P=new h,A=new a,g=new h,w=new h;e("FreeCamera",(y=k("tgxFreeCamera"),E=M({slide:!0,range:[.05,.5,.01]}),y((Y=t((v=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,o(t,"moveSpeed",Y,s(t)),o(t,"moveSpeedShiftScale",f,s(t)),o(t,"damp",S,s(t)),o(t,"rotateSpeed",m,s(t)),t._euler=new h,t._velocity=new h,t._position=new h,t._speedScale=1,t._eulerP=new h,t.keys=[],t.moveDir=new h,t.key2dirMap=null,t}i(t,e);var n=t.prototype;return n.onLoad=function(){p.on(d.EventType.MOUSE_WHEEL,this.onMouseWheel,this),p.on(d.EventType.TOUCH_START,this.onTouchStart,this),p.on(d.EventType.TOUCH_MOVE,this.onTouchMove,this),p.on(d.EventType.TOUCH_END,this.onTouchEnd,this),h.copy(this._euler,this.node.eulerAngles),h.copy(this._position,this.node.getPosition()),h.copy(this._eulerP,this.node.eulerAngles),p.on(d.EventType.KEY_DOWN,this.onKeyDown,this),p.on(d.EventType.KEY_UP,this.onKeyUp,this)},n.onDestroy=function(){p.off(d.EventType.MOUSE_WHEEL,this.onMouseWheel,this),p.off(d.EventType.TOUCH_START,this.onTouchStart,this),p.off(d.EventType.TOUCH_MOVE,this.onTouchMove,this),p.off(d.EventType.TOUCH_END,this.onTouchEnd,this),p.off(d.EventType.KEY_DOWN,this.onKeyDown,this),p.off(d.EventType.KEY_UP,this.onKeyUp,this)},n.update=function(e){var t=Math.min(e/this.damp,1);h.transformQuat(P,this._velocity,this.node.rotation),h.scaleAndAdd(this._position,this._position,P,this.moveSpeed*this._speedScale),h.lerp(P,this.node.getPosition(),this._position,t),this.node.setPosition(P),this.moveDir.lengthSqr()&&(h.transformQuat(g,h.FORWARD,this.node.rotation),g.normalize(),h.cross(w,g,h.UP),w.normalize(),h.scaleAndAdd(this._position,this._position,g,this.moveSpeed*this._speedScale*this.moveDir.z),h.lerp(P,this.node.getPosition(),this._position,t),this.node.setPosition(P),h.scaleAndAdd(this._position,this._position,w,this.moveSpeed*this._speedScale*this.moveDir.x),h.lerp(P,this.node.getPosition(),this._position,t),this.node.setPosition(P),h.scaleAndAdd(this._position,this._position,h.UP,this.moveSpeed*this._speedScale*this.moveDir.y),h.lerp(P,this.node.getPosition(),this._position,t),this.node.setPosition(P)),a.fromEuler(A,this._eulerP.x,this._eulerP.y,this._eulerP.z),a.slerp(A,this.node.rotation,A,t),this.node.setWorldRotationFromEuler(this._eulerP.x,this._eulerP.y,this._eulerP.z)},n.onMouseWheel=function(e){var t=-e.getScrollY()*this.moveSpeed*.1;h.transformQuat(P,h.UNIT_Z,this.node.rotation),h.scaleAndAdd(this._position,this.node.position,P,t)},n.onTouchStart=function(e){_.canvas.requestPointerLock&&_.canvas.requestPointerLock()},n.onTouchMove=function(e){e.getStartLocation(D),D.x,_.canvas.width,e.getDelta(T),this._eulerP.y-=T.x*this.rotateSpeed*.1,this._eulerP.x+=T.y*this.rotateSpeed*.1},n.onTouchEnd=function(e){document.exitPointerLock&&document.exitPointerLock(),e.getStartLocation(D),D.x<.4*_.canvas.width&&(this._velocity.x=0,this._velocity.z=0)},n.onKeyDown=function(e){var t=e.keyCode;t!=l.KEY_A&&t!=l.KEY_S&&t!=l.KEY_D&&t!=l.KEY_W||-1==this.keys.indexOf(t)&&(this.keys.push(t),this.updateDirection()),t==l.KEY_Q?this.moveDir.y=-1:t==l.KEY_E&&(this.moveDir.y=1)},n.onKeyUp=function(e){var t=e.keyCode;if(t==l.KEY_A||t==l.KEY_S||t==l.KEY_D||t==l.KEY_W){var i=this.keys.indexOf(t);-1!=i&&(this.keys.splice(i,1),this.updateDirection())}t!=l.KEY_Q&&t!=l.KEY_E||(this.moveDir.y=0)},n.updateDirection=function(){null==this.key2dirMap&&(this.key2dirMap={},this.key2dirMap[0]=u(0,0),this.key2dirMap[l.KEY_A]=u(-1,0),this.key2dirMap[l.KEY_D]=u(1,0),this.key2dirMap[l.KEY_W]=u(0,1),this.key2dirMap[l.KEY_S]=u(0,-1),this.key2dirMap[1e3*l.KEY_A+l.KEY_W]=this.key2dirMap[1e3*l.KEY_W+l.KEY_A]=u(-1,1),this.key2dirMap[1e3*l.KEY_D+l.KEY_W]=this.key2dirMap[1e3*l.KEY_W+l.KEY_D]=u(1,1),this.key2dirMap[1e3*l.KEY_A+l.KEY_S]=this.key2dirMap[1e3*l.KEY_S+l.KEY_A]=u(-1,-1),this.key2dirMap[1e3*l.KEY_D+l.KEY_S]=this.key2dirMap[1e3*l.KEY_S+l.KEY_D]=u(1,-1),this.key2dirMap[1e3*l.KEY_A+l.KEY_D]=this.key2dirMap[l.KEY_D],this.key2dirMap[1e3*l.KEY_D+l.KEY_A]=this.key2dirMap[l.KEY_A],this.key2dirMap[1e3*l.KEY_W+l.KEY_S]=this.key2dirMap[l.KEY_S],this.key2dirMap[1e3*l.KEY_S+l.KEY_W]=this.key2dirMap[l.KEY_W]);var e=this.keys[this.keys.length-1]||0,t=this.keys[this.keys.length-2]||0,i=this.key2dirMap[1e3*t+e];this.moveDir.x=i.x,this.moveDir.z=i.y},t}(c)).prototype,"moveSpeed",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),f=t(v.prototype,"moveSpeedShiftScale",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),S=t(v.prototype,"damp",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),m=t(v.prototype,"rotateSpeed",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),K=v))||K))}}}));

System.register("bundle://module_basic/_virtual/GameUILayers.ts",[],(function(P){return{execute:function(){var e=P("GameUILayers",function(P){return P[P.GAME=0]="GAME",P[P.JOY_STICK=1]="JOY_STICK",P[P.HUD=2]="HUD",P[P.POPUP=3]="POPUP",P[P.POPUP1=4]="POPUP1",P[P.POPUP2=5]="POPUP2",P[P.ALERT=6]="ALERT",P[P.NOTICE=7]="NOTICE",P[P.LOADING=8]="LOADING",P[P.OVERLAY=9]="OVERLAY",P[P.NUM=10]="NUM",P}(e||{}))}}}));

System.register("bundle://module_basic/_virtual/Layout_DemoList.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,o,i,n,r,a,l,u,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,l=e.Node,u=e.Button,c=e.Component}],execute:function(){var s,p,y,b,f,L,m;r._RF.push({},"45e08fiTaZDk4aWv2YJUByv","Layout_DemoList",void 0);var _=a.ccclass,d=a.property;e("Layout_DemoList",(s=_("Layout_DemoList"),p=d(l),y=d(u),s((L=t((f=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,i(t,"contentRoot",L,n(t)),i(t,"btnClose",m,n(t)),t}return o(t,e),t}(c)).prototype,"contentRoot",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=t(f.prototype,"btnClose",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=f))||b));r._RF.pop()}}}));

System.register("bundle://module_basic/_virtual/Layout_HUD.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,r,i,o,a,l,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.Button,u=e.Component}],execute:function(){var c,s,b,p,y,f,g,_,d;o._RF.push({},"39a54PinEdFeK3Fy7W/PCBC","Layout_HUD",void 0);var D=a.ccclass,h=a.property;e("Layout_UI_HUD",(c=D("Layout_UI_HUD"),s=h(l),b=h(l),p=h(l),c((g=t((f=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,r(t,"btnScenes",g,i(t)),r(t,"btnToggleStats",_,i(t)),r(t,"btnAbout",d,i(t)),t}return n(t,e),t}(u)).prototype,"btnScenes",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(f.prototype,"btnToggleStats",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=t(f.prototype,"btnAbout",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=f))||y));o._RF.pop()}}}));

System.register("bundle://module_basic/_virtual/Layout_UIAlert.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,r,i,l,o,a,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){l=e._decorator,o=e.Label,a=e.Button,u=e.Component}],execute:function(){var c,b,p,s,y,f,g,m,d,z,L,_=l.ccclass,h=l.property;e("Layout_UIAlert",(c=_("tgxLayout_UIAlert"),b=h(o),p=h(o),s=h(a),y=h(a),c((m=t((g=function(e){function t(){for(var t,n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return t=e.call.apply(e,[this].concat(l))||this,r(t,"title",m,i(t)),r(t,"content",d,i(t)),r(t,"btnOK",z,i(t)),r(t,"btnCancel",L,i(t)),t}return n(t,e),t}(u)).prototype,"title",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=t(g.prototype,"content",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(g.prototype,"btnOK",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(g.prototype,"btnCancel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=g))||f))}}}));

System.register("bundle://module_basic/_virtual/Layout_UIWaiting.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,n,r,o,a,l,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e._decorator,a=e.Node,l=e.Label,u=e.Component}],execute:function(){var c,s,p,g,d,y,b,f=o.ccclass,I=o.property;e("Layout_UIWaiting",(c=f("tgxLayout_UIWaiting"),s=I(a),p=I(l),c((y=t((d=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"loadingIcon",y,r(t)),n(t,"loadingTxt",b,r(t)),t}return i(t,e),t}(u)).prototype,"loadingIcon",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=t(d.prototype,"loadingTxt",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=d))||g))}}}));

System.register("bundle://module_basic/_virtual/MainMenuScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResolutionAutoFit.ts","./FPSCamera.ts","./FollowCamera2D.ts","./FreeCamera.ts","./ThirdPersonCamera.ts","./CharacterMovement.ts","./CharacterMovement2D.ts","./EasyController.ts","./ThirdPersonCameraCtrl.ts","./UI_Joystick.ts","./Layout_UIAlert.ts","./UIController.ts","./UIMgr.ts","./Layout_UIWaiting.ts","./UI_DemoList.ts"],(function(t){var n,e,l,r,o,u;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,l=t._decorator,r=t.Component},null,null,null,null,null,null,null,null,null,null,null,null,function(t){o=t.UIMgr},null,function(t){u=t.UI_DemoList}],execute:function(){var s;e._RF.push({},"5c0692AShNGeqpHlUD0//iz","MainMenuScene",void 0);var a=l.ccclass;l.property,t("MainMenuScene",a("MainMenuScene")(s=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var l=e.prototype;return l.start=function(){o.inst.showUI(u)},l.update=function(t){},e}(r))||s);e._RF.pop()}}}));

System.register("bundle://module_basic/_virtual/module_basic",["./MainMenuScene.ts","./UI_Alert_Impl.ts","./Layout_DemoList.ts","./UI_DemoList.ts","./Layout_HUD.ts","./UI_HUD.ts","./Fab_TipsWindow.ts","./UI_TipsWindow.ts","./UI_Waiting_Impl.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("bundle://module_basic/_virtual/ModuleContext.ts",[],(function(t){return{execute:function(){var e="__module__name__",n="resources";t("ModuleContext",function(){function t(){}return t.setDefaultModule=function(t){n=t},t.attachModule=function(t,n){t[e]=n},t.getClassModule=function(t){return t[e]||n},t.attachImplClass=function(t,e){t.__impl__class__=e},t.attachModuleAndImplClass=function(t,n,u){t[e]=n,t.__impl__class__=u},t.getImplClass=function(t){return t.__impl__class__||t},t.createFromModule=function(t){return new(this.getImplClass(t)||t)},t}())}}}));

System.register("bundle://module_basic/_virtual/ModuleDef.ts",[],(function(e){return{execute:function(){var u=e("ModuleDef",(function(){}));u.BASIC="module_basic",u.DEMO_MINI="module_demo_mini"}}}));

System.register("bundle://module_basic/_virtual/ResolutionAutoFit.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,e,o,s,n,l,u;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t._decorator,o=t.screen,s=t.view,n=t.ResolutionPolicy,l=t.size,u=t.Component}],execute:function(){var c,r=e.ccclass;e.property,t("ResolutionAutoFit",r("tgxResolutionAutoFit")(c=function(t){function e(){for(var i,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return(i=t.call.apply(t,[this].concat(o))||this)._oldSize=l(),i.lastCheckTime=0,i}i(e,t);var u=e.prototype;return u.start=function(){this.adjustResolutionPolicy()},u.update=function(t){this.lastCheckTime+=t,this.lastCheckTime<.1||(this.lastCheckTime=0,this.adjustResolutionPolicy())},u.adjustResolutionPolicy=function(){var t=o.windowSize;if(!this._oldSize.equals(t)){var i=t.width/t.height,e=s.getDesignResolutionSize();i>e.width/e.height?s.setResolutionPolicy(n.FIXED_HEIGHT):s.setResolutionPolicy(n.FIXED_WIDTH),this._oldSize.set(t)}},e}(u))||c)}}}));

System.register("bundle://module_basic/_virtual/rollupPluginModLoBabelHelpers.js",[],(function(e){return{execute:function(){function r(e,r){for(var t=0;t<r.length;t++){var i=r[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,n(i.key),i)}}function t(r,i){return(t=e("setPrototypeOf",Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e}))(r,i)}function i(e,r){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}function n(e){var r=i(e,"string");return"symbol"==typeof r?r:String(r)}e({applyDecoratedDescriptor:function(e,r,t,i,n){var o={};Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0);o=t.slice().reverse().reduce((function(t,i){return i(e,r,t)||t}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0);void 0===o.initializer&&(Object.defineProperty(e,r,o),o=null);return o},assertThisInitialized:function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},createClass:function(e,t,i){t&&r(e.prototype,t);i&&r(e,i);return Object.defineProperty(e,"prototype",{writable:!1}),e},inheritsLoose:function(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,t(e,r)},initializerDefineProperty:function(e,r,t,i){if(!t)return;Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})},setPrototypeOf:t,toPrimitive:i,toPropertyKey:n})}}}));

System.register("bundle://module_basic/_virtual/SceneDef.ts",["cc","./ResolutionAutoFit.ts","./FPSCamera.ts","./FollowCamera2D.ts","./FreeCamera.ts","./ThirdPersonCamera.ts","./CharacterMovement.ts","./CharacterMovement2D.ts","./EasyController.ts","./ThirdPersonCameraCtrl.ts","./UI_Joystick.ts","./Layout_UIAlert.ts","./UIController.ts","./UIMgr.ts","./Layout_UIWaiting.ts","./ModuleDef.ts"],(function(n){var e,l,t;return{setters:[function(n){e=n.assetManager,l=n.director},null,null,null,null,null,null,null,null,null,null,null,null,function(n){t=n.UIMgr},null,null],execute:function(){n("SceneUtil",function(){function n(){}return n.loadScene=function(n,u){this.sceneParams=u,e.getBundle(n.bundle)?l.loadScene(n.name,(function(){t.inst.closeAll()})):e.loadBundle(n.bundle,(function(e,u){u&&l.loadScene(n.name,(function(){t.inst.closeAll()}))}))},n}()).sceneParams=void 0}}}));

System.register("bundle://module_basic/_virtual/ThirdPersonCamera.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,n,r,a,o,l,s,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e._decorator,o=e.v3,l=e.Node,s=e.Vec3,u=e.Component}],execute:function(){var h,c,g,f,p,b,m,y,d,_,M,w,z=a.ccclass,A=a.property,v=o(),L=o();e("ThirdPersonCamera",(h=z("tgxThirdPersonCamera"),c=A(l),h((p=t((f=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return t=e.call.apply(e,[this].concat(a))||this,n(t,"target",p,r(t)),n(t,"lookAtOffset",b,r(t)),n(t,"zoomSensitivity",m,r(t)),n(t,"lenMin",y,r(t)),n(t,"lenMax",d,r(t)),n(t,"len",_,r(t)),n(t,"rotateVHSeparately",M,r(t)),n(t,"tweenTime",w,r(t)),t._targetLen=0,t._targetAngles=o(),t}i(t,e);var a=t.prototype;return a.start=function(){this._targetLen=this.len,this._targetAngles.set(this.node.eulerAngles)},a.setLenFactor=function(e){var t=(this.lenMax-this.lenMin)*e+this.lenMin;this._targetLen=t},a.setTargetAngles=function(e,t,i){this._targetAngles.set(e,t,i)},a.lateUpdate=function(e){if(this.target){var t=Math.min(e/this.tweenTime,1);v.set(this.node.eulerAngles),s.lerp(v,v,this._targetAngles,t),this.node.setRotationFromEuler(v),v.set(this.target.worldPosition),v.add(this.lookAtOffset),this.len=this.len*(1-t)+this._targetLen*t,L.set(this.node.forward),L.multiplyScalar(this.len),v.subtract(L),this.node.setPosition(v)}},a.onCameraRotate=function(e,t){var i=this.node.eulerAngles;this.rotateVHSeparately&&(Math.abs(e)>Math.abs(t)?t=0:e=0),this._targetAngles.set(i.x+20*e,i.y+20*t,i.z)},a.onCameraZoom=function(e){this._targetLen+=e*this.zoomSensitivity,this._targetLen<this.lenMin&&(this._targetLen=this.lenMin),this._targetLen>this.lenMax&&(this._targetLen=this.lenMax)},t}(u)).prototype,"target",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=t(f.prototype,"lookAtOffset",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return o()}}),m=t(f.prototype,"zoomSensitivity",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),y=t(f.prototype,"lenMin",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),d=t(f.prototype,"lenMax",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),_=t(f.prototype,"len",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),M=t(f.prototype,"rotateVHSeparately",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w=t(f.prototype,"tweenTime",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),g=f))||g))}}}));

System.register("bundle://module_basic/_virtual/ThirdPersonCameraCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ThirdPersonCamera.ts","./EasyController.ts"],(function(t){var r,e,o,n,s;return{setters:[function(t){r=t.inheritsLoose},function(t){e=t._decorator},function(t){o=t.ThirdPersonCamera},function(t){n=t.EasyController,s=t.EasyControllerEvent}],execute:function(){var a,i=e.ccclass;e.property,t("ThirdPersonCameraCtrl",i("tgxThirdPersonCameraCtrl")(a=function(t){function e(){return t.apply(this,arguments)||this}r(e,t);var o=e.prototype;return o.start=function(){n.on(s.CAMERA_ROTATE,this.onCameraRotate,this),n.on(s.CAMERA_ZOOM,this.onCameraZoom,this),this._targetLen=this.len,this._targetAngles.set(this.node.eulerAngles)},o.onDestroy=function(){n.off(s.CAMERA_ROTATE,this.onCameraRotate,this),n.off(s.CAMERA_ZOOM,this.onCameraZoom,this)},e}(o))||a)}}}));

System.register("bundle://module_basic/_virtual/UI_Alert_Impl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResolutionAutoFit.ts","./ModuleContext.ts","./FPSCamera.ts","./FollowCamera2D.ts","./FreeCamera.ts","./ThirdPersonCamera.ts","./CharacterMovement.ts","./CharacterMovement2D.ts","./EasyController.ts","./ThirdPersonCameraCtrl.ts","./UI_Joystick.ts","./Layout_UIAlert.ts","./UIAlert.ts","./Layout_UIWaiting.ts","./UIController.ts","./UIMgr.ts","./GameUILayers.ts"],(function(t){var l,e,n,r,u,o;return{setters:[function(t){l=t.inheritsLoose},function(t){e=t.cclegacy},null,function(t){n=t.ModuleContext},null,null,null,null,null,null,null,null,null,function(t){r=t.Layout_UIAlert},function(t){u=t.UIAlert},null,null,null,function(t){o=t.GameUILayers}],execute:function(){e._RF.push({},"279a6kba+dDnLuXBr6OXobk","UI_Alert_Impl",void 0);var s=t("UIAlert_Impl",function(t){function e(){return t.call(this,"ui_alert/UI_Alert",o.ALERT,r)||this}return l(e,t),e}(u));n.attachImplClass(u,s),e._RF.pop()}}}));

System.register("bundle://module_basic/_virtual/UI_DemoList.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameUILayers.ts","./Layout_DemoList.ts","./ResolutionAutoFit.ts","./FPSCamera.ts","./FollowCamera2D.ts","./FreeCamera.ts","./ThirdPersonCamera.ts","./CharacterMovement.ts","./CharacterMovement2D.ts","./EasyController.ts","./ThirdPersonCameraCtrl.ts","./UI_Joystick.ts","./Layout_UIAlert.ts","./UIController.ts","./UIMgr.ts","./Layout_UIWaiting.ts","./UIWaiting.ts","./SceneDef.ts"],(function(t){var n,e,o,l,s,i,u,r;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t.Button},function(t){l=t.GameUILayers},function(t){s=t.Layout_DemoList},null,null,null,null,null,null,null,null,null,null,null,function(t){i=t.UIController},null,null,function(t){u=t.UIWaiting},function(t){r=t.SceneUtil}],execute:function(){e._RF.push({},"dddf8fiqTBJha7kRGJwMP4p","UI_DemoList",void 0);var a=[];t("UI_DemoList",function(t){function e(){return t.call(this,"ui_demo_list/UI_DemoList",l.POPUP,s)||this}n(e,t);var i=e.prototype;return i.getRes=function(){return[]},i.onCreated=function(){var t=this,n=this.layout;n.btnClose.node.active=!1,this.onButtonEvent(n.btnClose,(function(){t.close()}));for(var e=0;e<n.contentRoot.children.length;++e){var l=n.contentRoot.children[e].getComponent(o);this.onButtonEvent(l,(function(t,n){n&&(u.show(),console.log("准备进入场景 "+n.entryScene),r.loadScene({name:n.entryScene,bundle:n.bundle}))}),this,a[e])}},i.showCloseBtn=function(){this.layout.btnClose.node.active=!0},e}(i));e._RF.pop()}}}));

System.register("bundle://module_basic/_virtual/UI_HUD.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Layout_HUD.ts","./ResolutionAutoFit.ts","./FPSCamera.ts","./FollowCamera2D.ts","./FreeCamera.ts","./ThirdPersonCamera.ts","./CharacterMovement.ts","./CharacterMovement2D.ts","./EasyController.ts","./ThirdPersonCameraCtrl.ts","./UI_Joystick.ts","./Layout_UIAlert.ts","./UIController.ts","./UIMgr.ts","./Layout_UIWaiting.ts","./GameUILayers.ts","./UIDef.ts","./UI_DemoList.ts"],(function(t){var n,o,e,s,u,i,l,r,a;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t.profiler},function(t){s=t.Layout_UI_HUD},null,null,null,null,null,null,null,null,null,null,null,function(t){u=t.UIController},function(t){i=t.UIMgr},null,function(t){l=t.GameUILayers},function(t){r=t.UI_AboutMe},function(t){a=t.UI_DemoList}],execute:function(){o._RF.push({},"cf355u7sSFJQLZxhgxMsXJq","UI_HUD",void 0);t("UI_HUD",function(t){function o(){return t.call(this,"ui_hud/UI_HUD",l.HUD,s)||this}n(o,t);var u=o.prototype;return u.getRes=function(){return[]},u.onCreated=function(){var t=this.layout;this.onButtonEvent(t.btnScenes,this.onSceneChange,this),this.onButtonEvent(t.btnToggleStats,this.onToggleStats,this),this.onButtonEvent(t.btnAbout,(function(){i.inst.showUI(r)}))},u.onToggleStats=function(){e.isShowingStats()?e.hideStats():e.showStats()},u.onSceneChange=function(){i.inst.showUI(a,(function(t){t.showCloseBtn()}))},u.onDispose=function(){},u.onUpdate=function(){},o}(u));o._RF.pop()}}}));

System.register("bundle://module_basic/_virtual/UI_Joystick.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EasyController.ts"],(function(t){var e,i,o,n,s,h,_,a,r,c,u;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){o=t._decorator,n=t.UITransform,s=t.Input,h=t.KeyCode,_=t.input,a=t.director,r=t.isValid,c=t.Component},function(t){u=t.EasyControllerEvent}],execute:function(){var l,T,E=o.ccclass;o.property,t("UI_Joystick",E("tgxUI_Joystick")(((T=function(t){function o(){for(var e,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];return(e=t.call.apply(t,[this].concat(o))||this)._ctrlRoot=null,e._ctrlPointer=null,e._buttons=null,e._cameraSensitivity=.1,e._distanceOfTwoTouchPoint=0,e._movementTouch=null,e._cameraTouchA=null,e._cameraTouchB=null,e._fullscreen=null,e._scene=null,e._key2buttonMap={},e._keys=[],e._degree=0,e._key2dirMap=null,e}e(o,t);var c=o.prototype;return c.onLoad=function(){o._inst=this},c.start=function(){var t=this.node.getChildByName("checker_camera").getComponent(n);t.node.on(s.EventType.TOUCH_START,this.onTouchStart_CameraCtrl,this),t.node.on(s.EventType.TOUCH_MOVE,this.onTouchMove_CameraCtrl,this),t.node.on(s.EventType.TOUCH_END,this.onTouchUp_CameraCtrl,this),t.node.on(s.EventType.TOUCH_CANCEL,this.onTouchUp_CameraCtrl,this);var e=this.node.getChildByName("checker_movement").getComponent(n);e.node.on(s.EventType.TOUCH_START,this.onTouchStart_Movement,this),e.node.on(s.EventType.TOUCH_MOVE,this.onTouchMove_Movement,this),e.node.on(s.EventType.TOUCH_END,this.onTouchUp_Movement,this),e.node.on(s.EventType.TOUCH_CANCEL,this.onTouchUp_Movement,this),this._fullscreen=this.node.getComponent(n),this._ctrlRoot=this.node.getChildByName("ctrl").getComponent(n),this._ctrlRoot.node.active=!1,this._ctrlPointer=this._ctrlRoot.node.getChildByName("pointer"),this._buttons=this.node.getChildByName("buttons"),this._key2buttonMap[h.KEY_J]="btn_slot_0",this._key2buttonMap[h.KEY_K]="btn_slot_1",this._key2buttonMap[h.KEY_L]="btn_slot_2",this._key2buttonMap[h.KEY_U]="btn_slot_3",this._key2buttonMap[h.KEY_I]="btn_slot_4",_.on(s.EventType.KEY_DOWN,this.onKeyDown,this),_.on(s.EventType.KEY_UP,this.onKeyUp,this),_.on(s.EventType.MOUSE_WHEEL,this.onMouseWheel,this),this._scene=a.getScene()},c.onDestroy=function(){_.off(s.EventType.KEY_DOWN,this.onKeyDown,this),_.off(s.EventType.KEY_UP,this.onKeyUp,this),_.off(s.EventType.MOUSE_WHEEL,this.onMouseWheel,this),this._scene=null,o._inst=null},c.bindKeyToButton=function(t,e){this._key2buttonMap[t]=e},c.setButtonVisible=function(t,e){var i,o=null==(i=this._buttons)?void 0:i.getChildByName(t);o&&(o.active=e)},c.getButtonByName=function(t){return this._buttons.getChildByName(t)},c.onTouchStart_Movement=function(t){for(var e=t.getTouches(),i=0;i<e.length;++i){var o=e[i],n=o.getUILocationX(),s=o.getUILocationY();if(!this._movementTouch){var h=this._fullscreen.width/2,_=this._fullscreen.height/2;this._ctrlRoot.node.active=!0,this._ctrlRoot.node.setPosition(n-h,s-_,0),this._ctrlPointer.setPosition(0,0,0),this._movementTouch=o}}},c.onTouchMove_Movement=function(t){for(var e=t.getTouches(),i=0;i<e.length;++i){var o=e[i];if(this._movementTouch&&o.getID()==this._movementTouch.getID()){var n=this._fullscreen.width/2,s=this._fullscreen.height/2,h=o.getUILocationX(),_=o.getUILocationY(),a=this._ctrlRoot.node.position,r=h-n-a.x,c=_-s-a.y,l=Math.sqrt(r*r+c*c);if(l<=0)return;var T=r/l,E=c/l,m=this._ctrlRoot.width/2;l>m&&(l=m,r=T*m,c=E*m),this._ctrlPointer.setPosition(r,c,0);var v=Math.atan(E/T)/Math.PI*180;v+=T<0?180:360,this.emitEvent(u.MOVEMENT,v,l/m)}}},c.onTouchUp_Movement=function(t){for(var e=t.getTouches(),i=0;i<e.length;++i){var o=e[i];this._movementTouch&&o.getID()==this._movementTouch.getID()&&(this.emitEvent(u.MOVEMENT_STOP),this._movementTouch=null,this._ctrlRoot.node.active=!1)}},c.getDistOfTwoTouchPoints=function(){var t=this._cameraTouchA,e=this._cameraTouchB;if(!t||!e)return 0;var i=t.getLocationX()-e.getLocationX(),o=e.getLocationY()-e.getLocationY();return Math.sqrt(i*i+o*o)},c.onTouchStart_CameraCtrl=function(t){var e=t.getAllTouches();this._cameraTouchA=null,this._cameraTouchB=null;for(var i=e.length-1;i>=0;i--){var o=e[i];if(!this._movementTouch||o.getID()!=this._movementTouch.getID())if(null==this._cameraTouchA)this._cameraTouchA=e[i];else if(null==this._cameraTouchB){this._cameraTouchB=e[i];break}}this._distanceOfTwoTouchPoint=this.getDistOfTwoTouchPoints()},c.onTouchMove_CameraCtrl=function(t){for(var e=t.getTouches(),i=0;i<e.length;++i){var o=e[i],n=o.getID();if(this._cameraTouchA&&this._cameraTouchB){console.log(n,this._cameraTouchA.getID(),this._cameraTouchB.getID());var s=!1;if(n==this._cameraTouchA.getID()&&(this._cameraTouchA=o,s=!0),n==this._cameraTouchB.getID()&&(this._cameraTouchB=o,s=!0),s){var h=this.getDistOfTwoTouchPoints(),_=this._distanceOfTwoTouchPoint-h;this.emitEvent(u.CAMERA_ZOOM,_),this._distanceOfTwoTouchPoint=h}}else if(this._cameraTouchA&&n==this._cameraTouchA.getID()){var a=o.getDelta(),r=a.y*this._cameraSensitivity,c=-a.x*this._cameraSensitivity;this.emitEvent(u.CAMERA_ROTATE,r,c)}}},c.onTouchUp_CameraCtrl=function(t){for(var e=t.getAllTouches(),i=!1,o=!1,n=0;n<e.length;++n){var s=e[n].getID();this._cameraTouchA&&s==this._cameraTouchA.getID()?i=!0:this._cameraTouchB&&s==this._cameraTouchB.getID()&&(o=!0)}i||(this._cameraTouchA=null),o||(this._cameraTouchB=null)},c.onKeyDown=function(t){var e=t.keyCode;if(e==h.KEY_A||e==h.KEY_S||e==h.KEY_D||e==h.KEY_W)-1==this._keys.indexOf(e)&&(this._keys.push(e),this.updateDirection());else{var i=this._key2buttonMap[e];i&&this.emitEvent(u.BUTTON,i)}},c.onKeyUp=function(t){var e=t.keyCode;if(e==h.KEY_A||e==h.KEY_S||e==h.KEY_D||e==h.KEY_W){var i=this._keys.indexOf(e);-1!=i&&(this._keys.splice(i,1),this.updateDirection())}},c.onMouseWheel=function(t){var e=.1*t.getScrollY();this.emitEvent(u.CAMERA_ZOOM,e)},c.onButtonSlot=function(t){var e=t.target.name;this.emitEvent(u.BUTTON,e)},c.updateDirection=function(){null==this._key2dirMap&&(this._key2dirMap={},this._key2dirMap[0]=-1,this._key2dirMap[h.KEY_A]=180,this._key2dirMap[h.KEY_D]=0,this._key2dirMap[h.KEY_W]=90,this._key2dirMap[h.KEY_S]=270,this._key2dirMap[1e3*h.KEY_A+h.KEY_W]=this._key2dirMap[1e3*h.KEY_W+h.KEY_A]=135,this._key2dirMap[1e3*h.KEY_D+h.KEY_W]=this._key2dirMap[1e3*h.KEY_W+h.KEY_D]=45,this._key2dirMap[1e3*h.KEY_A+h.KEY_S]=this._key2dirMap[1e3*h.KEY_S+h.KEY_A]=225,this._key2dirMap[1e3*h.KEY_D+h.KEY_S]=this._key2dirMap[1e3*h.KEY_S+h.KEY_D]=315,this._key2dirMap[1e3*h.KEY_A+h.KEY_D]=this._key2dirMap[h.KEY_D],this._key2dirMap[1e3*h.KEY_D+h.KEY_A]=this._key2dirMap[h.KEY_A],this._key2dirMap[1e3*h.KEY_W+h.KEY_S]=this._key2dirMap[h.KEY_S],this._key2dirMap[1e3*h.KEY_S+h.KEY_W]=this._key2dirMap[h.KEY_W]);var t=this._keys[this._keys.length-1]||0,e=this._keys[this._keys.length-2]||0;this._degree=this._key2dirMap[1e3*e+t],null==this._degree||this._degree<0?this.emitEvent(u.MOVEMENT_STOP):this.emitEvent(u.MOVEMENT,this._degree,1)},c.emitEvent=function(t,e,i,o,n,s){r(this._scene)?this._scene.emit(t,e,i,o,n,s):console.log("oops!")},i(o,null,[{key:"inst",get:function(){return this._inst}}]),o}(c))._inst=null,l=T))||l)}}}));

System.register("bundle://module_basic/_virtual/UI_TipsWindow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResolutionAutoFit.ts","./FPSCamera.ts","./FollowCamera2D.ts","./FreeCamera.ts","./ThirdPersonCamera.ts","./CharacterMovement.ts","./CharacterMovement2D.ts","./EasyController.ts","./ThirdPersonCameraCtrl.ts","./UI_Joystick.ts","./Layout_UIAlert.ts","./UIController.ts","./UIMgr.ts","./Layout_UIWaiting.ts","./Fab_TipsWindow.ts","./GameUILayers.ts","./ModuleDef.ts"],(function(n){var t,o,e,l,i,s,u,r,a,c;return{setters:[function(n){t=n.inheritsLoose},function(n){o=n.cclegacy,e=n._decorator,l=n.Vec3,i=n.tween},null,null,null,null,null,null,null,null,null,null,null,function(n){s=n.UIController},function(n){u=n.UIMgr},null,function(n){r=n.Fab_TipsWindow},function(n){a=n.GameUILayers},function(n){c=n.ModuleDef}],execute:function(){var d;o._RF.push({},"05debguwmNKbalitAD2/4Gy","UI_TipsWindow",void 0);var f=e.ccclass,p=(e.property,null);n("UI_TipsWindow",f("UI_TipsWindow")(d=function(n){function o(){return n.call(this,"ui_tips/UI_TipsWindow",a.POPUP,r)||this}t(o,n);var e=o.prototype;return e.getRes=function(){return[]},o.show=function(n){return p||(o.__module__name__=c.BASIC,p=u.inst.showUI(o,(function(t){t.openUICall(n)}))),p},o.hide=function(){p&&(p.close(),p=null)},e.onDispose=function(){p=null},e.onCreated=function(){var n=this,t=this.layout;this.onButtonEvent(t.BtnLeave,(function(){n.close()}));var o=t.label.node.parent;o.setPosition(new l(0,-120,0)),i(o).to(.3,{position:new l(0,100,0)}).delay(2).call((function(){n.close()})).start()},e.openUICall=function(n){this.layout.label.string=n},o}(s))||d);o._RF.pop()}}}));

System.register("bundle://module_basic/_virtual/UI_Waiting_Impl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResolutionAutoFit.ts","./ModuleContext.ts","./FPSCamera.ts","./FollowCamera2D.ts","./FreeCamera.ts","./ThirdPersonCamera.ts","./CharacterMovement.ts","./CharacterMovement2D.ts","./EasyController.ts","./ThirdPersonCameraCtrl.ts","./UI_Joystick.ts","./Layout_UIAlert.ts","./UIController.ts","./UIMgr.ts","./Layout_UIWaiting.ts","./UIWaiting.ts","./GameUILayers.ts"],(function(t){var n,l,e,i,a,u;return{setters:[function(t){n=t.inheritsLoose},function(t){l=t.cclegacy},null,function(t){e=t.ModuleContext},null,null,null,null,null,null,null,null,null,null,null,null,function(t){i=t.Layout_UIWaiting},function(t){a=t.UIWaiting},function(t){u=t.GameUILayers}],execute:function(){l._RF.push({},"0f225BQCHtD2Z1AvkxeFlyk","UI_Waiting_Impl",void 0);var o=t("UIWaiting_Impl",function(t){function l(){return t.call(this,"ui_waiting/UI_Waiting",u.LOADING,i)||this}return n(l,t),l}(a));e.attachImplClass(a,o),l._RF.pop()}}}));

System.register("bundle://module_basic/_virtual/UIAlert.ts",["./rollupPluginModLoBabelHelpers.js","./UIController.ts","./UIMgr.ts"],(function(t){var n,i,o;return{setters:[function(t){n=t.inheritsLoose},function(t){i=t.UIController},function(t){o=t.UIMgr}],execute:function(){var e=t("UIAlertOptions",function(){function t(){this._title=void 0,this._content=void 0,this._showCancel=void 0,this._cbClick=void 0,this._cbClickThisArg=void 0}var n=t.prototype;return n.setTitle=function(t){return this._title=t,this},n.onClick=function(t,n){return this._cbClick=t,this._cbClickThisArg=n,this},t}());t("UIAlert",function(t){function i(){for(var n,i=arguments.length,o=new Array(i),e=0;e<i;e++)o[e]=arguments[e];return(n=t.call.apply(t,[this].concat(o))||this)._options=void 0,n}n(i,t),i.show=function(t,n){var c=new e;return c._content=t,c._showCancel=n,o.inst.showUI(i,(function(t){t.init(c)})),c};var c=i.prototype;return c.init=function(t){this._options=t;var n=this._options,i=this.layout;if(n.hasOwnProperty("title")&&(i.title.string=n._title||""),i.content.string=n._content||"",i.btnCancel.node.active=n._showCancel,!n._showCancel){var o=i.btnOK.node.position;i.btnOK.node.setPosition(0,o.y,o.z)}},c.onCreated=function(){var t=this,n=this.layout;this.onButtonEvent(n.btnOK,(function(){t.close();var n=t._options;n._cbClick&&n._cbClick.call(n._cbClickThisArg,!0)})),this.onButtonEvent(n.btnCancel,(function(){t.close();var n=t._options;n._cbClick&&n._cbClick.call(n._cbClickThisArg,!1)}))},i}(i))}}}));

System.register("bundle://module_basic/_virtual/UIController.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,e,o,r,s,i,a,l,c,u,d,f,h;return{setters:[function(t){n=t.inheritsLoose,e=t.assertThisInitialized,o=t.createClass},function(t){r=t._decorator,s=t.Button,i=t.Component,a=t.isValid,l=t.Node,c=t.find,u=t.EventHandler,d=t.Toggle,f=t.ToggleContainer,h=t.game}],execute:function(){var v,g=r.ccclass,p=(r.property,t("__NodeEventAgent__",g("tgxNodeEventAgent")(v=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var o=e.prototype;return o.onButtonClicked=function(t,n){for(var e=t.target.getComponent(s),o=e.clickEvents,r=0;r<o.length;++r){var i=o[r];if(i.customEventData==n){var a=i.$cb$,l=i.$target$,c=i.$args$;a.apply(l,[e,c])}}},o.onToggleEvent=function(t,n){for(var e=t.checkEvents,o=0;o<e.length;++o){var r=e[o];if(r.customEventData==n){var s=r.$cb$,i=r.$target$,a=r.$args$;s.apply(i,[t,a])}}},e}(i))||v)),_=t("AutoEventHandler",function(){function t(){this._handlers=[]}var n=t.prototype;return n.on=function(t,n,e,o){this._handlers.push({event:t,cb:n,target:e,once:o}),h.on(t,n,e,o)},n.off=function(t,n,e,o){h.off(t,n,e);for(var r=0;r<this._handlers.length;++r){var s=this._handlers[r];if(s.event==t&&s.cb==n&&s.target==e&&s.once==o)return void this._handlers.splice(r,1)}},n.dispose=function(){for(var t=0;t<this._handlers.length;++t){var n=this._handlers[t];h.off(n.event,n.cb,n.target)}},t}()),$=t("UIController",function(t){function r(n,o,s){var i;return(i=t.call(this)||this)._instId=0,i._prefab=void 0,i._layer=void 0,i._layout=void 0,i.node=void 0,i._destroyed=!1,i._prefab=n,i._layer=o,i._layout=s,i._instId=r._idBase++,r._controllers.push(e(i)),i}n(r,t),r.closeAll=function(){for(;this._controllers.length;)this._controllers[0].close()},r.updateAll=function(t){for(var n=0;n<this._controllers.length;++n){var e=this._controllers[n];e.node&&a(e.node)&&this._controllers[n].onUpdate(t)}};var i=r.prototype;return i.setup=function(t){this.node=t,this._layout&&(this._layout=this.node.getComponent(this._layout)),this.onCreated(),this._destroyed&&this.close()},i.close=function(){if(this._destroyed=!0,this.node){this.node.removeFromParent();for(var t=0;t<r._controllers.length;++t)if(r._controllers[t]==this){r._controllers.splice(t,1);break}this.dispose(),this.onDispose(),this.node.destroy(),this.node=null}},i.onButtonEvent=function(t,n,e,o){var i=null;if(!(i=t instanceof l?t:t instanceof s?t.node:c(t,this.node)))return null;var a=this.node.getComponent(p);a||(a=this.node.addComponent(p));var d=i.getComponent(s),f=d.clickEvents,h=new u;h.target=this.node,h.component="tgxNodeEventAgent",h.handler="onButtonClicked",h.customEventData=""+r._idBase++,h.$cb$=n,h.$target$=e,h.$args$=o,f.push(h),d.clickEvents=f},i.offButtonEvent=function(t,n,e){var o=null;if((o=t instanceof l?t:t instanceof s?t.node:c(t,this.node))&&this.node.getComponent(p)){var r=o.getComponent(s);if(r)for(var i=r.clickEvents,a=0;a<i.length;++a){var u=i[a];if(u.$cb$==n&&u.$target$==e){i.splice(a,1),r.clickEvents=i;break}}}},i.onToggleEvent=function(t,n,e,o){var s=null;if(!(s=t instanceof l?t:t instanceof d||t instanceof f?t.node:c(t,this.node)))return null;var i=this.node.getComponent(p);i||(i=this.node.addComponent(p));var a=s.getComponent(d);a||(a=s.getComponent(f));var h=a.checkEvents,v=new u;v.target=this.node,v.component="tgxNodeEventAgent",v.handler="onToggleEvent",v.customEventData=""+r._idBase++,v.$cb$=n,v.$target$=e,v.$args$=o,h.push(v),a.checkEvents=h},i.offToggleEvent=function(t,n,e){var o=null;if(!(o=t instanceof l?t:t instanceof d||t instanceof f?t.node:c(t,this.node)))return null;if(this.node.getComponent(p)){var r=o.getComponent(d);r||(r=o.getComponent(f));for(var s=r.checkEvents,i=0;i<s.length;++i){var a=s[i];if(a.$cb$==n&&a.$target$==e){s.splice(i,1),r.checkEvents=s;break}}}},i.getRes=function(){return[]},i.onCreated=function(){},i.onDispose=function(){},i.onUpdate=function(t){},o(r,[{key:"instId",get:function(){return this._instId}},{key:"prefab",get:function(){return this._prefab}},{key:"layer",get:function(){return this._layer}},{key:"layout",get:function(){return this._layout}}]),r}(_));$._idBase=1e3,$._controllers=[]}}}));

System.register("bundle://module_basic/_virtual/UIDef.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResolutionAutoFit.ts","./FPSCamera.ts","./FollowCamera2D.ts","./FreeCamera.ts","./ThirdPersonCamera.ts","./CharacterMovement.ts","./CharacterMovement2D.ts","./EasyController.ts","./ThirdPersonCameraCtrl.ts","./UI_Joystick.ts","./Layout_UIAlert.ts","./UIController.ts","./UIMgr.ts","./Layout_UIWaiting.ts"],(function(t){var l,n;return{setters:[function(t){l=t.inheritsLoose},null,null,null,null,null,null,null,null,null,null,null,null,function(t){n=t.UIController},null,null],execute:function(){t("UI_AboutMe",function(t){function n(){return t.apply(this,arguments)||this}return l(n,t),n}(n))}}}));

System.register("bundle://module_basic/_virtual/UIMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIController.ts","./ModuleContext.ts","./ResolutionAutoFit.ts"],(function(t){var e,n,o,i,r,s,a,u,l,d,c,h,f,g;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){o=t._decorator,i=t.Component,r=t.UITransform,s=t.Node,a=t.Widget,u=t.error,l=t.instantiate,d=t.director,c=t.assetManager},function(t){h=t.UIController},function(t){f=t.ModuleContext},function(t){g=t.ResolutionAutoFit}],execute:function(){var p,v=o.ccclass,C=(o.property,v("tgxUIMgr.UIUpdater")(p=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype.update=function(t){h.updateAll(t)},n}(i))||p);t("UIMgr",function(){function t(){this._uiCanvas=void 0,this._uiRoot=void 0}var e=t.prototype;return e.createFullScreenNode=function(){var t=this._uiCanvas.getComponent(r),e=new s;e.layer=this._uiCanvas.layer;var n=e.addComponent(r);n.width=t.width,n.height=t.height;var o=e.addComponent(a);return o.isAlignBottom=!0,o.isAlignTop=!0,o.isAlignLeft=!0,o.isAlignRight=!0,o.left=0,o.right=0,o.top=0,o.bottom=0,e},e.setup=function(t,e,n){if(!this._uiCanvas){if(!t)throw u("uiCanvas must be a Node or Prefab");t instanceof s?this._uiCanvas=t:(this._uiCanvas=l(t),d.getScene().addChild(this._uiCanvas)),this._uiCanvas.name="$tgxUICanvas$",d.addPersistRootNode(this._uiCanvas),this._uiCanvas.getComponent(C)||this._uiCanvas.addComponent(C);var o=this._uiCanvas.getComponent(r);this._uiCanvas.addComponent(g),n||(n=[]),this._uiRoot=this.createFullScreenNode(),this._uiRoot.name="ui_root",o.node.addChild(this._uiRoot);for(var i=0;i<e;++i){var a=this.createFullScreenNode();a.name="ui_layer_"+(n[i]?n[i]:i),this._uiRoot.addChild(a)}}},e.getLayerNode=function(t){return this._uiRoot.children[t]||this._uiRoot},e.getuiRootNode=function(t){return this._uiRoot},e.closeAll=function(){h.closeAll()},e.getUI=function(t){for(var e=h._controllers,n=0;n<e.length;++n){var o=e[n];if(o instanceof t)return o}return null},e.isShowing=function(t){for(var e=h._controllers,n=0;n<e.length;++n)if(e[n]instanceof t)return!0;return!1},e.showUI=function(e,n,o){var i=this,r=f.getClassModule(e);if(r&&!c.getBundle(r))return void c.loadBundle(r,null,(function(t,r){t?console.log(t):i.showUI(e,n,o)}));var s=f.createFromModule(e),a=s.getRes()||[];"string"==typeof s.prefab&&a.push(s.prefab);return r=r||"resources",function(e){return e.load(a,(function(r,a){r&&console.log(r);var u=null,d=s.prefab;"string"==typeof s.prefab&&(d=e.get(s.prefab)),u=d?l(d):i.createFullScreenNode(),t.inst.getLayerNode(s.layer).addChild(u),s.setup(u),n&&n.apply(o,[s])})),s}(c.getBundle(r))},n(t,null,[{key:"inst",get:function(){return null==this._inst&&(this._inst=new t),this._inst}}]),t}())._inst=void 0}}}));

System.register("bundle://module_basic/_virtual/UIWaiting.ts",["./rollupPluginModLoBabelHelpers.js","./UIController.ts","./UIMgr.ts"],(function(n){var t,o,e;return{setters:[function(n){t=n.inheritsLoose},function(n){o=n.UIController},function(n){e=n.UIMgr}],execute:function(){var r=[".","..","..."],i=null;n("UIWaiting",function(n){function o(){for(var t,o=arguments.length,e=new Array(o),r=0;r<o;r++)e[r]=arguments[r];return(t=n.call.apply(n,[this].concat(e))||this)._contentStr="Loading",t}t(o,n);var l=o.prototype;return l.onCreated=function(){},o.show=function(n){return i||(i=e.inst.showUI(o)),i._contentStr=n||"Loading",i},o.hide=function(){i&&(i.close(),i=null)},l.onUpdate=function(){var n=this.layout;if(n.loadingIcon){var t=n.loadingIcon.eulerAngles,o=Date.now()/1e3*90;n.loadingIcon.setRotationFromEuler(t.x,t.y,o)}if(n.loadingTxt){var e=Math.floor(Date.now()/500)%3;n.loadingTxt.string=this._contentStr+r[e]}},l.onDispose=function(){i=null},o}(o))}}}));

(function(r) {
  r('virtual:///prerequisite-imports/module_basic', 'bundle://module_basic/_virtual/module_basic'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});